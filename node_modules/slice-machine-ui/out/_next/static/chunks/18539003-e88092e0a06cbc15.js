"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{71463:function(t,n,r){r.d(n,{k:function(){return esa}});var i,o,a,u,s,c=r(2784),l=r(58738),f=r(28316),d=Object.defineProperty,p=(t,n,r)=>n in t?d(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,h=(t,n,r)=>(p(t,"symbol"!=typeof n?n+"":n,r),r),m="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{};function g(t){if(t.__esModule)return t;var n=t.default;if("function"==typeof n){var r=function t(){if(this instanceof t){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(n,r))}return n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var y,v={},b={get exports(){return v},set exports(e){v=e}},x={};(y=b).exports=function(){if(zv)return x;zv=1;var t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(n,a,u){var s,c={},l=null,f=null;for(s in void 0!==u&&(l=""+u),void 0!==a.key&&(l=""+a.key),void 0!==a.ref&&(f=a.ref),a)r.call(a,s)&&!o.hasOwnProperty(s)&&(c[s]=a[s]);if(n&&n.defaultProps)for(s in a=n.defaultProps)void 0===c[s]&&(c[s]=a[s]);return{$$typeof:t,type:n,key:l,ref:f,props:c,_owner:i.current}}return x.Fragment=n,x.jsx=a,x.jsxs=a,x}();var _=function(t){return function(){return{meet:function(n,r){return function(i){return t.meet(n(i),r(i))}},join:function(n,r){return function(i){return t.join(n(i),r(i))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(n,r){return function(i){return t.implies(n(i),r(i))}},not:function(n){return function(r){return t.not(n(r))}}}}},S=function(t){return function(){return{concat:function(n,r){return function(i){return t.concat(n(i),r(i))}}}}},T=function(t){var n=S(t);return function(){return{concat:n().concat,empty:function(){return t.empty}}}},w=function(t){return{add:function(n,r){return function(i){return t.add(n(i),r(i))}},zero:function(){return t.zero},mul:function(n,r){return function(i){return t.mul(n(i),r(i))}},one:function(){return t.one}}},O=function(t){var n=w(t);return{add:n.add,mul:n.mul,one:n.one,zero:n.zero,sub:function(n,r){return function(i){return t.sub(n(i),r(i))}}}},I=function(t){return function(n){return n(t)}};function k(t){return t}function M(t){return function(){return t}}var C=M(!0),R=M(!1),E=M(null),A=M(void 0);function j(t,n,r,i,o,a,u,s,c){switch(arguments.length){case 1:return t;case 2:return function(){return n(t.apply(this,arguments))};case 3:return function(){return r(n(t.apply(this,arguments)))};case 4:return function(){return i(r(n(t.apply(this,arguments))))};case 5:return function(){return o(i(r(n(t.apply(this,arguments)))))};case 6:return function(){return a(o(i(r(n(t.apply(this,arguments))))))};case 7:return function(){return u(a(o(i(r(n(t.apply(this,arguments)))))))};case 8:return function(){return s(u(a(o(i(r(n(t.apply(this,arguments))))))))};case 9:return function(){return c(s(u(a(o(i(r(n(t.apply(this,arguments)))))))))}}}function N(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t}function P(t){return t+1}function F(t){return t-1}function L(t){throw Error("Called `absurd` function which should be uncallable")}function D(t,n,r,i,o,a,u,s,c){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return r(n(t));case 4:return i(r(n(t)));case 5:return o(i(r(n(t))));case 6:return a(o(i(r(n(t)))));case 7:return u(a(o(i(r(n(t))))));case 8:return s(u(a(o(i(r(n(t)))))));case 9:return c(s(u(a(o(i(r(n(t))))))));default:for(var l=arguments[0],f=1;f<arguments.length;f++)l=arguments[f](l);return l}}var W=function(t,n){return n},U=function(){return{concat:function(t,n){return j(t,n)},empty:k}};let z=Object.freeze(Object.defineProperty({__proto__:null,SK:W,absurd:L,apply:I,constFalse:R,constNull:E,constTrue:C,constUndefined:A,constVoid:A,constant:M,decrement:F,flip:function(t){return function(n,r){return t(r,n)}},flow:j,getBooleanAlgebra:_,getEndomorphismMonoid:U,getMonoid:T,getRing:O,getSemigroup:S,getSemiring:w,hole:L,identity:k,increment:P,not:function(t){return function(n){return!t(n)}},pipe:D,tuple:N,tupled:function(t){return function(n){return t.apply(void 0,n)}},unsafeCoerce:k,untupled:function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(n)}}},Symbol.toStringTag,{value:"Module"}));var B=function(t){return{equals:function(n,r){return n===r||t(n,r)}}},q=function(t){return B(function(n,r){for(var i in t)if(!t[i].equals(n[i],r[i]))return!1;return!0})},K=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return B(function(n,r){return t.every(function(t,i){return t.equals(n[i],r[i])})})},$=function(t){return function(n){return B(function(r,i){return n.equals(t(r),t(i))})}},V={equals:function(t,n){return t===n}},H={equals:function(){return!0}},Z=function(){return{concat:function(t,n){return B(function(r,i){return t.equals(r,i)&&n.equals(r,i)})}}},J=function(){return{concat:Z().concat,empty:H}},G={URI:"Eq",contramap:function(t,n){return D(t,$(n))}},Y=V.equals;let Q=Object.freeze(Object.defineProperty({__proto__:null,Contravariant:G,URI:"Eq",contramap:$,eq:G,eqBoolean:V,eqDate:{equals:function(t,n){return t.valueOf()===n.valueOf()}},eqNumber:V,eqStrict:V,eqString:V,fromEquals:B,getMonoid:J,getSemigroup:Z,getStructEq:q,getTupleEq:K,strictEqual:Y,struct:q,tuple:K},Symbol.toStringTag,{value:"Module"}));function X(t,n){return function(r){return function(i){return t.map(i,function(t){return n.map(t,r)})}}}function ee(t){return function(n){return function(r){return t.map(r,function(t){return t(n)})}}}function et(t){return function(n){return function(r){return t.map(r,function(t){var r;return(r={})[n]=t,r})}}}function en(t,n){var r=X(t,n);return{map:function(t,n){return D(t,r(n))}}}let er=Object.freeze(Object.defineProperty({__proto__:null,bindTo:et,flap:ee,getFunctorComposition:en,map:X},Symbol.toStringTag,{value:"Module"}));var ei=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},eo=function(t){return"None"===t._tag},ea=function(t){return"Some"===t._tag},eu={_tag:"None"},es=function(t){return{_tag:"Some",value:t}},ec=function(t){return"Left"===t._tag},el=function(t){return"Right"===t._tag},ef=function(t){return{_tag:"Left",left:t}},ed=function(t){return{_tag:"Right",right:t}},ep=function(t){return[t]},eh=function(t){return t.length>0},em=function(t){return t[0]},eg=function(t){return t.slice(1)},ey=[],ev={},eb=Object.prototype.hasOwnProperty,ex=function(t){return ei([t[0]],t.slice(1),!0)},e_=function(t,n){return{left:t,right:n}},eS=function(t,n){return D(t,eO(n))},eT=function(t,n,r){return D(t,eI(n,r))},ew=function(t){return function(n){return e_(eR(n),t(eE(n)))}},eO=function(t){return function(n){return e_(t(eR(n)),eE(n))}},eI=function(t,n){return function(r){return e_(t(eR(r)),n(eE(r)))}},ek="Separated",eM={URI:ek,map:function(t,n){return D(t,ew(n))}},eC=ee(eM),eR=function(t){return t.left},eE=function(t){return t.right};let eA=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:ek,mapLeft:eS,bimap:eT},Functor:eM,URI:ek,bimap:eI,flap:eC,left:eR,map:ew,mapLeft:eO,right:eE,separated:e_},Symbol.toStringTag,{value:"Module"}));function ej(t,n){return function(r){return function(i){return t.ap(t.map(i,function(t){return function(r){return n.ap(t,r)}}),r)}}}function eN(t){return function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}}}function eP(t){return function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}}function eF(t){return function(n,r){return function(i){return t.ap(t.map(i,function(t){return function(r){var i;return Object.assign({},t,((i={})[n]=r,i))}}),r)}}}function eL(t){return function(n){return{concat:function(r,i){return t.ap(t.map(r,function(t){return function(r){return n.concat(t,r)}}),i)}}}}function eD(t,n,r){return function(i){for(var o=Array(r.length+1),a=0;a<r.length;a++)o[a]=r[a];return o[r.length]=i,0===n?t.apply(null,o):eD(t,n-1,o)}}var eW={1:function(t){return[t]},2:function(t){return function(n){return[t,n]}},3:function(t){return function(n){return function(r){return[t,n,r]}}},4:function(t){return function(n){return function(r){return function(i){return[t,n,r,i]}}}},5:function(t){return function(n){return function(r){return function(i){return function(o){return[t,n,r,i,o]}}}}}};function eU(t){return eb.call(eW,t)||(eW[t]=eD(N,t-1,[])),eW[t]}function ez(t){var n=t.length;switch(n){case 1:return function(n){var r;return(r={})[t[0]]=n,r};case 2:return function(n){return function(r){var i;return(i={})[t[0]]=n,i[t[1]]=r,i}};case 3:return function(n){return function(r){return function(i){var o;return(o={})[t[0]]=n,o[t[1]]=r,o[t[2]]=i,o}}};case 4:return function(n){return function(r){return function(i){return function(o){var a;return(a={})[t[0]]=n,a[t[1]]=r,a[t[2]]=i,a[t[3]]=o,a}}}};case 5:return function(n){return function(r){return function(i){return function(o){return function(a){var u;return(u={})[t[0]]=n,u[t[1]]=r,u[t[2]]=i,u[t[3]]=o,u[t[4]]=a,u}}}}};default:return eD(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o={},a=0;a<n;a++)o[t[a]]=r[a];return o},n-1,[])}}let eB=Object.freeze(Object.defineProperty({__proto__:null,ap:ej,apFirst:eN,apS:eF,apSecond:eP,getApplySemigroup:eL,sequenceS:function(t){return function(n){for(var r=Object.keys(n),i=r.length,o=ez(r),a=t.map(n[r[0]],o),u=1;u<i;u++)a=t.ap(a,n[r[u]]);return a}},sequenceT:function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=n.length,o=eU(i),a=t.map(n[0],o),u=1;u<i;u++)a=t.ap(a,n[u]);return a}}},Symbol.toStringTag,{value:"Module"}));function eq(t){return function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}}}function eK(t){return function(n,r){return function(i){return t.chain(i,function(i){return t.map(r(i),function(t){var r;return Object.assign({},i,((r={})[n]=t,r))})})}}}let e$=Object.freeze(Object.defineProperty({__proto__:null,bind:eK,chainFirst:eq},Symbol.toStringTag,{value:"Module"}));var eV=function(t){return function(n,r){return n===r||0===t(n,r)}},eH=function(t){return{equals:eV(t),compare:function(n,r){return n===r?0:t(n,r)}}},eZ=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return eH(function(n,r){for(var i=0;i<t.length-1;i++){var o=t[i].compare(n[i],r[i]);if(0!==o)return o}return t[i].compare(n[i],r[i])})},eJ=function(t){return eH(function(n,r){return t.compare(r,n)})},eG=function(t){return function(n){return eH(function(r,i){return n.compare(t(r),t(i))})}},eY=function(){return{concat:function(t,n){return eH(function(r,i){var o=t.compare(r,i);return 0!==o?o:n.compare(r,i)})}}},eQ=function(){return{concat:eY().concat,empty:eH(function(){return 0})}},eX={URI:"Ord",contramap:function(t,n){return D(t,eG(n))}},e0={equals:C,compare:M(0)},e1=function(t){return function(n){return function(r){return r===n||0===t.compare(r,n)}}},e2=function(t){return function(n,r){return -1===t.compare(n,r)}},e3=function(t){return function(n,r){return 1===t.compare(n,r)}},e5=function(t){return function(n,r){return 1!==t.compare(n,r)}},e4=function(t){return function(n,r){return -1!==t.compare(n,r)}},e9=function(t){return function(n,r){return n===r||1>t.compare(n,r)?n:r}},e6=function(t){return function(n,r){return n===r||t.compare(n,r)>-1?n:r}},e8=function(t){var n=e9(t),r=e6(t);return function(t,i){return function(o){return r(n(o,i),t)}}},e7=function(t){var n=e2(t),r=e3(t);return function(t,i){return function(o){return!(n(o,t)||r(o,i))}}},te={equals:V.equals,compare:function(t,n){return t<n?-1:t>n?1:0}},tt=D(te,eG(function(t){return t.valueOf()}));let tn=Object.freeze(Object.defineProperty({__proto__:null,Contravariant:eX,URI:"Ord",between:e7,clamp:e8,contramap:eG,equals:e1,equalsDefault:eV,fromCompare:eH,geq:e4,getDualOrd:eJ,getMonoid:eQ,getSemigroup:eY,getTupleOrd:eZ,gt:e3,leq:e5,lt:e2,max:e6,min:e9,ord:eX,ordBoolean:te,ordDate:tt,ordNumber:te,ordString:te,reverse:eJ,trivial:e0,tuple:eZ},Symbol.toStringTag,{value:"Module"}));var tr=function(t){return{concat:function(n,r){return t.concat(r,n)}}},ti=function(t){return function(n){return{concat:function(r,i){return t(r)?n.concat(r,i):i}}}},to=function(t){return function(n){return{concat:function(r,i){return t(i)?n.concat(r,i):r}}}},ta=function(t){return function(n){return{concat:function(r,i){return n.concat(t(r),t(i))}}}},tu=function(t){return function(n){return function(r){return r.reduce(function(n,r){return t.concat(n,r)},n)}}};let ts=Object.freeze(Object.defineProperty({__proto__:null,concatAll:tu,endo:ta,filterFirst:ti,filterSecond:to,reverse:tr},Symbol.toStringTag,{value:"Module"}));var tc=function(t){return{concat:e9(t)}},tl=function(t){return{concat:e6(t)}},tf=function(t){return{concat:function(){return t}}},td=function(t){return{concat:function(n,r){var i={};for(var o in t)eb.call(t,o)&&(i[o]=t[o].concat(n[o],r[o]));return i}}},tp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{concat:function(n,r){return t.map(function(t,i){return t.concat(n[i],r[i])})}}},th=function(t){return function(n){return{concat:function(r,i){return n.concat(r,n.concat(t,i))}}}},tm=function(){return{concat:k}},tg=function(){return{concat:function(t,n){return n}}},ty=tf(void 0),tv=function(){return{concat:function(t,n){return Object.assign({},t,n)}}},tb={concat:function(t,n){return t&&n}},tx={concat:function(t,n){return t||n}},t_={concat:function(t,n){return t+n}},tS={concat:function(t,n){return t+n}},tT={concat:function(t,n){return t*n}};let tw=Object.freeze(Object.defineProperty({__proto__:null,concatAll:tu,constant:tf,first:tm,fold:function(t){var n=tu(t);return function(t,r){return void 0===r?n(t):n(t)(r)}},getDualSemigroup:tr,getFirstSemigroup:tm,getFunctionSemigroup:S,getIntercalateSemigroup:th,getJoinSemigroup:tl,getLastSemigroup:tg,getMeetSemigroup:tc,getObjectSemigroup:tv,getStructSemigroup:td,getTupleSemigroup:tp,intercalate:th,last:tg,max:tl,min:tc,reverse:tr,semigroupAll:tb,semigroupAny:tx,semigroupProduct:tT,semigroupString:t_,semigroupSum:tS,semigroupVoid:ty,struct:td,tuple:tp},Symbol.toStringTag,{value:"Module"}));var tO=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},tI=function(t,n){return t<0||t>=n.length},tk=function(t){return function(n){return tO([t],n,!0)}},tM=function(t){return function(n){return tO(tO([],n,!0),[t],!1)}},tC=function(t,n,r){if(eh(r)){var i=ex(r);return i.splice(t,0,n),i}return[n]},tR=function(t,n,r){if(r[t]===n)return r;var i=ex(r);return i[t]=n,i},tE=function(t){return function(n){if(1===n.length)return n;for(var r=[nB(n)],i=nq(n),o=function(n){r.every(function(r){return!t.equals(r,n)})&&r.push(n)},a=0;a<i.length;a++)o(i[a]);return r}},tA=function(t){if(eh(t)){var n=eQ();return tH(t.reduce(n.concat,n.empty))}return k},tj=function(t){var n=tE(t);return function(t){return function(r){return n(D(r,tq(t)))}}},tN=function(t){return function(n){var r=n.length,i=Math.round(t)%r;if(tI(Math.abs(i),n)||0===i)return n;if(!(i<0))return tN(i-r)(n);var o=t2(-i)(n),a=o[0];return D(o[1],tq(a))}},tP=function(t){return eh(t)?es(t):eu},tF=function(t){return function(n){for(var r=Math.max(0,Math.floor(n)),i=[t(0)],o=1;o<r;o++)i.push(t(o));return i}},tL=function(t){return tF(function(){return t})},tD=function(t,n){return t<=n?tF(function(n){return t+n})(n-t+1):[t]},tW=function(t){return[nB(t),nq(t)]},tU=function(t){return[n$(t),nK(t)]},tz=function(t){return tP(t.slice())};function tB(t){return function(n){return n.concat(t)}}function tq(t,n){return n?t.concat(n):function(n){return n.concat(t)}}var tK=function(t){return 1===t.length?t:tO([nK(t)],t.slice(0,-1).reverse(),!0)};function t$(t){return function(n){var r=n.length;if(0===r)return ey;for(var i=[],o=n[0],a=[o],u=1;u<r;u++){var s=n[u];t.equals(s,o)?a.push(s):(i.push(a),a=[o=s])}return i.push(a),i}}var tV=function(t){return function(n){for(var r={},i=0;i<n.length;i++){var o=n[i],a=t(o);eb.call(r,a)?r[a].push(o):r[a]=[o]}return r}},tH=function(t){return function(n){return 1===n.length?n:n.slice().sort(t.compare)}},tZ=function(t,n){return tJ(t,function(){return n})},tJ=function(t,n){return function(r){return tI(t,r)?eu:es(tR(t,n(r[t]),r))}},tG=function(t,n,r){for(var i=[r(t[0],n[0])],o=Math.min(t.length,n.length),a=1;a<o;a++)i[a]=r(t[a],n[a]);return i},tY=function(t){for(var n=[t[0][0]],r=[t[0][1]],i=1;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},tQ=function(t){return function(n){for(var r=[t,n[0]],i=1;i<n.length;i++)r.push(t,n[i]);return r}},tX=function(t){return function(n){var r=nq(n);return eh(r)?D(r,tQ(t),tk(nB(n))):n}},t0=function(t){return function(n){for(var r=ex(t(0,nB(n))),i=1;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},t1=function(t){return function(n){for(var r=t(n),i=r[0],o=r[1],a=[i],u=o;eh(u);){var s=t(u),c=s[0],l=s[1];a.push(c),u=l}return a}},t2=function(t){return function(n){var r=Math.max(1,t);return r>=n.length?[n,ey]:[D(n.slice(1,r),tk(nB(n))),n.slice(r)]}},t3=function(t){return t1(t2(t))},t5=function(t,n){return D(t,nm(n))},t4=function(t,n){return D(t,ng(n))},t9=function(t,n){return D(t,nl(n))},t6=function(t,n){return D(t,nf(n))},t8=function(t,n){return D(t,nd(n))},t7=function(t,n,r){return D(t,ny(n,r))},ne=function(t){var n=nv(t);return function(t,r){return D(t,n(r))}},nt=function(t,n,r){return D(t,nb(n,r))},nn=function(t){var n=nT(t);return function(t,r){return D(t,n(r))}},nr=function(t,n){return D(t,nc(n))},ni=function(t,n,r){return D(t,nx(n,r))},no=function(t){var n=n_(t);return function(t,r){return D(t,n(r))}},na=function(t,n,r){return D(t,nS(n,r))},nu=function(t){var n=nO(t);return function(t,r){return D(t,n(r))}},ns=function(t){return function(n){return D(n,tB(t()))}},nc=ns,nl=function(t){return nf(function(n){return D(t,nm(n))})},nf=function(t){return t0(function(n,r){return t(r)})},nd=function(t){return function(n){for(var r=nq(n),i=[t(n)];eh(r);)i.push(t(r)),r=nq(r);return i}},np=nd(k),nh=nf(k),nm=function(t){return ng(function(n,r){return t(r)})},ng=function(t){return function(n){for(var r=[t(0,nB(n))],i=1;i<n.length;i++)r.push(t(i,n[i]));return r}},ny=function(t,n){return nx(t,function(t,r,i){return n(r,i)})},nv=function(t){return function(n){return function(r){return r.slice(1).reduce(function(r,i){return t.concat(r,n(i))},n(r[0]))}}},nb=function(t,n){return nS(t,function(t,r,i){return n(r,i)})},nx=function(t,n){return function(r){return r.reduce(function(t,r,i){return n(i,t,r)},t)}},n_=function(t){return function(n){return function(r){return r.slice(1).reduce(function(r,i,o){return t.concat(r,n(o+1,i))},n(0,r[0]))}}},nS=function(t,n){return function(r){return r.reduceRight(function(t,r,i){return n(i,r,t)},t)}},nT=function(t){var n=nO(t);return function(t){return n(function(n,r){return t(r)})}},nw=function(t){return nO(t)(W)},nO=function(t){return function(n){return function(r){for(var i=t.map(n(0,nB(r)),ep),o=1;o<r.length;o++)i=t.ap(t.map(i,function(t){return function(n){return D(t,tM(n))}}),n(o,r[o]));return i}}},nI="ReadonlyNonEmptyArray",nk=function(t){return{show:function(n){return"[".concat(n.map(t.show).join(", "),"]")}}},nM=function(){return{concat:tq}},nC=function(t){return B(function(n,r){return n.length===r.length&&n.every(function(n,i){return t.equals(n,r[i])})})},nR=function(t){var n=tj(t);return{concat:function(t,r){return n(r)(t)}}},nE={URI:nI,map:t5},nA=ee(nE),nj={URI:nI,map:t5,ap:t9},nN=eN(nj),nP=eP(nj),nF={URI:nI,map:t5,ap:t9,chain:t6},nL=eq(nF),nD=ep(ev),nW=et(nE),nU=eK(nF),nz=eF(nj),nB=em,nq=eg,nK=function(t){return t[t.length-1]},n$=function(t){return t.slice(0,-1)},nV=function(t){var n=tc(t);return function(t){return t.reduce(n.concat)}},nH=function(t){var n=tl(t);return function(t){return t.reduce(n.concat)}},nZ=function(t){return function(n){return n.reduce(t.concat)}},nJ=function(t){return function(n){return t(nB(n),nq(n))}},nG=function(t){return function(n){return t(n$(n),nK(n))}},nY=function(t){return function(n){return tO([t(nB(n))],nq(n),!0)}},nQ=function(t){return nY(function(){return t})},nX=function(t){return function(n){return D(n$(n),tM(t(nK(n))))}},n0=function(t){return nX(function(){return t})},n1=function(t){var n=nZ(t);return function(t){return j(tX(t),n)}},n2=function(t){return function(n){return tP(n.filter(function(n,r){return t(r,n)}))}};function n3(t,n){return void 0===n?tk(t):D(n,tk(t))}var n5=function(t,n){return D(t,tq([n]))},n4=function(t,n){return function(r){return t<0||t>r.length?eu:es(tC(t,n,r))}};let n9=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:nI,map:t5,alt:nr},Applicative:{URI:nI,map:t5,ap:t9,of:ep},Apply:nj,Chain:nF,Comonad:{URI:nI,map:t5,extend:t8,extract:em},Do:nD,Foldable:{URI:nI,reduce:t7,foldMap:ne,reduceRight:nt},FoldableWithIndex:{URI:nI,reduce:t7,foldMap:ne,reduceRight:nt,reduceWithIndex:ni,foldMapWithIndex:no,reduceRightWithIndex:na},Functor:nE,FunctorWithIndex:{URI:nI,map:t5,mapWithIndex:t4},Monad:{URI:nI,map:t5,ap:t9,of:ep,chain:t6},Pointed:{URI:nI,of:ep},Traversable:{URI:nI,map:t5,reduce:t7,foldMap:ne,reduceRight:nt,traverse:nn,sequence:nw},TraversableWithIndex:{URI:nI,map:t5,mapWithIndex:t4,reduce:t7,foldMap:ne,reduceRight:nt,traverse:nn,sequence:nw,reduceWithIndex:ni,foldMapWithIndex:no,reduceRightWithIndex:na,traverseWithIndex:nu},URI:nI,alt:nc,altW:ns,ap:nl,apFirst:nN,apS:nz,apSecond:nP,append:tM,appendW:tM,bind:nU,bindTo:nW,chain:nf,chainFirst:nL,chainWithIndex:t0,chop:t1,chunksOf:t3,concat:tq,concatAll:nZ,concatW:tB,cons:n3,duplicate:np,empty:ey,extend:nd,extract:em,filter:function(t){return n2(function(n,r){return t(r)})},filterWithIndex:n2,flap:nA,flatten:nh,fold:nZ,foldMap:nv,foldMapWithIndex:n_,fromArray:tz,fromReadonlyArray:tP,getEq:nC,getSemigroup:nM,getShow:nk,getUnionSemigroup:nR,group:t$,groupBy:tV,groupSort:function(t){var n=tH(t),r=t$(t);return function(t){return eh(t)?r(n(t)):ey}},head:nB,init:n$,insertAt:n4,intercalate:n1,intersperse:tX,isNonEmpty:eh,isOutOfBound:tI,last:nK,makeBy:tF,map:nm,mapWithIndex:ng,matchLeft:nJ,matchRight:nG,max:nH,min:nV,modifyAt:tJ,modifyHead:nY,modifyLast:nX,of:ep,prepend:tk,prependAll:tQ,prependToAll:tQ,prependW:tk,range:tD,readonlyNonEmptyArray:{URI:nI,of:ep,map:t5,mapWithIndex:t4,ap:t9,chain:t6,extend:t8,extract:em,reduce:t7,foldMap:ne,reduceRight:nt,traverse:nn,sequence:nw,reduceWithIndex:ni,foldMapWithIndex:no,reduceRightWithIndex:na,traverseWithIndex:nu,alt:nr},reduce:ny,reduceRight:nb,reduceRightWithIndex:nS,reduceWithIndex:nx,replicate:tL,reverse:tK,rotate:tN,sequence:nw,snoc:n5,sort:tH,sortBy:tA,splitAt:t2,tail:nq,traverse:nT,traverseWithIndex:nO,unappend:tU,uncons:tW,union:tj,uniq:tE,unprepend:tW,unsafeInsertAt:tC,unsafeUpdateAt:tR,unsnoc:tU,unzip:tY,updateAt:tZ,updateHead:nQ,updateLast:n0,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:tG(n,r,function(t,n){return[t,n]})},zipWith:tG},Symbol.toStringTag,{value:"Module"}));var n6={equals:function(t,n){return t===n}},n8={concat:function(t,n){return t+n}},n7={concat:n8.concat,empty:""},re={equals:n6.equals,compare:function(t,n){return t<n?-1:t>n?1:0}},rt=function(t){return"string"==typeof t},rn=function(t){return t.toUpperCase()},rr=function(t){return t.toLowerCase()},ri=function(t,n){return function(r){return r.replace(t,n)}},ro=function(t){return t.trim()},ra=function(t){return t.trimLeft()},ru=function(t){return t.trimRight()},rs=function(t,n){return function(r){return r.slice(t,n)}},rc=function(t){return 0===t.length},rl=function(t){return t.length},rf=function(t){return function(n){var r=n.split(t);return eh(r)?r:[n]}},rd=function(t,n){return function(r){return r.includes(t,n)}},rp=function(t,n){return function(r){return r.startsWith(t,n)}},rh=function(t,n){return function(r){return r.endsWith(t,n)}};let rm=Object.freeze(Object.defineProperty({__proto__:null,Eq:n6,Monoid:n7,Ord:re,Semigroup:n8,Show:{show:function(t){return JSON.stringify(t)}},empty:"",endsWith:rh,includes:rd,isEmpty:rc,isString:rt,replace:ri,size:rl,slice:rs,split:rf,startsWith:rp,toLowerCase:rr,toUpperCase:rn,trim:ro,trimLeft:ra,trimRight:ru},Symbol.toStringTag,{value:"Module"}));function rg(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.separate)}}}function ry(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.compact)}}}function rv(t){return function(n){var r=t.wither(n);return function(t){return function(i){return r(i,function(r){return n.map(t(r),function(t){return t?es(r):eu})})}}}}let rb=Object.freeze(Object.defineProperty({__proto__:null,filterE:rv,wiltDefault:rg,witherDefault:ry},Symbol.toStringTag,{value:"Module"}));var rx=function(t){return Object.assign({},t)},r_=function(t){return Object.assign({},t)},rS=function(t){return Object.keys(t).length},rT=function(t){for(var n in t)if(eb.call(t,n))return!1;return!0},rw=function(t){return function(n){return Object.keys(n).sort(t.compare)}},rO=rw(re);function rI(t){if("function"==typeof t)return rI(re)(t);var n=rw(t);return function(t){return function(r){for(var i=[],o=0,a=n(r);o<a.length;o++){var u=a[o];i.push(t(u,r[u]))}return i}}}var rk=rI(re)(function(t,n){return[t,n]}),rM=function(t,n){return function(r){if(eb.call(r,t)&&r[t]===n)return r;var i=Object.assign({},r);return i[t]=n,i}},rC=function(t,n){return eb.call(n,t)};function rR(t){return function(n){if(!eb.call(n,t))return n;var r=Object.assign({},n);return delete r[t],r}}var rE=function(t,n){return function(r){if(!rC(t,r))return eu;if(r[t]===n)return es(r);var i=Object.assign({},r);return i[t]=n,es(i)}},rA=function(t,n){return function(r){if(!rC(t,r))return eu;var i=n(r[t]);if(i===r[t])return es(r);var o=Object.assign({},r);return o[t]=i,es(o)}};function rj(t){return function(n,r){if(void 0===r){var i=rj(t);return function(t){return i(t,n)}}for(var o in n)if(!eb.call(r,o)||!t.equals(n[o],r[o]))return!1;return!0}}function rN(t,n){return void 0===n?function(n){return rN(t,n)}:eb.call(n,t)?es(n[t]):eu}var rP={};function rF(t){return function(n){var r={};for(var i in n)eb.call(n,i)&&(r[i]=t(i,n[i]));return r}}function rL(t){return rF(function(n,r){return t(r)})}function rD(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(2===t.length)return rD(re).apply(void 0,t);var r=rw(t[0]);return function(t,n){return function(i){for(var o=t,a=r(i),u=a.length,s=0;s<u;s++){var c=a[s];o=n(c,o,i[c])}return o}}}function rW(t){if("compare"in t){var n=rw(t);return function(t){return function(r){return function(i){for(var o=t.empty,a=n(i),u=a.length,s=0;s<u;s++){var c=a[s];o=t.concat(o,r(c,i[c]))}return o}}}}return rW(re)(t)}function rU(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(2===t.length)return rU(re).apply(void 0,t);var r=rw(t[0]);return function(t,n){return function(i){for(var o=t,a=r(i),u=a.length,s=u-1;s>=0;s--){var c=a[s];o=n(c,i[c],o)}return o}}}var rz=function(t,n){var r;return(r={})[t]=n,r};function rB(t){var n=ig(re)(t);return function(t){return function(r){return n(r,t)}}}function rq(t){var n=ih(re)(t);return function(t){return function(r){return n(r,t)}}}function rK(t){return im(re)(t)}var r$=function(t){var n=rq(t);return function(r){return function(i){return t.map(D(i,n(r)),iw)}}},rV=function(t){var n=rq(t);return function(r){return function(i){return t.map(D(i,n(r)),iO)}}};function rH(t){return function(n){var r={},i={};for(var o in n)if(eb.call(n,o)){var a=t(o,n[o]);switch(a._tag){case"Left":r[o]=a.left;break;case"Right":i[o]=a.right}}return e_(r,i)}}function rZ(t){return function(n){var r={},i={};for(var o in n)if(eb.call(n,o)){var a=n[o];t(o,a)?i[o]=a:r[o]=a}return e_(r,i)}}function rJ(t){return function(n){var r={};for(var i in n)if(eb.call(n,i)){var o=t(i,n[i]);ea(o)&&(r[i]=o.value)}return r}}function rG(t){return function(n){var r={},i=!1;for(var o in n)if(eb.call(n,o)){var a=n[o];t(o,a)?r[o]=a:i=!0}return i?r:n}}function rY(t,n){var r=rQ(t,n);return function(t){return r(t,k)}}function rQ(t,n){return function(r,i){return n.reduce(r,{},function(n,r){var o=i(r),a=o[0],u=o[1];return n[a]=eb.call(n,a)?t.concat(n[a],u):u,n})}}var rX=function(t){for(var n={},r=0;r<t.length;r++){var i=t[r];n[i[0]]=i[1]}return n};function r0(t){return function(n){for(var r in n)if(!t(n[r]))return!1;return!0}}function r1(t){return function(n){for(var r in n)if(t(n[r]))return!0;return!1}}function r2(t){return function(n,r){if(void 0===r){var i=r2(t);return function(t){return i(n,t)}}for(var o in r)if(t.equals(r[o],n))return!0;return!1}}var r3=function(t){return function(n){return function(r){if(rT(r))return n;if(rT(n))return r;var i={};for(var o in r)rC(o,n)?i[o]=t.concat(r[o],n[o]):i[o]=r[o];for(var o in n)rC(o,i)||(i[o]=n[o]);return i}}},r5=function(t){return function(n){return function(r){if(rT(r)||rT(n))return rP;var i={};for(var o in r)rC(o,n)&&(i[o]=t.concat(r[o],n[o]));return i}}},r4=function(t){return function(n){if(rT(n))return t;if(rT(t))return n;var r={};for(var i in n)rC(i,t)||(r[i]=n[i]);for(var i in t)rC(i,n)||(r[i]=t[i]);return r}},r9=function(t,n){return D(t,rL(n))},r6=function(t,n){return D(t,rF(n))},r8=function(t){var n=i_(t);return function(t,r,i){return D(t,n(r,i))}},r7=function(t){return function(n){var r=iS(t)(n);return function(t,n){return D(t,r(n))}}},ie=function(t){var n=iT(t);return function(t,r,i){return D(t,n(r,i))}},it=function(t,n){return D(t,iy(n))},ir=function(t,n){return D(t,iv(n))},ii=function(t,n){return D(t,ib(n))},io=function(t,n){return D(t,ix(n))},ia=function(t){var n=rD(t);return function(t,r,i){return D(t,n(r,i))}},iu=function(t){var n=rW(t);return function(t){var r=n(t);return function(t,n){return D(t,r(n))}}},is=function(t){var n=rU(t);return function(t,r,i){return D(t,n(r,i))}},ic=function(t,n){return D(t,rH(n))},il=function(t,n){return D(t,rZ(n))},id=function(t,n){return D(t,rJ(n))},ip=function(t,n){return D(t,rG(n))},ih=function(t){var n=ig(t);return function(t){var r=n(t);return function(t,n){return r(t,j(W,n))}}},im=function(t){var n=ih(t);return function(t){var r=n(t);return function(t){return r(t,k)}}},ig=function(t){return function(n){var r=rw(t);return function(t,i){var o=r(t);if(0===o.length)return n.of(rP);for(var a=n.of({}),u=function(r){a=n.ap(n.map(a,function(t){return function(n){var i;return Object.assign({},t,((i={})[r]=n,i))}}),i(r,t[r]))},s=0;s<o.length;s++)u(o[s]);return a}}},iy=function(t){return rG(function(n,r){return t(r)})},iv=function(t){return rJ(function(n,r){return t(r)})},ib=function(t){return rZ(function(n,r){return t(r)})},ix=function(t){return rH(function(n,r){return t(r)})};function i_(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(1===t.length){var r=rD(t[0]);return function(t,n){return r(t,function(t,r,i){return n(r,i)})}}return i_(re).apply(void 0,t)}function iS(t){if("compare"in t){var n=rW(t);return function(t){var r=n(t);return function(t){return r(function(n,r){return t(r)})}}}return iS(re)(t)}function iT(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(1===t.length){var r=rU(t[0]);return function(t,n){return r(t,function(t,r,i){return n(r,i)})}}return iT(re).apply(void 0,t)}var iw=function(t){var n={};for(var r in t)if(eb.call(t,r)){var i=t[r];ea(i)&&(n[r]=i.value)}return n},iO=function(t){var n={},r={};for(var i in t)if(eb.call(t,i)){var o=t[i];ec(o)?n[i]=o.left:r[i]=o.right}return e_(n,r)},iI="ReadonlyRecord";function ik(t){return"compare"in t?function(n){return{show:function(r){var i=rI(t)(function(t,r){return"".concat(JSON.stringify(t),": ").concat(n.show(r))})(r).join(", ");return""===i?"{}":"{ ".concat(i," }")}}}:ik(re)(t)}function iM(t){var n=rj(t);return B(function(t,r){return n(t)(r)&&n(r)(t)})}function iC(t){return{concat:function(n,r){if(rT(n))return r;if(rT(r))return n;var i=Object.assign({},n);for(var o in r)eb.call(r,o)&&(i[o]=eb.call(n,o)?t.concat(n[o],r[o]):r[o]);return i},empty:rP}}var iR={URI:iI,map:r9},iE=ee(iR),iA=function(t){return{URI:iI,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t)}},ij=function(t){return{URI:iI,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),reduceWithIndex:ia(t),foldMapWithIndex:iu(t),reduceRightWithIndex:is(t)}},iN={URI:iI,compact:iw,separate:iO},iP=function(t){return{URI:iI,map:r9,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),traverse:ih(t),sequence:im(t)}},iF=function(t){return{URI:iI,map:r9,mapWithIndex:r6,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),reduceWithIndex:ia(t),foldMapWithIndex:iu(t),reduceRightWithIndex:is(t),traverse:ih(t),sequence:im(t),traverseWithIndex:ig(t)}},iL=function(t){var n=iP(t);return{URI:iI,map:r9,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),traverse:n.traverse,sequence:n.sequence,compact:iw,separate:iO,filter:it,filterMap:ir,partition:ii,partitionMap:io,wither:ry(n,iN),wilt:rg(n,iN)}},iD=function(t){var n=r3(t);return{concat:function(t,r){return n(r)(t)}}},iW=function(t){return{concat:iD(t).concat,empty:rP}},iU=function(t){var n=r5(t);return{concat:function(t,r){return n(r)(t)}}},iz=function(){return{concat:function(t,n){return r4(n)(t)}}},iB={URI:iI,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re)},iq={URI:iI,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),reduceWithIndex:ia(re),foldMapWithIndex:iu(re),reduceRightWithIndex:is(re)},iK={URI:iI,map:r9,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),traverse:ih(re),sequence:rK},i$={URI:iI,map:r9,mapWithIndex:r6,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),reduceWithIndex:ia(re),foldMapWithIndex:iu(re),reduceRightWithIndex:is(re),traverse:ih(re),sequence:rK,traverseWithIndex:ig(re)},iV=ry(iK,iN),iH=rg(iK,iN),iZ={URI:iI,map:r9,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),traverse:ih(re),sequence:rK,compact:iw,separate:iO,filter:it,filterMap:ir,partition:ii,partitionMap:io,wither:iV,wilt:iH};function iJ(t,n){return eb.call(void 0===n?this:n,t)}var iG={URI:iI,map:r9,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),traverse:ih(re),sequence:rK,compact:iw,separate:iO,filter:it,filterMap:ir,partition:ii,partitionMap:io,mapWithIndex:r6,reduceWithIndex:ia(re),foldMapWithIndex:iu(re),reduceRightWithIndex:is(re),filterMapWithIndex:id,filterWithIndex:ip,partitionMapWithIndex:ic,partitionWithIndex:il,traverseWithIndex:ig(re),wither:iV,wilt:iH};let iY=Object.freeze(Object.defineProperty({__proto__:null,Compactable:iN,Filterable:{URI:iI,map:r9,compact:iw,separate:iO,filter:it,filterMap:ir,partition:ii,partitionMap:io},FilterableWithIndex:{URI:iI,map:r9,mapWithIndex:r6,compact:iw,separate:iO,filter:it,filterMap:ir,partition:ii,partitionMap:io,filterMapWithIndex:id,filterWithIndex:ip,partitionMapWithIndex:ic,partitionWithIndex:il},Foldable:iB,FoldableWithIndex:iq,Functor:iR,FunctorWithIndex:{URI:iI,map:r9,mapWithIndex:r6},Traversable:iK,TraversableWithIndex:i$,URI:iI,Witherable:iZ,_filter:it,_filterMap:ir,_filterMapWithIndex:id,_filterWithIndex:ip,_foldMap:r7,_foldMapWithIndex:iu,_map:r9,_mapWithIndex:r6,_partition:ii,_partitionMap:io,_partitionMapWithIndex:ic,_partitionWithIndex:il,_reduce:r8,_reduceRight:ie,_reduceRightWithIndex:is,_reduceWithIndex:ia,_sequence:im,_traverse:ih,collect:rI,compact:iw,deleteAt:rR,difference:r4,elem:r2,empty:rP,every:r0,filter:iy,filterMap:iv,filterMapWithIndex:rJ,filterWithIndex:rG,flap:iE,foldMap:iS,foldMapWithIndex:rW,fromEntries:rX,fromFoldable:rY,fromFoldableMap:rQ,fromRecord:rx,getDifferenceMagma:iz,getEq:iM,getFoldable:iA,getFoldableWithIndex:ij,getIntersectionSemigroup:iU,getMonoid:iC,getShow:ik,getTraversable:iP,getTraversableWithIndex:iF,getUnionMonoid:iW,getUnionSemigroup:iD,getWitherable:iL,has:rC,hasOwnProperty:iJ,insertAt:rM,intersection:r5,isEmpty:rT,isSubrecord:rj,keys:rO,lookup:rN,map:rL,mapWithIndex:rF,modifyAt:rA,partition:ib,partitionMap:ix,partitionMapWithIndex:rH,partitionWithIndex:rZ,pop:function(t){var n=rR(t);return function(r){var i=rN(t,r);return eo(i)?eu:es([i.value,n(r)])}},readonlyRecord:iG,reduce:i_,reduceRight:iT,reduceRightWithIndex:rU,reduceWithIndex:rD,separate:iO,sequence:rK,singleton:rz,size:rS,some:r1,toEntries:rk,toReadonlyArray:rk,toRecord:r_,toUnfoldable:function(t){return function(n){var r=rk(n),i=r.length;return t.unfold(0,function(t){return t<i?es([r[t],t+1]):eu})}},traverse:rq,traverseWithIndex:rB,union:r3,updateAt:rE,upsertAt:rM,wilt:rV,wither:r$},Symbol.toStringTag,{value:"Module"})),iQ=(0,c.createContext)(void 0);function iX(){let t=(0,c.useContext)(iQ);if(!t)throw Error("Missing EditorConfigContext.Provider");return t}var i0,i1,i2,i3,i5,i4,i9,i6,i8,i7,oe,ot,on,or,oi,oo,oa,ou,oc,ol,of,od,op,oh,om,og,oy,ov,ob,ox,o_={},oS={};i0={get exports(){return oS},set exports(e){oS=e}},function(t){var n="object"==typeof m?m:"object"==typeof self?self:"object"==typeof this?this:{};function r(t,r){return t!==n&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,i){return t[n]=r?r(n,i):i}}t(r(n,r(i0.exports)))}(function(t){var n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])};i1=function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},i2=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},i3=function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>n.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r},i5=function(t,n,r,i){var o,a=arguments.length,u=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,r,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(u=(a<3?o(u):a>3?o(n,r,u):o(n,r))||u);return a>3&&u&&Object.defineProperty(n,r,u),u},i4=function(t,n){return function(r,i){n(r,i,t)}},i9=function(t,n,r,i,o,a){function u(t){if(void 0!==t&&"function"!=typeof t)throw TypeError("Function expected");return t}for(var s,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",f=!n&&t?i.static?t:t.prototype:null,d=n||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),p=!1,h=r.length-1;h>=0;h--){var m={};for(var g in i)m[g]="access"===g?{}:i[g];for(var g in i.access)m.access[g]=i.access[g];m.addInitializer=function(t){if(p)throw TypeError("Cannot add initializers after decoration has completed");a.push(u(t||null))};var y=(0,r[h])("accessor"===c?{get:d.get,set:d.set}:d[l],m);if("accessor"===c){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw TypeError("Object expected");(s=u(y.get))&&(d.get=s),(s=u(y.set))&&(d.set=s),(s=u(y.init))&&o.push(s)}else(s=u(y))&&("field"===c?o.push(s):d[l]=s)}f&&Object.defineProperty(f,i.name,d),p=!0},i6=function(t,n,r){for(var i=arguments.length>2,o=0;o<n.length;o++)r=i?n[o].call(t,r):n[o].call(t);return i?r:void 0},i8=function(t){return"symbol"==typeof t?t:"".concat(t)},i7=function(t,n,r){return"symbol"==typeof n&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",n):n})},oe=function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},ot=function(t,n,r,i){return new(r||(r=Promise))(function(o,a){function u(t){try{c(i.next(t))}catch(n){a(n)}}function s(t){try{c(i.throw(t))}catch(n){a(n)}}function c(t){var n;t.done?o(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(u,s)}c((i=i.apply(t,n||[])).next())})},on=function(t,n){var r,i,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(u=0)),u;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,i=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){u=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){u.label=s[1];break}if(6===s[0]&&u.label<o[1]){u.label=o[1],o=s;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(s);break}o[2]&&u.ops.pop(),u.trys.pop();continue}s=n.call(t,u)}catch(c){s=[6,c],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},or=function(t,n){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||ox(n,t,r)},ox=Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]},oi=function(t){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&t[n],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},oo=function(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,o,a=r.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(i=a.next()).done;)u.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u},oa=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(oo(arguments[n]));return t},ou=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;for(var i=Array(t),o=0,n=0;n<r;n++)for(var a=arguments[n],u=0,s=a.length;u<s;u++,o++)i[o]=a[u];return i},oc=function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},ol=function(t){return this instanceof ol?(this.v=t,this):new ol(t)},of=function(t,n,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,o=r.apply(t,n||[]),a=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(t){o[t]&&(i[t]=function(n){return new Promise(function(r,i){a.push([t,n,r,i])>1||s(t,n)})})}function s(t,n){try{var r;r=o[t](n),r.value instanceof ol?Promise.resolve(r.value.v).then(c,l):f(a[0][2],r)}catch(i){f(a[0][3],i)}}function c(t){s("next",t)}function l(t){s("throw",t)}function f(t,n){t(n),a.shift(),a.length&&s(a[0][0],a[0][1])}},od=function(t){var n,r;return n={},i("next"),i("throw",function(t){throw t}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(i,o){n[i]=t[i]?function(n){return(r=!r)?{value:ol(t[i](n)),done:!1}:o?o(n):n}:o}},op=function(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof oi?oi(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(n){return new Promise(function(i,o){(function(t,n,r,i){Promise.resolve(i).then(function(n){t({value:n,done:r})},n)})(i,o,(n=t[r](n)).done,n.value)})}}},oh=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};var r=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n};om=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&ox(n,t,i);return r(n,t),n},og=function(t){return t&&t.__esModule?t:{default:t}},oy=function(t,n,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!i:!n.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:n.get(t)},ov=function(t,n,r,i,o){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!o:!n.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,r):o?o.value=r:n.set(t,r),r},ob=function(t,n){if(null===n||"object"!=typeof n&&"function"!=typeof n)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?n===t:t.has(n)},t("__extends",i1),t("__assign",i2),t("__rest",i3),t("__decorate",i5),t("__param",i4),t("__esDecorate",i9),t("__runInitializers",i6),t("__propKey",i8),t("__setFunctionName",i7),t("__metadata",oe),t("__awaiter",ot),t("__generator",on),t("__exportStar",or),t("__createBinding",ox),t("__values",oi),t("__read",oo),t("__spread",oa),t("__spreadArrays",ou),t("__spreadArray",oc),t("__await",ol),t("__asyncGenerator",of),t("__asyncDelegator",od),t("__asyncValues",op),t("__makeTemplateObject",oh),t("__importStar",om),t("__importDefault",og),t("__classPrivateFieldGet",oy),t("__classPrivateFieldSet",ov),t("__classPrivateFieldIn",ob)});var oT={};function ow(t){return function(n){return function(r){return r.reduce(function(n,r){return t.alt(n,function(){return r})},n)}}}let oO=Object.freeze(Object.defineProperty({__proto__:null,altAll:ow},Symbol.toStringTag,{value:"Module"})),oI=Object.freeze(Object.defineProperty({__proto__:null,altAll:function(t){return ow(t)(t.zero())}},Symbol.toStringTag,{value:"Module"}));function ok(t){var n=eL(t);return function(r){return{concat:n(r).concat,empty:t.of(r.empty)}}}function oM(t,n){var r=en(t,n).map,i=ej(t,n);return{map:r,of:function(r){return t.of(n.of(r))},ap:function(t,n){return D(t,i(n))}}}let oC=Object.freeze(Object.defineProperty({__proto__:null,getApplicativeComposition:oM,getApplicativeMonoid:ok},Symbol.toStringTag,{value:"Module"}));function oR(t){return function(n){return function(r){return t.fromEither(eo(r)?ef(n()):ed(r.value))}}}function oE(t){return function(n,r){return function(i){return t.fromEither(n(i)?ed(i):ef(r(i)))}}}function oA(t){var n=oR(t);return function(t){var r=n(t);return function(t){return j(t,r)}}}function oj(t,n){var r=oA(t);return function(t){var i=r(t);return function(t){return function(r){return n.chain(r,i(t))}}}}function oN(t){return function(n){return j(n,t.fromEither)}}function oP(t,n){var r=oN(t);return function(t){return function(i){return n.chain(i,r(t))}}}function oF(t,n){return j(oN(t),eq(n))}function oL(t,n){return function(r,i){return function(o){return n.chain(o,function(n){return t.fromEither(r(n)?ed(n):ef(i(n)))})}}}let oD=Object.freeze(Object.defineProperty({__proto__:null,chainEitherK:oP,chainFirstEitherK:oF,chainOptionK:oj,filterOrElse:oL,fromEitherK:oN,fromOption:oR,fromOptionK:oA,fromPredicate:oE},Symbol.toStringTag,{value:"Module"}));var oW=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},oU=function(t){return t.length>0},oz=function(t,n){return t<0||t>=n.length},oB=function(t){return function(n){return oW([t],n,!0)}},oq=function(t){return function(n){return oW(oW([],n,!0),[t],!1)}},oK=function(t,n,r){if(oU(r)){var i=oG(r);return i.splice(t,0,n),i}return[n]},o$=function(t,n,r){var i=oG(r);return i[t]=n,i},oV=function(t){return function(n){if(1===n.length)return an(n);for(var r=[a2(n)],i=a3(n),o=function(n){r.every(function(r){return!t.equals(r,n)})&&r.push(n)},a=0;a<i.length;a++)o(i[a]);return r}},oH=function(t){if(oU(t)){var n=eQ();return o8(t.reduce(n.concat,n.empty))}return an},oZ=function(t){var n=oV(t);return function(t){return function(r){return n(D(r,o5(t)))}}},oJ=function(t){return function(n){var r=n.length,i=Math.round(t)%r;if(oz(Math.abs(i),n)||0===i)return an(n);if(!(i<0))return oJ(i-r)(n);var o=al(-i)(n),a=o[0];return D(o[1],o5(a))}},oG=ex,oY=function(t){return oU(t)?es(t):eu},oQ=function(t){return function(n){for(var r=Math.max(0,Math.floor(n)),i=[t(0)],o=1;o<r;o++)i.push(t(o));return i}},oX=function(t){return oQ(function(){return t})},o0=function(t,n){return t<=n?oQ(function(n){return t+n})(n-t+1):[t]},o1=function(t){return[a2(t),a3(t)]},o2=function(t){return[a4(t),a5(t)]};function o3(t){return function(n){return n.concat(t)}}function o5(t,n){return n?t.concat(n):function(n){return n.concat(t)}}var o4=function(t){return oW([a5(t)],t.slice(0,-1).reverse(),!0)};function o9(t){return function(n){var r=n.length;if(0===r)return[];for(var i=[],o=n[0],a=[o],u=1;u<r;u++){var s=n[u];t.equals(s,o)?a.push(s):(i.push(a),a=[o=s])}return i.push(a),i}}var o6=function(t){return function(n){for(var r={},i=0;i<n.length;i++){var o=n[i],a=t(o);eb.call(r,a)?r[a].push(o):r[a]=[o]}return r}},o8=function(t){return function(n){return n.slice().sort(t.compare)}},o7=function(t,n){return function(r){return t<0||t>r.length?eu:es(oK(t,n,r))}},ae=function(t,n){return at(t,function(){return n})},at=function(t,n){return function(r){return oz(t,r)?eu:es(o$(t,n(r[t]),r))}},an=oG,ar=function(t){return[t]},ai=function(t,n,r){for(var i=[r(t[0],n[0])],o=Math.min(t.length,n.length),a=1;a<o;a++)i[a]=r(t[a],n[a]);return i},ao=function(t){for(var n=[t[0][0]],r=[t[0][1]],i=1;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},aa=function(t){return function(n){for(var r=[t,n[0]],i=1;i<n.length;i++)r.push(t,n[i]);return r}},au=function(t){return function(n){var r=a3(n);return oU(r)?D(r,aa(t),oB(a2(n))):an(n)}},as=function(t){return function(n){for(var r=oG(t(0,a2(n))),i=1;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},ac=function(t){return function(n){for(var r=t(n),i=r[0],o=r[1],a=[i],u=o;oU(u);){var s=t(u),c=s[0],l=s[1];a.push(c),u=l}return a}},al=function(t){return function(n){var r=Math.max(1,t);return r>=n.length?[an(n),[]]:[D(n.slice(1,r),oB(a2(n))),n.slice(r)]}},af=function(t){return ac(al(t))},ad=function(t,n){return D(t,aj(n))},ap=function(t,n){return D(t,aN(n))},ah=function(t,n){return D(t,aM(n))},am=function(t,n){return D(t,aC(n))},ag=function(t,n){return D(t,aR(n))},ay=function(t,n,r){return D(t,aP(n,r))},av=function(t){var n=nv(t);return function(t,r){return D(t,n(r))}},ab=function(t,n,r){return D(t,aL(n,r))},ax=function(t){var n=aW(t);return function(t,r){return D(t,n(r))}},a_=function(t,n){return D(t,ak(n))},aS=function(t,n,r){return D(t,aF(n,r))},aT=function(t){var n=n_(t);return function(t,r){return D(t,n(r))}},aw=function(t,n,r){return D(t,aD(n,r))},aO=function(t){var n=az(t);return function(t,r){return D(t,n(r))}},aI=function(t){return function(n){return D(n,o3(t()))}},ak=aI,aM=function(t){return aC(function(n){return D(t,aj(n))})},aC=function(t){return as(function(n,r){return t(r)})},aR=function(t){return function(n){for(var r=a3(n),i=[t(n)];oU(r);)i.push(t(r)),r=a3(r);return i}},aE=aR(k),aA=aC(k),aj=function(t){return aN(function(n,r){return t(r)})},aN=function(t){return function(n){for(var r=[t(0,a2(n))],i=1;i<n.length;i++)r.push(t(i,n[i]));return r}},aP=ny,aF=nx,aL=nb,aD=nS,aW=function(t){var n=az(t);return function(t){return n(function(n,r){return t(r)})}},aU=function(t){return az(t)(function(t,n){return n})},az=function(t){return function(n){return function(r){for(var i=t.map(n(0,a2(r)),ar),o=1;o<r.length;o++)i=t.ap(t.map(i,function(t){return function(n){return D(t,oq(n))}}),n(o,r[o]));return i}}},aB="NonEmptyArray",aq=function(){return{concat:o5}},aK=function(t){var n=oZ(t);return{concat:function(t,r){return n(r)(t)}}},a$={URI:aB,map:ad},aV=ee(a$),aH={URI:aB,map:ad,ap:ah},aZ=eN(aH),aJ=eP(aH),aG={URI:aB,map:ad,ap:ah,chain:am},aY=eq(aG),aQ=ar(ev),aX=et(a$),a0=eK(aG),a1=eF(aH),a2=nB,a3=function(t){return t.slice(1)},a5=nK,a4=function(t){return t.slice(0,-1)},a9=function(t){return function(n){return n.reduce(t.concat)}},a6=function(t){return function(n){return t(a2(n),a3(n))}},a8=function(t){return function(n){return t(a4(n),a5(n))}},a7=function(t){return function(n){return oW([t(a2(n))],a3(n),!0)}},ue=function(t){return a7(function(){return t})},ut=function(t){return function(n){return D(a4(n),oq(t(a5(n))))}},un=function(t){return ut(function(){return t})},ur=function(t){return function(n){return oY(n.filter(function(n,r){return t(r,n)}))}};function ui(t,n){return void 0===n?oB(t):D(n,oB(t))}var uo=function(t,n){return D(t,oq(n))};let ua=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:aB,map:ad,alt:a_},Applicative:{URI:aB,map:ad,ap:ah,of:ar},Apply:aH,Chain:aG,Comonad:{URI:aB,map:ad,extend:ag,extract:nB},Do:aQ,Foldable:{URI:aB,reduce:ay,foldMap:av,reduceRight:ab},FoldableWithIndex:{URI:aB,reduce:ay,foldMap:av,reduceRight:ab,reduceWithIndex:aS,foldMapWithIndex:aT,reduceRightWithIndex:aw},Functor:a$,FunctorWithIndex:{URI:aB,map:ad,mapWithIndex:ap},Monad:{URI:aB,map:ad,ap:ah,of:ar,chain:am},Pointed:{URI:aB,of:ar},Traversable:{URI:aB,map:ad,reduce:ay,foldMap:av,reduceRight:ab,traverse:ax,sequence:aU},TraversableWithIndex:{URI:aB,map:ad,mapWithIndex:ap,reduce:ay,foldMap:av,reduceRight:ab,traverse:ax,sequence:aU,reduceWithIndex:aS,foldMapWithIndex:aT,reduceRightWithIndex:aw,traverseWithIndex:aO},URI:aB,alt:ak,altW:aI,ap:aM,apFirst:aZ,apS:a1,apSecond:aJ,append:oq,appendW:oq,bind:a0,bindTo:aX,chain:aC,chainFirst:aY,chainWithIndex:as,chop:ac,chunksOf:af,concat:o5,concatAll:a9,concatW:o3,cons:ui,copy:an,duplicate:aE,extend:aR,extract:nB,filter:function(t){return ur(function(n,r){return t(r)})},filterWithIndex:ur,flap:aV,flatten:aA,fold:nZ,foldMap:nv,foldMapWithIndex:n_,fromArray:oY,fromReadonlyNonEmptyArray:oG,getEq:nC,getSemigroup:aq,getShow:nk,getUnionSemigroup:aK,group:o9,groupBy:o6,groupSort:function(t){var n=o8(t),r=o9(t);return function(t){return oU(t)?r(n(t)):[]}},head:a2,init:a4,insertAt:o7,intercalate:n1,intersperse:au,isNonEmpty:oU,isOutOfBound:oz,last:a5,makeBy:oQ,map:aj,mapWithIndex:aN,matchLeft:a6,matchRight:a8,max:nH,min:nV,modifyAt:at,modifyHead:a7,modifyLast:ut,nonEmptyArray:{URI:aB,of:ar,map:ad,mapWithIndex:ap,ap:ah,chain:am,extend:ag,extract:nB,reduce:ay,foldMap:av,reduceRight:ab,traverse:ax,sequence:aU,reduceWithIndex:aS,foldMapWithIndex:aT,reduceRightWithIndex:aw,traverseWithIndex:aO,alt:a_},of:ar,prepend:oB,prependAll:aa,prependToAll:aa,prependW:oB,range:o0,reduce:aP,reduceRight:aL,reduceRightWithIndex:aD,reduceWithIndex:aF,replicate:oX,reverse:o4,rotate:oJ,sequence:aU,snoc:uo,sort:o8,sortBy:oH,splitAt:al,tail:a3,traverse:aW,traverseWithIndex:az,unappend:o2,uncons:o1,union:oZ,uniq:oV,unprepend:o1,unsafeInsertAt:oK,unsafeUpdateAt:o$,unsnoc:o2,unzip:ao,updateAt:ae,updateHead:ue,updateLast:un,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:ai(n,r,function(t,n){return[t,n]})},zipWith:ai},Symbol.toStringTag,{value:"Module"}));var uu=function(t){return"number"==typeof t},us={equals:function(t,n){return t===n}},uc={equals:us.equals,compare:function(t,n){return t<n?-1:t>n?1:0}},ul={equals:us.equals,compare:uc.compare,top:1/0,bottom:-1/0},uf={concat:function(t,n){return t-n}},ud={concat:function(t,n){return t+n}},up={concat:function(t,n){return t*n}},uh={concat:ud.concat,empty:0},um={concat:up.concat,empty:1},ug={add:ud.concat,zero:0,mul:up.concat,one:1,sub:uf.concat,degree:function(t){return 1},div:function(t,n){return t/n},mod:function(t,n){return t%n}};let uy=Object.freeze(Object.defineProperty({__proto__:null,Bounded:ul,Eq:us,Field:ug,MagmaSub:uf,MonoidProduct:um,MonoidSum:uh,Ord:uc,SemigroupProduct:up,SemigroupSum:ud,Show:{show:function(t){return JSON.stringify(t)}},isNumber:uu},Symbol.toStringTag,{value:"Module"}));function uv(t,n){return function(r){return r?n.of(void 0):t.zero()}}let ub=Object.freeze(Object.defineProperty({__proto__:null,guard:uv},Symbol.toStringTag,{value:"Module"}));var ux=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},u_=function(t){return 0===t.length},uS=function(t,n){return t<=0?cP:tF(n)(t)},uT=function(t,n){return uS(t,function(){return n})},uw=function(t){return eo(t)?cP:[t.value]},uO=function(t){return ec(t)?cP:[t.right]},uI=function(t,n){return function(r){return eh(r)?n(r):t()}},uk=function(t,n){return function(r){return eh(r)?n(nB(r),nq(r)):t()}},uM=function(t,n){return function(r){return eh(r)?n(n$(r),nK(r)):t()}},uC=function(t){return function(n){if(u_(n))return cP;for(var r=[],i=0;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},uR=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[0]=t;for(var a=0;a<i;a++)o[a+1]=n(o[a],r[a]);return o}},uE=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[i]=t;for(var a=i-1;a>=0;a--)o[a]=n(r[a],o[a+1]);return o}},uA=function(t){return t.length};function uj(t,n){return void 0===n?function(n){return uj(t,n)}:tI(t,n)?eu:es(n[t])}var uN=function(t){return eh(t)?es(nB(t)):eu},uP=function(t){return eh(t)?es(nK(t)):eu},uF=function(t){return eh(t)?es(nq(t)):eu},uL=function(t){return eh(t)?es(n$(t)):eu},uD=function(t){return function(n){return tI(t,n)?n:0===t?cP:n.slice(0,t)}},uW=function(t){return function(n){return tI(t,n)?n:0===t?cP:n.slice(-t)}},uU=function(t,n){for(var r=t.length,i=0;i<r&&n(t[i]);i++);return i},uz=function(t){return function(n){return t<=0||u_(n)?n:t>=n.length?cP:n.slice(t,n.length)}},uB=function(t){return function(n){return t<=0||u_(n)?n:t>=n.length?cP:n.slice(0,n.length-t)}},uq=function(t){return function(n){for(var r=0;r<n.length;r++)if(t(n[r]))return es(r);return eu}};function uK(t){return function(n){for(var r=0;r<n.length;r++)if(t(n[r]))return es(n[r]);return eu}}var u$=function(t){return function(n){for(var r=0;r<n.length;r++){var i=t(n[r]);if(ea(i))return i}return eu}};function uV(t){return function(n){for(var r=n.length-1;r>=0;r--)if(t(n[r]))return es(n[r]);return eu}}var uH=function(t){return function(n){for(var r=n.length-1;r>=0;r--){var i=t(n[r]);if(ea(i))return i}return eu}},uZ=function(t){return function(n){for(var r=n.length-1;r>=0;r--)if(t(n[r]))return es(r);return eu}},uJ=function(t,n){return function(r){return t<0||t>r.length?eu:es(tC(t,n,r))}},uG=function(t,n){return uQ(t,function(){return n})},uY=function(t){return function(n){return tI(t,n)?eu:es(cA(t,n))}},uQ=function(t,n){return function(r){return tI(t,r)?eu:es(cE(t,n(r[t]),r))}},uX=function(t){return t.length<=1?t:t.slice().reverse()},u0=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Right"===i._tag&&n.push(i.right)}return n},u1=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Left"===i._tag&&n.push(i.left)}return n},u2=function(t){return function(n){return n.length<=1?n:n.slice().sort(t.compare)}},u3=function(t,n,r){for(var i=[],o=Math.min(t.length,n.length),a=0;a<o;a++)i[a]=r(t[a],n[a]);return i},u5=function(t){for(var n=[],r=[],i=0;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},u4=function(t){var n=tQ(t);return function(t){return eh(t)?n(t):t}},u9=function(t){var n=tX(t);return function(t){return eh(t)?n(t):t}},u6=function(t){var n=tN(t);return function(t){return eh(t)?n(t):t}};function u8(t){return function(n,r){if(void 0===r){var i,o=u8(t);return function(t){return o(n,t)}}for(var a=0;a<r.length;a++)if(i=r[a],t.equals(i,n))return!0;return!1}}var u7=function(t){var n=tE(t);return function(t){return eh(t)?n(t):t}},se=function(t){var n=tA(t);return function(t){return eh(t)?n(t):t}},st=function(t){var n=t1(t);return function(t){return eh(t)?n(t):cP}},sn=function(t){return function(n){return t>=1&&eh(n)?t2(t)(n):u_(n)?[n,cP]:[cP,n]}},sr=function(t){var n=t3(t);return function(t){return eh(t)?n(t):cP}},si=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return uw(t.apply(void 0,n))}},so=function(t){return function(n){return u_(n)?t:u_(t)?n:n.concat(t)}};function sa(t){var n=tj(t);return function(r,i){if(void 0===i){var o=sa(t);return function(t){return o(t,r)}}return eh(r)&&eh(i)?n(i)(r):eh(r)?r:i}}function su(t){var n=u8(t);return function(r,i){if(void 0===i){var o=su(t);return function(t){return o(t,r)}}return r.filter(function(t){return n(t,i)})}}function ss(t){var n=u8(t);return function(r,i){if(void 0===i){var o=ss(t);return function(t){return o(t,r)}}return r.filter(function(t){return!n(t,i)})}}var sc=function(t,n){return D(t,sW(n))},sl=function(t,n){return D(t,sU(n))},sf=function(t,n){return D(t,sF(n))},sd=function(t,n){return D(t,sL(n))},sp=function(t,n){return D(t,sB(n))},sh=function(t,n){return D(t,sK(n))},sm=function(t,n){return D(t,sV(n))},sg=function(t,n){return D(t,sZ(n))},sy=function(t,n){return D(t,sH(n))},sv=function(t,n){return D(t,sJ(n))},sb=function(t,n){return D(t,sP(n))},sx=function(t,n,r){return D(t,s0(n,r))},s_=function(t){var n=s1(t);return function(t,r){return D(t,n(r))}},sS=function(t,n,r){return D(t,s3(n,r))},sT=function(t,n,r){return D(t,s2(n,r))},sw=function(t){var n=sX(t);return function(t,r){return D(t,n(r))}},sO=function(t,n,r){return D(t,s5(n,r))},sI=function(t,n){return D(t,sq(n))},sk=function(t,n){return D(t,sG(n))},sM=function(t,n){return D(t,sY(n))},sC=function(t){var n=s4(t);return function(t,r){return D(t,n(r))}},sR=function(t){var n=s6(t);return function(t,r){return D(t,n(r))}},sE=function(t,n){return D(t,cT(n))},sA=function(t,n){return D(t,cw(n))},sj=function(){return cP},sN=function(t){return function(n){return n.concat(t())}},sP=sN,sF=function(t){return sL(function(n){return D(t,sW(n))})},sL=function(t){return function(n){return D(n,uC(function(n,r){return t(r)}))}},sD=sL(k),sW=function(t){return function(n){return n.map(function(n){return t(n)})}},sU=function(t){return function(n){return n.map(function(n,r){return t(r,n)})}},sz=function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];"Left"===o._tag?n.push(o.left):r.push(o.right)}return e_(n,r)},sB=function(t){return function(n){return n.filter(t)}},sq=function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=t(i,n[i]);ea(o)&&r.push(o.value)}return r}},sK=function(t){return sq(function(n,r){return t(r)})},s$=sK(k),sV=function(t){return sH(function(n,r){return t(r)})},sH=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=n[o];t(o,a)?i.push(a):r.push(a)}return e_(r,i)}},sZ=function(t){return sJ(function(n,r){return t(r)})},sJ=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=t(o,n[o]);"Left"===a._tag?r.push(a.left):i.push(a.right)}return e_(r,i)}},sG=function(t){return function(n){return n.filter(function(n,r){return t(r,n)})}},sY=function(t){return function(n){return n.map(function(r,i){return t(n.slice(i))})}},sQ=sY(k),sX=function(t){return function(n){return function(r){return r.reduce(function(r,i,o){return t.concat(r,n(o,i))},t.empty)}}},s0=function(t,n){return s2(t,function(t,r,i){return n(r,i)})},s1=function(t){var n=sX(t);return function(t){return n(function(n,r){return t(r)})}},s2=function(t,n){return function(r){for(var i=r.length,o=t,a=0;a<i;a++)o=n(a,o,r[a]);return o}},s3=function(t,n){return s5(t,function(t,r,i){return n(r,i)})},s5=function(t,n){return function(r){return r.reduceRight(function(t,r,i){return n(i,r,t)},t)}},s4=function(t){var n=s6(t);return function(t){return n(function(n,r){return t(r)})}},s9=function(t){return function(n){return sx(n,t.of(sj()),function(n,r){return t.ap(t.map(n,function(t){return function(n){return D(t,tM(n))}}),r)})}},s6=function(t){return function(n){return s2(t.of(sj()),function(r,i,o){return t.ap(t.map(i,function(t){return function(n){return D(t,tM(n))}}),n(r,o))})}},s8=function(t){var n=cO(t);return function(t){return function(r){return n(r,t)}}},s7=function(t){var n=cI(t);return function(t){return function(r){return n(r,t)}}},ce=function(t,n){for(var r=[],i=t;;){var o=n(i);if(ea(o)){var a=o.value,u=a[0],s=a[1];r.push(u),i=s}else break}return r},ct="ReadonlyArray",cn=function(t){return{show:function(n){return"[".concat(n.map(t.show).join(", "),"]")}}},cr=function(){return{concat:function(t,n){return u_(t)?n:u_(n)?t:t.concat(n)}}},ci=function(){return{concat:cr().concat,empty:cP}},co=function(t){return B(function(n,r){return n.length===r.length&&n.every(function(n,i){return t.equals(n,r[i])})})},ca=function(t){return eH(function(n,r){for(var i=n.length,o=r.length,a=Math.min(i,o),u=0;u<a;u++){var s=t.compare(n[u],r[u]);if(0!==s)return s}return uc.compare(i,o)})},cu=function(t){var n=sa(t);return{concat:function(t,r){return n(r)(t)}}},cs=function(t){return{concat:cu(t).concat,empty:cP}},cc=function(t){var n=su(t);return{concat:function(t,r){return n(r)(t)}}},cl=function(t){var n=ss(t);return{concat:function(t,r){return n(r)(t)}}},cf={URI:ct,map:sc},cd=ee(cf),cp={URI:ct,of:ep},ch={URI:ct,map:sc,ap:sf},cm=eN(ch),cg=eP(ch),cy={URI:ct,map:sc,ap:sf,chain:sd},cv=eq(cy),cb={URI:ct,zero:sj},cx=uv(cb,cp),c_={URI:ct,compact:s$,separate:sz},cS={URI:ct,map:sc,reduce:sx,foldMap:s_,reduceRight:sS,traverse:sC,sequence:s9},cT=function(t){return function(n){for(var r=ux([],t(n),!0),i=[];r.length>0;){var o=r.shift();ec(o)?r.unshift.apply(r,t(o.left)):i.push(o.right)}return i}},cw=function(t){return function(n){var r=t(n),i=[],o=[];function a(n){ec(n)?t(n.left).forEach(function(t){return i.push(t)}):o.push(n.right)}for(var u=0;u<r.length;u++)a(r[u]);for(;i.length>0;)a(i.shift());return o}},cO=ry(cS,c_),cI=rg(cS,c_),ck={URI:ct,map:sc,compact:s$,separate:sz,filter:sp,filterMap:sh,partition:sm,partitionMap:sg,reduce:sx,foldMap:s_,reduceRight:sS,traverse:sC,sequence:s9,wither:cO,wilt:cI},cM=rv(ck),cC={URI:ct,fromEither:uO},cR=oN(cC),cE=function(t,n,r){return eh(r)?tR(t,n,r):r},cA=function(t,n){var r=n.slice();return r.splice(t,1),r},cj=function(t){return t.slice()},cN=function(t){return u_(t)?cP:t.slice()},cP=ey;function cF(t){return function(n){return n.every(t)}}var cL=function(t){return function(n){return n.some(t)}},cD=function(t){var n=n1(t);return function(r){return uI(function(){return t.empty},n(r))}},cW=ep(ev),cU=et(cf),cz=eK(cy),cB=eF(ch);let cq=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:ct,map:sc,alt:sb},Alternative:{URI:ct,map:sc,ap:sf,of:ep,alt:sb,zero:sj},Applicative:{URI:ct,map:sc,ap:sf,of:ep},Apply:ch,Chain:cy,ChainRecBreadthFirst:{URI:ct,map:sc,ap:sf,chain:sd,chainRec:sA},ChainRecDepthFirst:{URI:ct,map:sc,ap:sf,chain:sd,chainRec:sE},Compactable:c_,Do:cW,Extend:{URI:ct,map:sc,extend:sM},Filterable:{URI:ct,map:sc,compact:s$,separate:sz,filter:sp,filterMap:sh,partition:sm,partitionMap:sg},FilterableWithIndex:{URI:ct,map:sc,mapWithIndex:sl,compact:s$,separate:sz,filter:sp,filterMap:sh,partition:sm,partitionMap:sg,partitionMapWithIndex:sv,partitionWithIndex:sy,filterMapWithIndex:sI,filterWithIndex:sk},Foldable:{URI:ct,reduce:sx,foldMap:s_,reduceRight:sS},FoldableWithIndex:{URI:ct,reduce:sx,foldMap:s_,reduceRight:sS,reduceWithIndex:sT,foldMapWithIndex:sw,reduceRightWithIndex:sO},FromEither:cC,Functor:cf,FunctorWithIndex:{URI:ct,map:sc,mapWithIndex:sl},Monad:{URI:ct,map:sc,ap:sf,of:ep,chain:sd},Pointed:cp,Traversable:cS,TraversableWithIndex:{URI:ct,map:sc,mapWithIndex:sl,reduce:sx,foldMap:s_,reduceRight:sS,reduceWithIndex:sT,foldMapWithIndex:sw,reduceRightWithIndex:sO,traverse:sC,sequence:s9,traverseWithIndex:sR},URI:ct,Unfoldable:{URI:ct,unfold:ce},Witherable:ck,Zero:cb,_chainRecBreadthFirst:sA,_chainRecDepthFirst:sE,alt:sP,altW:sN,ap:sF,apFirst:cm,apS:cB,apSecond:cg,append:tM,appendW:tM,bind:cz,bindTo:cU,chain:sL,chainFirst:cv,chainRecBreadthFirst:cw,chainRecDepthFirst:cT,chainWithIndex:uC,chop:st,chunksOf:sr,compact:s$,comprehension:function(t,n,r){void 0===r&&(r=function(){return!0});var i=function(t,o){return eh(o)?D(nB(o),sL(function(n){return i(D(t,tM(n)),nq(o))})):r.apply(void 0,t)?[n.apply(void 0,t)]:cP};return i(cP,t)},concat:so,concatW:so,cons:n3,deleteAt:uY,difference:ss,dropLeft:uz,dropLeftWhile:function(t){return function(n){var r=uU(n,t);return 0===r?n:r===n.length?cP:n.slice(r)}},dropRight:uB,duplicate:sQ,elem:u8,empty:cP,every:cF,exists:cL,extend:sY,filter:sB,filterE:cM,filterMap:sK,filterMapWithIndex:sq,filterWithIndex:sG,findFirst:uK,findFirstMap:u$,findIndex:uq,findLast:uV,findLastIndex:uZ,findLastMap:uH,flap:cd,flatten:sD,foldLeft:uk,foldMap:s1,foldMapWithIndex:sX,foldRight:uM,fromArray:cN,fromEither:uO,fromEitherK:cR,fromOption:uw,fromOptionK:si,fromPredicate:function(t){return function(n){return t(n)?[n]:cP}},getDifferenceMagma:cl,getEq:co,getIntersectionSemigroup:cc,getMonoid:ci,getOrd:ca,getSemigroup:cr,getShow:cn,getUnionMonoid:cs,getUnionSemigroup:cu,guard:cx,head:uN,init:uL,insertAt:uJ,intercalate:cD,intersection:su,intersperse:u9,isEmpty:u_,isNonEmpty:eh,isOutOfBound:tI,last:uP,lefts:u1,lookup:uj,makeBy:uS,map:sW,mapWithIndex:sU,match:uI,matchLeft:uk,matchLeftW:uk,matchRight:uM,matchRightW:uM,matchW:uI,modifyAt:uQ,of:ep,partition:sV,partitionMap:sZ,partitionMapWithIndex:sJ,partitionWithIndex:sH,prepend:tk,prependAll:u4,prependToAll:u4,prependW:tk,range:tD,readonlyArray:{URI:ct,compact:s$,separate:sz,map:sc,ap:sf,of:ep,chain:sd,filter:sp,filterMap:sh,partition:sm,partitionMap:sg,mapWithIndex:sl,partitionMapWithIndex:sv,partitionWithIndex:sy,filterMapWithIndex:sI,filterWithIndex:sk,alt:sb,zero:sj,unfold:ce,reduce:sx,foldMap:s_,reduceRight:sS,traverse:sC,sequence:s9,reduceWithIndex:sT,foldMapWithIndex:sw,reduceRightWithIndex:sO,traverseWithIndex:sR,extend:sM,wither:cO,wilt:cI},reduce:s0,reduceRight:s3,reduceRightWithIndex:s5,reduceWithIndex:s2,replicate:uT,reverse:uX,rights:u0,rotate:u6,scanLeft:uR,scanRight:uE,separate:sz,sequence:s9,size:uA,snoc:n5,some:cL,sort:u2,sortBy:se,spanLeft:function(t){return function(n){var r,i=sn(uU(n,t))(n);return{init:i[0],rest:i[1]}}},splitAt:sn,tail:uF,takeLeft:uD,takeLeftWhile:function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=n[i];if(!t(o))break;r.push(o)}var a=r.length;return a===n.length?n:0===a?cP:r}},takeRight:uW,toArray:cj,traverse:s4,traverseWithIndex:s6,unfold:ce,union:sa,uniq:u7,unsafeDeleteAt:cA,unsafeInsertAt:tC,unsafeUpdateAt:cE,unzip:u5,updateAt:uG,wilt:s7,wither:s8,zero:sj,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:u3(n,r,function(t,n){return[t,n]})},zipWith:u3},Symbol.toStringTag,{value:"Module"}));var cK=function(t){return 0===t.length},c$=function(t,n){return t<=0?[]:oQ(n)(t)},cV=function(t,n){return c$(t,function(){return n})},cH=function(t){return eo(t)?[]:[t.value]},cZ=function(t){return ec(t)?[]:[t.right]},cJ=function(t,n){return function(r){return oU(r)?n(r):t()}},cG=function(t,n){return function(r){return oU(r)?n(a2(r),a3(r)):t()}},cY=function(t,n){return function(r){return oU(r)?n(a4(r),a5(r)):t()}},cQ=function(t){return function(n){for(var r=[],i=0;i<n.length;i++)r.push.apply(r,t(i,n[i]));return r}},cX=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[0]=t;for(var a=0;a<i;a++)o[a+1]=n(o[a],r[a]);return o}},c0=function(t,n){return function(r){var i=r.length,o=Array(i+1);o[i]=t;for(var a=i-1;a>=0;a--)o[a]=n(r[a],o[a+1]);return o}},c1=function(t){return t.length},c2=function(t){return oU(t)?es(a3(t)):eu},c3=function(t){return oU(t)?es(a4(t)):eu},c5=function(t){return function(n){return oz(t,n)?lt(n):n.slice(0,t)}},c4=function(t){return function(n){return oz(t,n)?lt(n):0===t?[]:n.slice(-t)}},c9=function(t,n){for(var r=t.length,i=0;i<r&&n(t[i]);i++);return i},c6=function(t){return function(n){return t<=0||cK(n)?lt(n):t>=n.length?[]:n.slice(t,n.length)}},c8=function(t){return function(n){return t<=0||cK(n)?lt(n):t>=n.length?[]:n.slice(0,n.length-t)}};function c7(t){return uK(t)}function le(t){return uV(t)}var lt=function(t){return t.slice()},ln=function(t,n){return function(r){return t<0||t>r.length?eu:es(fz(t,n,r))}},lr=function(t,n){return lo(t,function(){return n})},li=function(t){return function(n){return oz(t,n)?eu:es(fq(t,n))}},lo=function(t,n){return function(r){return oz(t,r)?eu:es(fB(t,n(r[t]),r))}},la=function(t){return cK(t)?[]:t.slice().reverse()},lu=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Right"===i._tag&&n.push(i.right)}return n},ls=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];"Left"===i._tag&&n.push(i.left)}return n},lc=function(t){return function(n){return n.length<=1?lt(n):n.slice().sort(t.compare)}},ll=function(t,n,r){for(var i=[],o=Math.min(t.length,n.length),a=0;a<o;a++)i[a]=r(t[a],n[a]);return i},lf=function(t){for(var n=[],r=[],i=0;i<t.length;i++)n[i]=t[i][0],r[i]=t[i][1];return[n,r]},ld=function(t){var n=aa(t);return function(t){return oU(t)?n(t):[]}},lp=function(t){var n=au(t);return function(t){return oU(t)?n(t):lt(t)}},lh=function(t){var n=oJ(t);return function(t){return oU(t)?n(t):lt(t)}},lm=function(t){var n=oV(t);return function(t){return oU(t)?n(t):lt(t)}},lg=function(t){var n=oH(t);return function(t){return oU(t)?n(t):lt(t)}},ly=function(t){var n=ac(t);return function(t){return oU(t)?n(t):[]}},lv=function(t){return function(n){return t>=1&&oU(n)?al(t)(n):cK(n)?[lt(n),[]]:[[],lt(n)]}},lb=function(t){var n=af(t);return function(t){return oU(t)?n(t):[]}},lx=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return cH(t.apply(void 0,n))}},l_=function(t){return function(n){return cK(n)?lt(t):cK(t)?lt(n):n.concat(t)}};function lS(t){var n=oZ(t);return function(r,i){if(void 0===i){var o=lS(t);return function(t){return o(t,r)}}return oU(r)&&oU(i)?n(i)(r):oU(r)?lt(r):lt(i)}}function lT(t){var n=u8(t);return function(r,i){if(void 0===i){var o=lT(t);return function(t){return o(t,r)}}return r.filter(function(t){return n(t,i)})}}function lw(t){var n=u8(t);return function(r,i){if(void 0===i){var o=lw(t);return function(t){return o(t,r)}}return r.filter(function(t){return!n(t,i)})}}var lO=function(t,n){return D(t,lZ(n))},lI=function(t,n){return D(t,lQ(n))},lk=function(t,n){return D(t,lJ(n))},lM=function(t,n){return D(t,lG(n))},lC=function(t,n){return D(t,l3(n))},lR=function(t,n){return D(t,l0(n))},lE=function(t,n){return D(t,l5(n))},lA=function(t,n){return D(t,l9(n))},lj=function(t,n){return D(t,l4(n))},lN=function(t,n){return D(t,l6(n))},lP=function(t,n){return D(t,l7(n))},lF=function(t,n,r){return D(t,fo(n,r))},lL=function(t){var n=fr(t);return function(t,r){return D(t,n(r))}},lD=function(t,n,r){return D(t,fu(n,r))},lW=function(t,n,r){return D(t,fa(n,r))},lU=function(t){var n=fi(t);return function(t,r){return D(t,n(r))}},lz=function(t,n,r){return D(t,fs(n,r))},lB=function(t,n){return D(t,lX(n))},lq=function(t,n){return D(t,fe(n))},lK=function(t,n){return D(t,ft(n))},l$=function(t){var n=fc(t);return function(t,r){return D(t,n(r))}},lV=function(t){var n=ff(t);return function(t,r){return D(t,n(r))}},lH=function(){return[]},lZ=function(t){return function(n){return n.map(function(n){return t(n)})}},lJ=function(t){return lG(function(n){return D(t,lZ(n))})},lG=function(t){return function(n){return D(n,cQ(function(n,r){return t(r)}))}},lY=lG(k),lQ=function(t){return function(n){return n.map(function(n,r){return t(r,n)})}},lX=function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=t(i,n[i]);ea(o)&&r.push(o.value)}return r}},l0=function(t){return lX(function(n,r){return t(r)})},l1=l0(k),l2=function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];"Left"===o._tag?n.push(o.left):r.push(o.right)}return e_(n,r)},l3=function(t){return function(n){return n.filter(t)}},l5=function(t){return l4(function(n,r){return t(r)})},l4=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=n[o];t(o,a)?i.push(a):r.push(a)}return e_(r,i)}},l9=function(t){return l6(function(n,r){return t(r)})},l6=function(t){return function(n){for(var r=[],i=[],o=0;o<n.length;o++){var a=t(o,n[o]);"Left"===a._tag?r.push(a.left):i.push(a.right)}return e_(r,i)}},l8=function(t){return function(n){return n.concat(t())}},l7=l8,fe=function(t){return function(n){return n.filter(function(n,r){return t(r,n)})}},ft=function(t){return function(n){return n.map(function(r,i){return t(n.slice(i))})}},fn=ft(k),fr=s1,fi=sX,fo=s0,fa=s2,fu=s3,fs=s5,fc=function(t){var n=ff(t);return function(t){return n(function(n,r){return t(r)})}},fl=function(t){return function(n){return lF(n,t.of(lH()),function(n,r){return t.ap(t.map(n,function(t){return function(n){return D(t,oq(n))}}),r)})}},ff=function(t){return function(n){return fa(t.of(lH()),function(r,i,o){return t.ap(t.map(i,function(t){return function(n){return D(t,oq(n))}}),n(r,o))})}},fd=function(t){var n=fP(t);return function(t){return function(r){return n(r,t)}}},fp=function(t){var n=fF(t);return function(t){return function(r){return n(r,t)}}},fh=function(t,n){for(var r=[],i=t;;){var o=n(i);if(ea(o)){var a=o.value,u=a[0],s=a[1];r.push(u),i=s}else break}return r},fm="Array",fg=function(){return{concat:function(t,n){return t.concat(n)}}},fy=function(){return{concat:fg().concat,empty:[]}},fv=function(t){var n=lS(t);return{concat:function(t,r){return n(r)(t)}}},fb=function(t){return{concat:fv(t).concat,empty:[]}},fx=function(t){var n=lT(t);return{concat:function(t,r){return n(r)(t)}}},f_=function(t){var n=lw(t);return{concat:function(t,r){return n(r)(t)}}},fS={URI:fm,map:lO},fT=ee(fS),fw={URI:fm,of:ar},fO={URI:fm,map:lO,ap:lk},fI=eN(fO),fk=eP(fO),fM={URI:fm,map:lO,ap:lk,chain:lM},fC=eq(fM),fR={URI:fm,zero:lH},fE=uv(fR,fw),fA={URI:fm,compact:l1,separate:l2},fj={URI:fm,reduce:lF,foldMap:lL,reduceRight:lD},fN={URI:fm,map:lO,reduce:lF,foldMap:lL,reduceRight:lD,traverse:l$,sequence:fl},fP=ry(fN,fA),fF=rg(fN,fA),fL={URI:fm,map:lO,compact:l1,separate:l2,filter:lC,filterMap:lR,partition:lE,partitionMap:lA,reduce:lF,foldMap:lL,reduceRight:lD,traverse:l$,sequence:fl,wither:fP,wilt:fF},fD=rv(fL),fW={URI:fm,fromEither:cZ},fU=oN(fW),fz=oK,fB=function(t,n,r){return oU(r)?o$(t,n,r):[]},fq=function(t,n){var r=n.slice();return r.splice(t,1),r},fK=function(t){return function(n){return n.some(t)}},f$=ar(ev),fV=et(fS),fH=eK(fM),fZ=eF(fO);let fJ=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:fm,map:lO,alt:lP},Alternative:{URI:fm,map:lO,ap:lk,of:ar,alt:lP,zero:lH},Applicative:{URI:fm,map:lO,ap:lk,of:ar},Apply:fO,Chain:fM,ChainRecBreadthFirst:{URI:fm,map:lO,ap:lk,chain:lM,chainRec:sA},ChainRecDepthFirst:{URI:fm,map:lO,ap:lk,chain:lM,chainRec:sE},Compactable:fA,Do:f$,Extend:{URI:fm,map:lO,extend:lK},Filterable:{URI:fm,map:lO,compact:l1,separate:l2,filter:lC,filterMap:lR,partition:lE,partitionMap:lA},FilterableWithIndex:{URI:fm,map:lO,mapWithIndex:lI,compact:l1,separate:l2,filter:lC,filterMap:lR,partition:lE,partitionMap:lA,partitionMapWithIndex:lN,partitionWithIndex:lj,filterMapWithIndex:lB,filterWithIndex:lq},Foldable:fj,FoldableWithIndex:{URI:fm,reduce:lF,foldMap:lL,reduceRight:lD,reduceWithIndex:lW,foldMapWithIndex:lU,reduceRightWithIndex:lz},FromEither:fW,Functor:fS,FunctorWithIndex:{URI:fm,map:lO,mapWithIndex:lI},Monad:{URI:fm,map:lO,ap:lk,of:ar,chain:lM},Pointed:fw,Traversable:fN,TraversableWithIndex:{URI:fm,map:lO,mapWithIndex:lI,reduce:lF,foldMap:lL,reduceRight:lD,reduceWithIndex:lW,foldMapWithIndex:lU,reduceRightWithIndex:lz,traverse:l$,sequence:fl,traverseWithIndex:lV},URI:fm,Unfoldable:{URI:fm,unfold:fh},Witherable:fL,Zero:fR,alt:l7,altW:l8,ap:lJ,apFirst:fI,apS:fZ,apSecond:fk,append:oq,appendW:oq,array:{URI:fm,compact:l1,separate:l2,map:lO,ap:lk,of:ar,chain:lM,filter:lC,filterMap:lR,partition:lE,partitionMap:lA,mapWithIndex:lI,partitionMapWithIndex:lN,partitionWithIndex:lj,filterMapWithIndex:lB,filterWithIndex:lq,alt:lP,zero:lH,unfold:fh,reduce:lF,foldMap:lL,reduceRight:lD,traverse:l$,sequence:fl,reduceWithIndex:lW,foldMapWithIndex:lU,reduceRightWithIndex:lz,traverseWithIndex:lV,extend:lK,wither:fP,wilt:fF},bind:fH,bindTo:fV,chain:lG,chainFirst:fC,chainRecBreadthFirst:cw,chainRecDepthFirst:cT,chainWithIndex:cQ,chop:ly,chunksOf:lb,compact:l1,comprehension:function(t,n,r){void 0===r&&(r=function(){return!0});var i=function(t,o){return oU(o)?D(a2(o),lG(function(n){return i(D(t,oq(n)),a3(o))})):r.apply(void 0,t)?[n.apply(void 0,t)]:[]};return i([],t)},concat:l_,concatW:l_,cons:ui,copy:lt,deleteAt:li,difference:lw,dropLeft:c6,dropLeftWhile:function(t){return function(n){return n.slice(c9(n,t))}},dropRight:c8,duplicate:fn,elem:u8,empty:[],every:cF,exists:fK,extend:ft,filter:l3,filterE:fD,filterMap:l0,filterMapWithIndex:lX,filterWithIndex:fe,findFirst:c7,findFirstMap:u$,findIndex:uq,findLast:le,findLastIndex:uZ,findLastMap:uH,flap:fT,flatten:lY,foldLeft:cG,foldMap:fr,foldMapWithIndex:fi,foldRight:cY,fromEither:cZ,fromEitherK:fU,fromOption:cH,fromOptionK:lx,fromPredicate:function(t){return function(n){return t(n)?[n]:[]}},getDifferenceMagma:f_,getEq:co,getIntersectionSemigroup:fx,getMonoid:fy,getOrd:ca,getSemigroup:fg,getShow:cn,getUnionMonoid:fb,getUnionSemigroup:fv,guard:fE,head:uN,init:c3,insertAt:ln,intercalate:cD,intersection:lT,intersperse:lp,isEmpty:cK,isNonEmpty:oU,isOutOfBound:oz,last:uP,lefts:ls,lookup:uj,makeBy:c$,map:lZ,mapWithIndex:lQ,match:cJ,matchLeft:cG,matchLeftW:cG,matchRight:cY,matchRightW:cY,matchW:cJ,modifyAt:lo,of:ar,partition:l5,partitionMap:l9,partitionMapWithIndex:l6,partitionWithIndex:l4,prepend:oB,prependAll:ld,prependToAll:ld,prependW:oB,range:o0,reduce:fo,reduceRight:fu,reduceRightWithIndex:fs,reduceWithIndex:fa,replicate:cV,reverse:la,rights:lu,rotate:lh,scanLeft:cX,scanRight:c0,separate:l2,sequence:fl,size:c1,snoc:uo,some:fK,sort:lc,sortBy:lg,spanLeft:function(t){return function(n){var r,i=lv(c9(n,t))(n);return{init:i[0],rest:i[1]}}},splitAt:lv,tail:c2,takeLeft:c5,takeLeftWhile:function(t){return function(n){for(var r=[],i=0;i<n.length;i++){var o=n[i];if(!t(o))break;r.push(o)}return r}},takeRight:c4,traverse:fc,traverseWithIndex:ff,unfold:fh,union:lS,uniq:lm,unsafeDeleteAt:fq,unsafeInsertAt:fz,unsafeUpdateAt:fB,unzip:lf,updateAt:lr,wilt:fp,wither:fd,zero:lH,zip:function t(n,r){return void 0===r?function(r){return t(r,n)}:ll(n,r,function(t,n){return[t,n]})},zipWith:ll},Symbol.toStringTag,{value:"Module"})),fG=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var fY=function(t){return"boolean"==typeof t},fQ=function(t,n){return function(r){return r?n():t()}},fX={equals:function(t,n){return t===n}},f0={concat:function(t,n){return t&&n}},f1={concat:function(t,n){return t||n}},f2={concat:f0.concat,empty:!0},f3={concat:f1.concat,empty:!1},f5={equals:fX.equals,compare:function(t,n){return t<n?-1:t>n?1:0}};let f4=Object.freeze(Object.defineProperty({__proto__:null,BooleanAlgebra:{meet:function(t,n){return t&&n},join:function(t,n){return t||n},zero:!1,one:!0,implies:function(t,n){return!t||n},not:function(t){return!t}},Eq:fX,MonoidAll:f2,MonoidAny:f3,Ord:f5,SemigroupAll:f0,SemigroupAny:f1,Show:{show:function(t){return JSON.stringify(t)}},fold:fQ,foldW:fQ,isBoolean:fY,match:fQ,matchW:fQ},Symbol.toStringTag,{value:"Module"}));var f9=function(t){return{meet:function(n,r){return t.join(n,r)},join:function(n,r){return t.meet(n,r)},zero:t.one,one:t.zero,implies:function(n,r){return t.join(t.not(n),r)},not:t.not}};let f6=Object.freeze(Object.defineProperty({__proto__:null,booleanAlgebraBoolean:{meet:function(t,n){return t&&n},join:function(t,n){return t||n},zero:!1,one:!0,implies:function(t,n){return!t||n},not:function(t){return!t}},booleanAlgebraVoid:{meet:function(){},join:function(){},zero:void 0,one:void 0,implies:function(){},not:function(){}},getDualBooleanAlgebra:f9,getFunctionBooleanAlgebra:_,reverse:f9},Symbol.toStringTag,{value:"Module"}));var f8=function(t){return e8(t)(t.bottom,t.top)},f7=function(t){var n=eJ(t);return{equals:n.equals,compare:n.compare,top:t.bottom,bottom:t.top}},de={equals:te.equals,compare:te.compare,top:1/0,bottom:-1/0};let dt=Object.freeze(Object.defineProperty({__proto__:null,boundedNumber:de,clamp:f8,reverse:f7},Symbol.toStringTag,{value:"Module"}));function dn(t){return{meet:e9(t),join:e6(t)}}let dr=Object.freeze(Object.defineProperty({__proto__:null,getMinMaxDistributiveLattice:dn},Symbol.toStringTag,{value:"Module"})),di=Object.freeze(Object.defineProperty({__proto__:null,getMinMaxBoundedDistributiveLattice:function(t){var n=dn(t);return function(t,r){return{join:n.join,meet:n.meet,zero:t,one:r}}}},Symbol.toStringTag,{value:"Module"})),da=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),du=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ds=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),dc=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var dl=function(t,n){for(var r=n(t);"Left"===r._tag;)r=n(r.left);return r.right};let df=Object.freeze(Object.defineProperty({__proto__:null,tailRec:dl},Symbol.toStringTag,{value:"Module"}));function dd(t,n){return function(r,i){return n.compose(t.right(i),t.left(r))}}function dp(t,n){var r=dd(t,n);return function(i,o){return n.compose(t.promap(n.id(),function(t){return"Left"===t._tag?t.left:t.right},k),r(i,o))}}let dh=Object.freeze(Object.defineProperty({__proto__:null,fanIn:dp,fanin:function(t){return dp(t,t)},split:dd,splitChoice:function(t){return dd(t,t)}},Symbol.toStringTag,{value:"Module"})),dm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var dg=function(t,n){return D(t,dy(n))},dy=function(t){return function(n){return j(t,n)}},dv="Predicate",db=function(){return{concat:function(t,n){return D(t,dw(n))}}},dx=function(){return{concat:db().concat,empty:R}},d_=function(){return{concat:function(t,n){return D(t,dO(n))}}},dS=function(){return{concat:d_().concat,empty:C}},dT=function(t){return function(n){return!t(n)}},dw=function(t){return function(n){return function(r){return n(r)||t(r)}}},dO=function(t){return function(n){return function(r){return n(r)&&t(r)}}};let dI=Object.freeze(Object.defineProperty({__proto__:null,Contravariant:{URI:dv,contramap:dg},URI:dv,and:dO,contramap:dy,getMonoidAll:dS,getMonoidAny:dx,getSemigroupAll:d_,getSemigroupAny:db,not:dT,or:dw},Symbol.toStringTag,{value:"Module"}));function dk(t){return function(n){return t(n)?es(n):eu}}var dM=function(t){return"Right"===t._tag?eu:es(t.left)},dC=function(t){return"Left"===t._tag?eu:es(t.right)},dR=function(t,n){return D(t,dZ(n))},dE=function(t,n){return D(t,dY(n))},dA=function(t,n){return D(t,d0(n))},dj=function(t,n,r){return D(t,d2(n,r))},dN=function(t){var n=d3(t);return function(t,r){return D(t,n(r))}},dP=function(t,n,r){return D(t,d5(n,r))},dF=function(t){var n=pl(t);return function(t,r){return D(t,n(r))}},dL=function(t,n){return D(t,d9(n))},dD=function(t,n){return D(t,po(n))},dW=function(t,n){return D(t,pa(n))},dU=function(t,n){return D(t,pe(n))},dz=function(t,n){return D(t,pu(n))},dB=function(t,n){return D(t,ps(n))},dq="Option",dK=function(t){return{show:function(n){return px(n)?"none":"some(".concat(t.show(n.value),")")}}},d$=function(t){return{equals:function(n,r){return n===r||(px(n)?px(r):!px(r)&&t.equals(n.value,r.value))}}},dV=function(t){return{equals:d$(t).equals,compare:function(n,r){return n===r?0:pb(n)?pb(r)?t.compare(n.value,r.value):1:-1}}},dH=function(t){return{concat:function(n,r){return px(n)?r:px(r)?n:es(t.concat(n.value,r.value))},empty:eu}},dZ=function(t){return function(n){return px(n)?eu:es(t(n.value))}},dJ={URI:dq,map:dR},dG={URI:dq,of:es},dY=function(t){return function(n){return px(n)||px(t)?eu:es(n.value(t.value))}},dQ={URI:dq,map:dR,ap:dE},dX={URI:dq,map:dR,ap:dE,of:es},d0=function(t){return function(n){return px(n)?eu:t(n.value)}},d1={URI:dq,map:dR,ap:dE,chain:dA},d2=function(t,n){return function(r){return px(r)?t:n(t,r.value)}},d3=function(t){return function(n){return function(r){return px(r)?t.empty:n(r.value)}}},d5=function(t,n){return function(r){return px(r)?t:n(r.value,t)}},d4=function(t){return function(n){return px(n)?t():n}},d9=d4,d6=function(){return eu},d8={URI:dq,zero:d6},d7=uv(d8,dG),pe=function(t){return function(n){return px(n)?eu:es(t(n))}},pt=d0(k),pn=e_(eu,eu),pr=function(t){return px(t)?pn:e_(dM(t.value),dC(t.value))},pi={URI:dq,compact:pt,separate:pr},po=function(t){return function(n){return px(n)?eu:t(n.value)?n:eu}},pa=function(t){return function(n){return px(n)?eu:t(n.value)}},pu=function(t){return function(n){return e_(dD(n,dT(t)),dD(n,t))}},ps=function(t){return j(dZ(t),pr)},pc={URI:dq,map:dR,compact:pt,separate:pr,filter:dD,filterMap:dW,partition:dz,partitionMap:dB},pl=function(t){return function(n){return function(r){return px(r)?t.of(eu):t.map(n(r.value),es)}}},pf=function(t){return function(n){return px(n)?t.of(eu):t.map(n.value,es)}},pd={URI:dq,map:dR,reduce:dj,foldMap:dN,reduceRight:dP,traverse:dF,sequence:pf},pp=ry(pd,pi),ph=rg(pd,pi),pm=function(t){var n=pp(t);return function(t){return function(r){return n(r,t)}}},pg=function(t){var n=ph(t);return function(t){return function(r){return n(r,t)}}},py=function(){return eu},pv={URI:dq,fromEither:dC},pb=ea,px=function(t){return"None"===t._tag},p_=function(t,n){return function(r){return px(r)?t():n(r.value)}},pS=function(t){return function(n){return px(n)?t():n.value}},pT=ee(dJ),pw=eN(dQ),pO=eP(dQ),pI=eq(d1),pk=pe(k),pM=oN(pv),pC=oP(pv,d1),pR=oF(pv,d1),pE=function(t){return null==t?eu:es(t)},pA=function(t){try{return es(t())}catch{return eu}},pj=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return pA(function(){return t.apply(void 0,n)})}},pN=function(t){return j(t,pE)},pP=function(t){return function(n){return px(n)?eu:pE(t(n.value))}},pF=p_(E,k),pL=p_(A,k),pD=function(t){return function(n){return!px(n)&&t(n.value)}},pW=es(ev),pU=et(dJ),pz=eK(d1),pB=eF(dQ),pq=es(ey),pK=function(t){return function(n){var r=t(0,em(n));if(px(r))return eu;for(var i=[r.value],o=1;o<n.length;o++){var a=t(o,n[o]);if(px(a))return eu;i.push(a.value)}return es(i)}},p$=function(t){var n=pK(t);return function(t){return eh(t)?n(t):pq}},pV=function(t){return p$(function(n,r){return t(r)})},pH=pV(k),pZ={URI:dq,map:dR,of:es,ap:dE,chain:dA,reduce:dj,foldMap:dN,reduceRight:dP,traverse:dF,sequence:pf,zero:d6,alt:dL,extend:dU,compact:pt,separate:pr,filter:dD,filterMap:dW,partition:dz,partitionMap:dB,wither:pp,wilt:ph,throwError:py},pJ=eL(dQ),pG=ok(dX),pY=function(){return dH(tm())},pQ=function(){return dH(tg())};let pX=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:dq,map:dR,alt:dL},Alternative:{URI:dq,map:dR,ap:dE,of:es,alt:dL,zero:d6},ApT:pq,Applicative:dX,Apply:dQ,Chain:d1,Compactable:pi,Do:pW,Extend:{URI:dq,map:dR,extend:dU},Filterable:pc,Foldable:{URI:dq,reduce:dj,foldMap:dN,reduceRight:dP},FromEither:pv,Functor:dJ,Monad:{URI:dq,map:dR,ap:dE,of:es,chain:dA},MonadThrow:{URI:dq,map:dR,ap:dE,of:es,chain:dA,throwError:py},Pointed:dG,Traversable:pd,URI:dq,Witherable:{URI:dq,map:dR,reduce:dj,foldMap:dN,reduceRight:dP,traverse:dF,sequence:pf,compact:pt,separate:pr,filter:dD,filterMap:dW,partition:dz,partitionMap:dB,wither:pp,wilt:ph},Zero:d8,alt:d9,altW:d4,ap:dY,apFirst:pw,apS:pB,apSecond:pO,bind:pz,bindTo:pU,chain:d0,chainEitherK:pC,chainFirst:pI,chainFirstEitherK:pR,chainNullableK:pP,compact:pt,duplicate:pk,elem:function t(n){return function(r,i){if(void 0===i){var o=t(n);return function(t){return o(r,t)}}return!px(i)&&n.equals(r,i.value)}},exists:pD,extend:pe,filter:po,filterMap:pa,flap:pT,flatten:pt,fold:p_,foldMap:d3,foldW:p_,fromEither:dC,fromEitherK:pM,fromNullable:pE,fromNullableK:pN,fromPredicate:dk,getApplyMonoid:pG,getApplySemigroup:pJ,getEq:d$,getFirstMonoid:pY,getLastMonoid:pQ,getLeft:dM,getMonoid:dH,getOrElse:pS,getOrElseW:pS,getOrd:dV,getRefinement:function(t){return function(n){return pb(t(n))}},getRight:dC,getShow:dK,guard:d7,isNone:px,isSome:pb,map:dZ,mapNullable:pP,match:p_,matchW:p_,none:eu,of:es,option:pZ,partition:pu,partitionMap:ps,reduce:d2,reduceRight:d5,separate:pr,sequence:pf,sequenceArray:pH,some:es,throwError:py,toNullable:pF,toUndefined:pL,traverse:pl,traverseArray:pV,traverseArrayWithIndex:p$,traverseReadonlyArrayWithIndex:p$,traverseReadonlyNonEmptyArrayWithIndex:pK,tryCatch:pA,tryCatchK:pj,wilt:pg,wither:pm,zero:d6},Symbol.toStringTag,{value:"Module"}));function p0(t,n){return function(r){return t.map(r,n.compact)}}function p1(t,n,r){var i=p0(t,n),o=X(t,r);return function(t){return e_(i(D(t,o(dM))),i(D(t,o(dC))))}}let p2=Object.freeze(Object.defineProperty({__proto__:null,compact:p0,getCompactableComposition:function(t,n){return{map:en(t,n).map,compact:p0(t,n),separate:p1(t,n,n)}},separate:p1},Symbol.toStringTag,{value:"Module"}));var p3=function(t){return function(){return console.log(t)}},p5=function(t){return function(){return console.warn(t)}},p4=function(t){return function(){return console.error(t)}},p9=function(t){return function(){return console.info(t)}};let p6=Object.freeze(Object.defineProperty({__proto__:null,error:p4,info:p9,log:p3,warn:p5},Symbol.toStringTag,{value:"Module"}));function p8(t){return{URI:hs,_E:void 0,map:ht,ap:function(n,r){return k(t.concat(n,r))}}}function p7(t){var n=p8(t);return{URI:hs,_E:void 0,map:n.map,ap:n.ap,of:function(){return k(t.empty)}}}var he=function(t,n){return D(t,hi())},ht=function(t,n){return D(t,ho())},hn=function(t,n,r){return D(t,ha(n))},hr=function(t,n){return D(t,hu(n))},hi=function(){return k},ho=function(){return k},ha=function(t){return function(n){return k(t(n))}},hu=function(t){return function(n){return k(t(n))}},hs="Const",hc={URI:hs,map:ht},hl=ee(hc);let hf=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:hs,bimap:hn,mapLeft:hr},Contravariant:{URI:hs,contramap:he},Functor:hc,URI:hs,bimap:ha,const_:{URI:hs,map:ht,contramap:he,bimap:hn,mapLeft:hr},contramap:hi,flap:hl,getApplicative:p7,getApply:p8,getBooleanAlgebra:k,getBounded:k,getEq:k,getHeytingAlgebra:k,getMonoid:k,getOrd:k,getRing:k,getSemigroup:k,getSemiring:k,getShow:function(t){return{show:function(n){return"make(".concat(t.show(n),")")}}},make:k,map:ho,mapLeft:hu},Symbol.toStringTag,{value:"Module"})),hd=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var hp=D(uc,eG(function(t){return t.valueOf()})),hh=function(){return new Date},hm=function(){return new Date().getTime()};let hg=Object.freeze(Object.defineProperty({__proto__:null,Eq:{equals:function(t,n){return t.valueOf()===n.valueOf()}},Ord:hp,create:hh,eqDate:{equals:function(t,n){return t.getDate()===n.getDate()}},eqMonth:{equals:function(t,n){return t.getMonth()===n.getMonth()}},eqYear:{equals:function(t,n){return t.getFullYear()===n.getFullYear()}},now:hm},Symbol.toStringTag,{value:"Module"}));var hy=function(t,n){return D(t,hD(n))},hv=function(t,n){return D(t,hB(n))},hb=function(t,n){return D(t,hV(n))},hx=function(t,n,r){return D(t,hZ(n,r))},h_=function(t){return function(n,r){var i=hJ(t);return D(n,i(r))}},hS=function(t,n,r){return D(t,hG(n,r))},hT=function(t){var n=hY(t);return function(t,r){return D(t,n(r))}},hw=function(t,n,r){return D(t,h0(n,r))},hO=function(t,n){return D(t,h1(n))},hI=function(t,n){return D(t,h3(n))},hk=function(t,n){return D(t,h5(n))},hM=function(t,n){return dl(n(t),function(t){return h8(t)?ed(ef(t.left)):h8(t.right)?ef(n(t.right.left)):ed(ed(t.right.right))})},hC="Either",hR=function(t,n){return{show:function(r){return h8(r)?"left(".concat(t.show(r.left),")"):"right(".concat(n.show(r.right),")")}}},hE=function(t,n){return{equals:function(r,i){return r===i||(h8(r)?h8(i)&&t.equals(r.left,i.left):h7(i)&&n.equals(r.right,i.right))}}},hA=function(t){return{concat:function(n,r){return h8(r)?n:h8(n)?r:ed(t.concat(n.right,r.right))}}},hj=function(t){var n=ef(t.empty);return{URI:hC,_E:void 0,compact:function(t){return h8(t)?t:"None"===t.right._tag?n:ed(t.right.value)},separate:function(t){return h8(t)?e_(t,t):h8(t.right)?e_(ed(t.right.left),n):e_(n,ed(t.right.right))}}},hN=function(t){var n,r=ef(t.empty),i=hj(t),o=i.compact;return{URI:hC,_E:void 0,map:hy,compact:o,separate:i.separate,filter:function(t,n){return h8(t)||n(t.right)?t:r},filterMap:function(t,n){if(h8(t))return t;var i=n(t.right);return"None"===i._tag?r:ed(i.value)},partition:function(t,n){return h8(t)?e_(t,t):n(t.right)?e_(r,ed(t.right)):e_(ed(t.right),r)},partitionMap:function(t,n){if(h8(t))return e_(t,t);var i=n(t.right);return h8(i)?e_(ed(i.left),r):e_(r,ed(i.right))}}},hP=function(t){var n=hN(t),r=hj(t);return{URI:hC,_E:void 0,map:hy,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:hT,sequence:hQ,reduce:hx,foldMap:h_,reduceRight:hS,wither:ry(hX,r),wilt:rg(hX,r)}},hF=function(t){return{URI:hC,_E:void 0,map:hy,ap:function(n,r){return h8(n)?h8(r)?ef(t.concat(n.left,r.left)):n:h8(r)?r:ed(n.right(r.right))},of:hU}},hL=function(t){return{URI:hC,_E:void 0,map:hy,alt:function(n,r){if(h7(n))return n;var i=r();return h8(i)?ef(t.concat(n.left,i.left)):i}}},hD=function(t){return function(n){return h8(n)?n:ed(t(n.right))}},hW={URI:hC,map:hy},hU=ed,hz=function(t){return function(n){return h8(n)?n:h8(t)?t:ed(n.right(t.right))}},hB=hz,hq={URI:hC,map:hy,ap:hv},hK={URI:hC,map:hy,ap:hv,of:hU},h$=function(t){return function(n){return h8(n)?n:t(n.right)}},hV=h$,hH={URI:hC,map:hy,ap:hv,chain:hb},hZ=function(t,n){return function(r){return h8(r)?t:n(t,r.right)}},hJ=function(t){return function(n){return function(r){return h8(r)?t.empty:n(r.right)}}},hG=function(t,n){return function(r){return h8(r)?t:n(r.right,t)}},hY=function(t){return function(n){return function(r){return h8(r)?t.of(ef(r.left)):t.map(n(r.right),ed)}}},hQ=function(t){return function(n){return h8(n)?t.of(ef(n.left)):t.map(n.right,ed)}},hX={URI:hC,map:hy,reduce:hx,foldMap:h_,reduceRight:hS,traverse:hT,sequence:hQ},h0=function(t,n){return function(r){return h8(r)?ef(t(r.left)):ed(n(r.right))}},h1=function(t){return function(n){return h8(n)?ef(t(n.left)):n}},h2=function(t){return function(n){return h8(n)?t():n}},h3=h2,h5=function(t){return function(n){return h8(n)?n:ed(t(n))}},h4={URI:hC,fromEither:k},h9=oE(h4),h6=oR(h4),h8=ec,h7=el,me=function(t,n){return function(r){return h8(r)?t(r.left):n(r.right)}},mt=function(t){return function(n){return h8(n)?t(n.left):n.right}},mn=ee(hW),mr=eN(hq),mi=eP(hq),mo=eq(hH),ma=h$(k),mu=h5(k),ms=oA(h4),mc=oj(h4,hH),ml=oL(h4,hH),mf=function(t){return h8(t)?ed(t.left):ef(t.right)},md=function(t){return function(n){return h8(n)?t(n.left):n}},mp=function(t){return function(n){return null==n?ef(t):ed(n)}},mh=function(t,n){try{return ed(t())}catch(r){return ef(n(r))}},mm=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return mh(function(){return t.apply(void 0,r)},n)}},mg=function(t){var n=mp(t);return function(t){return j(t,n)}},my=function(t){var n=mg(t);return function(t){return hV(n(t))}},mv=me(k,k),mb=function(t){return function(n){return!h8(n)&&t(n.right)}},mx=hU(ev),m_=et(hW),mS=eK(hH),mT=eF(hq),mw=hU(ey),mO=function(t){return function(n){var r=t(0,em(n));if(h8(r))return r;for(var i=[r.right],o=1;o<n.length;o++){var a=t(o,n[o]);if(h8(a))return a;i.push(a.right)}return ed(i)}},mI=function(t){var n=mO(t);return function(t){return eh(t)?n(t):mw}},mk=function(t){return mI(function(n,r){return t(r)})},mM=mk(k),mC=function(t,n){return mh(function(){var n=JSON.stringify(t);if("string"!=typeof n)throw Error("Converting unsupported structure to JSON");return n},n)},mR=eL(hq),mE=ok(hK),mA=function(t,n){return eL(hF(t))(n)},mj=function(t,n){return ok(hF(t))(n)};let mN=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:hC,map:hy,alt:hI},ApT:mw,Applicative:hK,Apply:hq,Bifunctor:{URI:hC,bimap:hw,mapLeft:hO},Chain:hH,ChainRec:{URI:hC,map:hy,ap:hv,chain:hb,chainRec:hM},Do:mx,Extend:{URI:hC,map:hy,extend:hk},Foldable:{URI:hC,reduce:hx,foldMap:h_,reduceRight:hS},FromEither:h4,Functor:hW,Monad:{URI:hC,map:hy,ap:hv,of:hU,chain:hb},MonadThrow:{URI:hC,map:hy,ap:hv,of:hU,chain:hb,throwError:ef},Pointed:{URI:hC,of:hU},Traversable:hX,URI:hC,alt:h3,altW:h2,ap:hB,apFirst:mr,apFirstW:mr,apS:mT,apSW:mT,apSecond:mi,apSecondW:mi,apW:hz,bimap:h0,bind:mS,bindTo:m_,bindW:mS,chain:hV,chainFirst:mo,chainFirstW:mo,chainNullableK:my,chainOptionK:mc,chainW:h$,duplicate:mu,either:{URI:hC,map:hy,of:hU,ap:hv,chain:hb,reduce:hx,foldMap:h_,reduceRight:hS,traverse:hT,sequence:hQ,bimap:hw,mapLeft:hO,alt:hI,extend:hk,chainRec:hM,throwError:ef},elem:function t(n){return function(r,i){if(void 0===i){var o=t(n);return function(t){return o(r,t)}}return!h8(i)&&n.equals(r,i.right)}},exists:mb,extend:h5,filterOrElse:ml,filterOrElseW:ml,flap:mn,flatten:ma,flattenW:ma,fold:me,foldMap:hJ,foldW:me,fromNullable:mp,fromNullableK:mg,fromOption:h6,fromOptionK:ms,fromPredicate:h9,getAltValidation:hL,getApplicativeValidation:hF,getApplyMonoid:mE,getApplySemigroup:mR,getCompactable:hj,getEq:hE,getFilterable:hN,getOrElse:mt,getOrElseW:mt,getSemigroup:hA,getShow:hR,getValidation:function(t){var n=hF(t).ap,r=hL(t).alt;return{URI:hC,_E:void 0,map:hy,of:hU,chain:hb,bimap:hw,mapLeft:hO,reduce:hx,foldMap:h_,reduceRight:hS,extend:hk,traverse:hT,sequence:hQ,chainRec:hM,throwError:ef,ap:n,alt:r}},getValidationMonoid:mj,getValidationSemigroup:mA,getWitherable:hP,isLeft:h8,isRight:h7,left:ef,map:hD,mapLeft:h1,match:me,matchW:me,of:hU,orElse:md,orElseW:md,parseJSON:function(t,n){return mh(function(){return JSON.parse(t)},n)},reduce:hZ,reduceRight:hG,right:ed,sequence:hQ,sequenceArray:mM,stringifyJSON:mC,swap:mf,throwError:ef,toError:function(t){return t instanceof Error?t:Error(String(t))},toUnion:mv,traverse:hY,traverseArray:mk,traverseArrayWithIndex:mI,traverseReadonlyArrayWithIndex:mI,traverseReadonlyNonEmptyArrayWithIndex:mO,tryCatch:mh,tryCatchK:mm},Symbol.toStringTag,{value:"Module"}));function mP(t){return j(ed,t.of)}function mF(t){return j(ef,t.of)}function mL(t){return function(n){return t.map(n,ed)}}function mD(t){return function(n){return t.map(n,ef)}}function mW(t){return function(n){return j(mp(n),t.of)}}function mU(t){var n=mW(t);return function(t){var r=n(t);return function(t){return j(t,r)}}}function mz(t){var n=mK(t),r=mU(t);return function(t){var i=r(t);return function(t){return n(i(t))}}}function mB(t){return X(t,hW)}function mq(t){return ej(t,hq)}function mK(t){return function(n){return function(r){return t.chain(r,function(r){return h8(r)?t.of(r):n(r.right)})}}}function m$(t){return function(n){return function(r){return t.chain(r,function(r){return h8(r)?n():t.of(r)})}}}function mV(t){return function(n,r){return function(i){return t.map(i,h0(n,r))}}}function mH(t){return function(n){return function(r){return t.map(r,h1(n))}}}function mZ(t,n){return function(r){return function(i){return t.chain(i,me(function(i){return t.map(r(),h1(function(t){return n.concat(i,t)}))},mP(t)))}}}function mJ(t){return function(n,r){return function(i){return t.map(i,me(n,r))}}}function mG(t){return function(n,r){return function(i){return t.chain(i,me(n,r))}}}function mY(t){return function(n){return function(r){return t.chain(r,me(n,t.of))}}}function mQ(t){return function(n){return function(r){return t.chain(r,function(r){return h8(r)?n(r.left):t.of(r)})}}}function mX(t){var n=mQ(t);return function(r){return n(function(n){return t.map(r(n),function(t){return h8(t)?t:ef(n)})})}}function m0(t){return function(n){return function(r){return t.chain(r,me(function(r){return t.map(n(r),ef)},function(n){return t.of(ed(n))}))}}}function m1(t){return function(n){return t.map(n,mf)}}function m2(t){return function(n){return t.map(n,mv)}}let m3=Object.freeze(Object.defineProperty({__proto__:null,alt:m$,altValidation:mZ,ap:mq,bimap:mV,chain:mK,chainNullableK:mz,fromNullable:mW,fromNullableK:mU,getEitherM:function(t){var n=mq(t),r=mB(t),i=mK(t),o=m$(t),a=mV(t),u=mH(t),s=mG(t),c=mY(t),l=mQ(t);return{map:function(t,n){return D(t,r(n))},ap:function(t,r){return D(t,n(r))},of:mP(t),chain:function(t,n){return D(t,i(n))},alt:function(t,n){return D(t,o(n))},bimap:function(t,n,r){return D(t,a(n,r))},mapLeft:function(t,n){return D(t,u(n))},fold:function(t,n,r){return D(t,s(n,r))},getOrElse:function(t,n){return D(t,c(n))},orElse:function(t,n){return D(t,l(n))},swap:m1(t),rightM:mL(t),leftM:mD(t),left:mF(t)}},getOrElse:mY,left:mF,leftF:mD,map:mB,mapLeft:mH,match:mJ,matchE:mG,orElse:mQ,orElseFirst:mX,orLeft:m0,right:mP,rightF:mL,swap:m1,toUnion:m2},Symbol.toStringTag,{value:"Module"}));var m5=function(){return{concat:function(t,n){return j(t,n)}}},m4=function(){return{concat:m5().concat,empty:k}};let m9=Object.freeze(Object.defineProperty({__proto__:null,URI:"Endomorphism",getMonoid:m4,getSemigroup:m5},Symbol.toStringTag,{value:"Module"})),m6=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function m8(t,n){var r=n.zero,i=function(o,a){return t.equals(a,r)?o:i(a,n.mod(o,a))};return i}let m7=Object.freeze(Object.defineProperty({__proto__:null,fieldNumber:{add:function(t,n){return t+n},zero:0,mul:function(t,n){return t*n},one:1,sub:function(t,n){return t-n},degree:function(t){return 1},div:function(t,n){return t/n},mod:function(t,n){return t%n}},gcd:m8,lcm:function(t,n){var r=n.zero,i=m8(t,n);return function(o,a){return t.equals(o,r)||t.equals(a,r)?r:n.div(n.mul(o,a),i(o,a))}}},Symbol.toStringTag,{value:"Module"}));function ge(t,n){return function(r){return function(i){return t.map(i,function(t){return n.filter(t,r)})}}}function gt(t,n){return function(r){return function(i){return t.map(i,function(t){return n.filterMap(t,r)})}}}function gn(t,n){var r=ge(t,n);return function(t){var n=r(dT(t)),i=r(t);return function(t){return e_(n(t),i(t))}}}function gr(t,n){var r=gt(t,n);return function(t){return function(n){return e_(D(n,r(function(n){return dM(t(n))})),D(n,r(function(n){return dC(t(n))})))}}}let gi=Object.freeze(Object.defineProperty({__proto__:null,filter:ge,filterMap:gt,getFilterableComposition:function(t,n){var r=en(t,n).map,i=p0(t,n),o=p1(t,n,n),a=ge(t,n),u=gt(t,n),s=gn(t,n),c=gr(t,n);return{map:r,compact:i,separate:o,filter:function(t,n){return D(t,a(n))},filterMap:function(t,n){return D(t,u(n))},partition:function(t,n){return D(t,s(n))},partitionMap:function(t,n){return D(t,c(n))}}},partition:gn,partitionMap:gr},Symbol.toStringTag,{value:"Module"})),go=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function ga(t,n){return function(r,i){return function(o){return t.reduce(o,r,function(t,r){return n.reduce(r,t,i)})}}}function gu(t,n){return function(r){var i=t.foldMap(r),o=n.foldMap(r);return function(t){return function(n){return i(n,function(n){return o(n,t)})}}}}function gs(t,n){return function(r,i){return function(o){return t.reduceRight(o,r,function(t,r){return n.reduceRight(t,r,i)})}}}function gc(t){return function(n){return t.reduce(n,[],function(t,n){return t.push(n),t})}}function gl(t,n){var r=ga(t,n),i=gu(t,n),o=gs(t,n);return{reduce:function(t,n,i){return D(t,r(n,i))},foldMap:function(t){var n=i(t);return function(t,r){return D(t,n(r))}},reduceRight:function(t,n,r){return D(t,o(n,r))}}}let gf=Object.freeze(Object.defineProperty({__proto__:null,foldM:function(t,n){return function(r,i,o){return n.reduce(r,t.of(i),function(n,r){return t.chain(n,function(t){return o(t,r)})})}},foldMap:gu,getFoldableComposition:gl,intercalate:function(t,n){return function(r,i){var o=function(n,i){var o=n.init,a=n.acc;return o?{init:!1,acc:i}:{init:!1,acc:t.concat(t.concat(a,r),i)}};return n.reduce(i,{init:!0,acc:t.empty},o).acc}},reduce:ga,reduceM:function(t,n){return function(r,i){return function(o){return n.reduce(o,t.of(r),function(n,r){return t.chain(n,function(t){return i(t,r)})})}}},reduceRight:gs,toArray:gc,toReadonlyArray:gc,traverse_:function(t,n){var r=t.of(void 0);return function(i,o){return n.reduce(i,r,function(n,r){var i,a;return a=o(r),t.ap(t.map(n,M),a)})}}},Symbol.toStringTag,{value:"Module"}));function gd(t,n){return function(r,i){return function(o){return t.reduceWithIndex(o,r,function(t,r,o){return n.reduceWithIndex(o,r,function(n,r,o){return i([t,n],r,o)})})}}}function gp(t,n){return function(r){var i=t.foldMapWithIndex(r),o=n.foldMapWithIndex(r);return function(t){return function(n){return i(n,function(n,r){return o(r,function(r,i){return t([n,r],i)})})}}}}function gh(t,n){return function(r,i){return function(o){return t.reduceRightWithIndex(o,r,function(t,r,o){return n.reduceRightWithIndex(r,o,function(n,r,o){return i([t,n],r,o)})})}}}let gm=Object.freeze(Object.defineProperty({__proto__:null,foldMapWithIndex:gp,getFoldableWithIndexComposition:function(t,n){var r=gl(t,n),i=gd(t,n),o=gp(t,n),a=gh(t,n);return{reduce:r.reduce,foldMap:r.foldMap,reduceRight:r.reduceRight,reduceWithIndex:function(t,n,r){return D(t,i(n,r))},foldMapWithIndex:function(t){var n=o(t);return function(t,r){return D(t,n(r))}},reduceRightWithIndex:function(t,n,r){return D(t,a(n,r))}}},reduceRightWithIndex:gh,reduceWithIndex:gd},Symbol.toStringTag,{value:"Module"}));function gg(t){return function(n){return j(n,t.fromIO)}}function gy(t,n){return function(r){var i=j(r,t.fromIO);return function(t){return n.chain(t,i)}}}function gv(t,n){var r=eq(n);return function(n){return r(j(n,t.fromIO))}}let gb=Object.freeze(Object.defineProperty({__proto__:null,chainFirstIOK:gv,chainIOK:gy,fromIOK:gg},Symbol.toStringTag,{value:"Module"}));var gx=function(){return k},g_=function(t){return function(n){return function(r){return n(t(r))}}},gS=function(t){return function(n){return t(n)(n)}},gT=function(t,n){return D(t,gM(n))},gw=function(t,n){return D(t,gR(n))},gO=function(t,n){return D(t,gA(n))},gI=function(t,n){return D(t,gN(n))},gk=function(t,n,r){return D(t,gP(n,r))},gM=function(t){return function(n){return function(r){return t(n(r))}}},gC=function(t){return function(n){return function(r){return n(r)(t(r))}}},gR=gC,gE=function(t){return function(n){return function(r){return t(n(r))(r)}}},gA=gE,gj=gE(k),gN=function(t){return function(n){return j(t,n)}},gP=function(t,n){return function(r){return function(i){return n(r(t(i)))}}},gF=function(){return k},gL=function(t){return function(n){var r=n[0],i=n[1];return[t(r),i]}},gD=function(t){return function(n){var r;return[n[0],t(n[1])]}},gW=function(t){return me(function(n){return ef(t(n))},ed)},gU=function(t){return me(ef,function(n){return ed(t(n))})},gz="Reader",gB={URI:gz,map:gT},gq=ee(gB),gK={URI:gz,of:M},g$={URI:gz,map:gT,ap:gw},gV=eN(g$),gH=eP(g$),gZ={URI:gz,map:gT,ap:gw,of:M},gJ={URI:gz,map:gT,ap:gw,chain:gO},gG={URI:gz,map:gT,of:M,ap:gw,chain:gO},gY=eq(gJ),gQ=et(gB),gX=eK(gJ),g0=M(ev),g1=eF(g$),g2=M(ey),g3=function(t){return function(n){return function(r){for(var i=[t(0,em(n))(r)],o=1;o<n.length;o++)i.push(t(o,n[o])(r));return i}}},g5=function(t){var n=g3(t);return function(t){return eh(t)?n(t):g2}},g4=function(t){return g5(function(n,r){return t(r)})},g9=g4(k),g6=eL(g$),g8=ok(gZ);let g7=Object.freeze(Object.defineProperty({__proto__:null,ApT:g2,Applicative:gZ,Apply:g$,Category:{URI:gz,compose:gI,id:gF},Chain:gJ,Choice:{URI:gz,map:gT,promap:gk,left:gW,right:gU},Do:g0,Functor:gB,Monad:gG,Pointed:gK,Profunctor:{URI:gz,map:gT,promap:gk},Strong:{URI:gz,map:gT,promap:gk,first:gL,second:gD},URI:gz,ap:gR,apFirst:gV,apFirstW:gV,apS:g1,apSW:g1,apSecond:gH,apSecondW:gH,apW:gC,ask:gx,asks:k,asksReader:gS,asksReaderW:gS,bind:gX,bindTo:gQ,bindW:gX,chain:gA,chainFirst:gY,chainFirstW:gY,chainW:gE,compose:gN,first:gL,flap:gq,flatten:gj,flattenW:gj,getMonoid:g8,getSemigroup:g6,id:gF,left:gW,local:g_,map:gM,of:M,promap:gP,reader:{URI:gz,map:gT,of:M,ap:gw,chain:gO,promap:gk,compose:gI,id:gF,first:gL,second:gD,left:gW,right:gU},right:gU,second:gD,sequenceArray:g9,traverseArray:g4,traverseArrayWithIndex:g5,traverseReadonlyArrayWithIndex:g5,traverseReadonlyNonEmptyArrayWithIndex:g3},Symbol.toStringTag,{value:"Module"}));function ye(t){return function(){return t.fromReader(gx())}}function yt(t){return t.fromReader}function yn(t){return function(n){return j(n,t.fromReader)}}function yr(t,n){var r=yn(t);return function(t){return function(i){return n.chain(i,r(t))}}}function yi(t,n){return j(yn(t),eq(n))}let yo=Object.freeze(Object.defineProperty({__proto__:null,ask:ye,asks:yt,chainFirstReaderK:yi,chainReaderK:yr,fromReaderK:yn},Symbol.toStringTag,{value:"Module"}));var ya=function(){return function(t){return[t,t]}},yu=function(t){return function(){return[void 0,t]}},ys=function(t){return function(n){return[void 0,t(n)]}},yc=function(t){return function(n){return[t(n),n]}},yl=function(t,n){return D(t,yp(n))},yf=function(t,n){return D(t,yh(n))},yd=function(t,n){return D(t,yg(n))},yp=function(t){return function(n){return function(r){var i=n(r),o=i[0],a=i[1];return[t(o),a]}}},yh=function(t){return function(n){return function(r){var i=n(r),o=i[0],a=t(i[1]),u=a[0],s=a[1];return[o(u),s]}}},ym=function(t){return function(n){return[t,n]}},yg=function(t){return function(n){return function(r){var i=n(r),o=i[0],a=i[1];return t(o)(a)}}},yy=yg(k),yv="State",yb={URI:yv,map:yl},yx=ee(yb),y_={URI:yv,map:yl,ap:yf},yS=eN(y_),yT=eP(y_),yw={URI:yv,map:yl,ap:yf,chain:yd},yO={URI:yv,map:yl,ap:yf,of:ym,chain:yd},yI=eq(yw),yk=function(t){return function(n){return n(t)[0]}},yM=function(t){return function(n){return n(t)[1]}},yC=et(yb),yR=eK(yw),yE=eF(y_),yA=function(t){return function(n){return function(r){for(var i=t(0,em(n))(r),o=i[0],a=i[1],u=[o],s=a,c=1;c<n.length;c++){var l=t(c,n[c])(s),f=l[0],d=l[1];u.push(f),s=d}return[u,s]}}},yj=function(t){var n=yA(t);return function(t){return eh(t)?n(t):ym(ey)}},yN=function(t){return yj(function(n,r){return t(r)})},yP=yN(k),yF=function(t,n){return t(n)[0]},yL=function(t,n){return t(n)[1]};let yD=Object.freeze(Object.defineProperty({__proto__:null,Applicative:{URI:yv,map:yl,ap:yf,of:ym},Apply:y_,Chain:yw,FromState:{URI:yv,fromState:k},Functor:yb,Monad:yO,Pointed:{URI:yv,of:ym},URI:yv,ap:yh,apFirst:yS,apS:yE,apSecond:yT,bind:yR,bindTo:yC,chain:yg,chainFirst:yI,evalState:yF,evaluate:yk,execState:yL,execute:yM,flap:yx,flatten:yy,get:ya,gets:yc,map:yp,modify:ys,of:ym,put:yu,sequenceArray:yP,state:yO,traverseArray:yN,traverseArrayWithIndex:yj,traverseReadonlyArrayWithIndex:yj,traverseReadonlyNonEmptyArrayWithIndex:yA},Symbol.toStringTag,{value:"Module"}));function yW(t){return function(){return t.fromState(ya())}}function yU(t){return function(n){return t.fromState(yu(n))}}function yz(t){return j(ys,t.fromState)}function yB(t){return j(yc,t.fromState)}function yq(t){return function(n){return j(n,t.fromState)}}function yK(t,n){var r=yq(t);return function(t){return function(i){return n.chain(i,r(t))}}}let y$=Object.freeze(Object.defineProperty({__proto__:null,chainStateK:yK,fromStateK:yq,get:yW,gets:yB,modify:yz,put:yU},Symbol.toStringTag,{value:"Module"}));function yV(t){return function(n){return j(n,t.fromTask)}}function yH(t,n){return function(r){var i=j(r,t.fromTask);return function(t){return n.chain(t,i)}}}function yZ(t,n){var r=eq(n);return function(n){return r(j(n,t.fromTask))}}let yJ=Object.freeze(Object.defineProperty({__proto__:null,chainFirstTaskK:yZ,chainTaskK:yH,fromTaskK:yV},Symbol.toStringTag,{value:"Module"}));function yG(t){return function(n){return j(n,t.fromThese)}}let yY=Object.freeze(Object.defineProperty({__proto__:null,fromTheseK:yG},Symbol.toStringTag,{value:"Module"}));function yQ(t,n){return function(r){return function(i){return t.mapWithIndex(i,function(t,i){return n.mapWithIndex(i,function(n,i){return r([t,n],i)})})}}}let yX=Object.freeze(Object.defineProperty({__proto__:null,getFunctorWithIndexComposition:function(t,n){var r=en(t,n).map,i=yQ(t,n);return{map:r,mapWithIndex:function(t,n){return D(t,i(n))}}},mapWithIndex:yQ},Symbol.toStringTag,{value:"Module"})),y0=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),y1=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),y2=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var y3=function(t,n){return D(t,vn(n))},y5=function(t,n){return D(t,vr(n))},y4=function(t,n){return D(t,vi(n))},y9=function(t,n,r){return D(t,vs(n,r))},y6=function(t){return function(t,n){return D(t,vc()(n))}},y8=function(t,n,r){return D(t,vl(n,r))},y7=function(t,n){return D(t,vh())},ve=function(t,n){return D(t,vo(n))},vt=function(t){var n=vf(t);return function(t,r){return D(t,n(r))}},vn=function(t){return function(n){return t(n)}},vr=function(t){return function(n){return n(t)}},vi=function(t){return function(n){return t(n)}},vo=function(t){return function(n){return t(n)}},va=vo(k),vu=vi(k),vs=function(t,n){return function(r){return n(t,r)}},vc=function(){return function(t){return function(n){return t(n)}}},vl=function(t,n){return function(r){return n(r,t)}},vf=function(t){return function(n){return function(r){return t.map(n(r),k)}}},vd=function(t){return function(n){return t.map(n,k)}},vp=function(){return k},vh=vp,vm="Identity",vg={URI:vm,map:y3},vy=ee(vg),vv={URI:vm,map:y3,ap:y5},vb=eN(vv),vx=eP(vv),v_={URI:vm,map:y3,ap:y5,chain:y4},vS=eq(v_),vT=k(ev),vw=et(vg),vO=eK(v_),vI=eF(vv);let vk=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:vm,map:y3,alt:y7},Applicative:{URI:vm,map:y3,ap:y5,of:k},Apply:vv,Chain:v_,ChainRec:{URI:vm,map:y3,ap:y5,chain:y4,chainRec:dl},Comonad:{URI:vm,map:y3,extend:ve,extract:k},Do:vT,Foldable:{URI:vm,reduce:y9,foldMap:y6,reduceRight:y8},Functor:vg,Monad:{URI:vm,map:y3,ap:y5,of:k,chain:y4},Pointed:{URI:vm,of:k},Traversable:{URI:vm,map:y3,reduce:y9,foldMap:y6,reduceRight:y8,traverse:vt,sequence:vd},URI:vm,alt:vh,altW:vp,ap:vr,apFirst:vb,apS:vI,apSecond:vx,bind:vO,bindTo:vw,chain:vi,chainFirst:vS,duplicate:va,extend:vo,extract:k,flap:vy,flatten:vu,foldMap:vc,getEq:k,getShow:k,identity:{URI:vm,map:y3,ap:y5,of:k,chain:y4,reduce:y9,foldMap:y6,reduceRight:y8,traverse:vt,sequence:vd,alt:y7,extract:k,extend:ve,chainRec:dl},map:vn,of:k,reduce:vs,reduceRight:vl,sequence:vd,traverse:vf},Symbol.toStringTag,{value:"Module"})),vM=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var vC=function(t,n){return function(){return n(t())}},vR=function(t,n){return function(){return t()(n())}},vE=function(t,n){return function(){return n(t())()}},vA=function(t,n){return function(){for(var r=n(t)();"Left"===r._tag;)r=n(r.left)();return r.right}},vj=function(t){return function(n){return vC(n,t)}},vN=function(t){return function(n){return vR(n,t)}},vP=function(t){return function(n){return vE(n,t)}},vF=vP(k),vL={URI:"IO",map:vC},vD=ee(vL),vW={URI:"IO",of:M},vU={URI:"IO",map:vC,ap:vR},vz=eN(vU),vB=eP(vU),vq={URI:"IO",map:vC,ap:vR,of:M},vK={URI:"IO",map:vC,ap:vR,chain:vE},v$={URI:"IO",map:vC,ap:vR,of:M,chain:vE},vV=eq(vK),vH=M(ev),vZ=et(vL),vJ=eK(vK),vG=eF(vU),vY=M(ey),vQ=function(t){return function(n){return function(){for(var r=[t(0,em(n))()],i=1;i<n.length;i++)r.push(t(i,n[i])());return r}}},vX=function(t){var n=vQ(t);return function(t){return eh(t)?n(t):vY}},v0=function(t){return vX(function(n,r){return t(r)})},v1=v0(k),v2=eL(vU),v3=ok(vq);let v5=Object.freeze(Object.defineProperty({__proto__:null,ApT:vY,Applicative:vq,Apply:vU,Chain:vK,ChainRec:{URI:"IO",map:vC,ap:vR,chain:vE,chainRec:vA},Do:vH,FromIO:{URI:"IO",fromIO:k},Functor:vL,Monad:v$,MonadIO:{URI:"IO",map:vC,ap:vR,of:M,chain:vE,fromIO:k},Pointed:vW,URI:"IO",ap:vN,apFirst:vz,apS:vG,apSecond:vB,bind:vJ,bindTo:vZ,chain:vP,chainFirst:vV,flap:vD,flatten:vF,fromIO:k,getMonoid:v3,getSemigroup:v2,io:{URI:"IO",map:vC,of:M,ap:vR,chain:vE,fromIO:k,chainRec:vA},map:vj,of:M,sequenceArray:v1,traverseArray:v0,traverseArrayWithIndex:vX,traverseReadonlyArrayWithIndex:vX,traverseReadonlyNonEmptyArrayWithIndex:vQ},Symbol.toStringTag,{value:"Module"}));var v4=mF(vW),v9=mP(vW),v6=mL(vL),v8=mD(vL),v7=mJ(vL),be=mG(v$),bt=mY(v$),bn=function(t,n){return function(){return mh(t,n)}},br=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return bn(function(){return t.apply(void 0,r)},n)}},bi=m2(vL),bo=mQ(v$),ba=mX(v$),bu=function(t){return ba(bL(t))},bs=m0(v$),bc=m1(vL),bl=function(t,n){return D(t,by(n))},bf=function(t,n){return D(t,bx(n))},bd=function(t,n){return D(t,b_(function(t){return D(n,by(t))}))},bp=function(t,n){return D(t,b_(n))},bh=function(t,n,r){return D(t,bv(n,r))},bm=function(t,n){return D(t,bb(n))},bg=function(t,n){return D(t,bT(n))},by=mB(vL),bv=mV(vL),bb=mH(vL),bx=mq(vU),b_=mK(v$),bS=b_(k),bT=m$(v$),bw="IOEither";function bO(t){var n=ej(vU,hF(t));return{URI:bw,_E:void 0,map:bl,ap:function(t,r){return D(t,n(r))},of:v9}}function bI(t){var n=mZ(v$,t);return{URI:bw,_E:void 0,map:bl,alt:function(t,r){return D(t,n(r))}}}var bk=function(t){var n=hj(t);return{URI:bw,_E:void 0,compact:p0(vL,n),separate:p1(vL,n,hW)}},bM={URI:bw,map:bl},bC=ee(bM),bR={URI:bw,map:bl,ap:bf},bE=eN(bR),bA=eP(bR),bj={URI:bw,map:bl,ap:bf,of:v9},bN={URI:bw,map:bl,ap:bf,chain:bp},bP=eq(bN),bF={URI:bw,fromIO:v6},bL=gg(bF),bD=gy(bF,bN),bW=gv(bF,bN),bU={URI:bw,fromEither:M},bz=oR(bU),bB=oA(bU),bq=oj(bU,bN),bK=oP(bU,bN),b$=oF(bU,bN),bV=oE(bU),bH=oL(bU,bN),bZ=oN(bU),bJ=function(t,n,r){return bG(t,n,r)},bG=function(t,n,r){return D(t,b_(function(t){return D(n(t),vP(function(n){return D(r(t,n),b_(function(){return M(n)}))}))}))},bY=v9(ev),bQ=et(bM),bX=eK(bN),b0=eF(bR),b1=v9(ey),b2=function(t){return j(vQ(t),vj(mO(W)))},b3=function(t){var n=b2(t);return function(t){return eh(t)?n(t):b1}},b5=function(t){return function(n){return function(){var r=t(0,em(n))();if(ec(r))return r;for(var i=[r.right],o=1;o<n.length;o++){var a=t(o,n[o])();if(ec(a))return a;i.push(a.right)}return ed(i)}}},b4=function(t){var n=b5(t);return function(t){return eh(t)?n(t):b1}},b9=function(t){return b3(function(n,r){return t(r)})},b6=b9(k),b8=function(t){return b4(function(n,r){return t(r)})},b7=b8(k),xe=eL(bR),xt=ok(bj),xn=function(t){return eL(vU)(hA(t))};let xr=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:bw,map:bl,alt:bg},ApT:b1,Applicative:bj,ApplicativePar:bj,ApplicativeSeq:{URI:bw,map:bl,ap:bd,of:v9},ApplyPar:bR,Bifunctor:{URI:bw,bimap:bh,mapLeft:bm},Chain:bN,Do:bY,FromEither:bU,FromIO:bF,Functor:bM,Monad:{URI:bw,map:bl,ap:bf,of:v9,chain:bp},MonadIO:{URI:bw,map:bl,ap:bf,of:v9,chain:bp,fromIO:v6},MonadThrow:{URI:bw,map:bl,ap:bf,of:v9,chain:bp,throwError:v4},Pointed:{URI:bw,of:v9},URI:bw,alt:bT,altW:bT,ap:bx,apFirst:bE,apFirstW:bE,apS:b0,apSW:b0,apSecond:bA,apSecondW:bA,apW:bx,bimap:bv,bind:bX,bindTo:bQ,bindW:bX,bracket:bJ,bracketW:bG,chain:b_,chainEitherK:bK,chainEitherKW:bK,chainFirst:bP,chainFirstEitherK:b$,chainFirstEitherKW:b$,chainFirstIOK:bW,chainFirstW:bP,chainIOK:bD,chainOptionK:bq,chainW:b_,filterOrElse:bH,filterOrElseW:bH,flap:bC,flatten:bS,flattenW:bS,fold:be,foldW:be,fromEither:M,fromEitherK:bZ,fromIO:v6,fromIOK:bL,fromOption:bz,fromOptionK:bB,fromPredicate:bV,getAltIOValidation:bI,getApplicativeIOValidation:bO,getApplyMonoid:xt,getApplySemigroup:xe,getCompactable:bk,getFilterable:function(t){var n=hN(t),r=bk(t),i=ge(vL,n),o=gt(vL,n),a=gn(vL,n),u=gr(vL,n);return{URI:bw,_E:void 0,map:bl,compact:r.compact,separate:r.separate,filter:function(t,n){return D(t,i(n))},filterMap:function(t,n){return D(t,o(n))},partition:function(t,n){return D(t,a(n))},partitionMap:function(t,n){return D(t,u(n))}}},getIOValidation:function(t){var n=bO(t),r=bI(t);return{URI:bw,_E:void 0,map:bl,ap:n.ap,of:v9,chain:bp,bimap:bh,mapLeft:bm,alt:r.alt,fromIO:v6,throwError:v4}},getOrElse:bt,getOrElseW:bt,getSemigroup:xn,ioEither:{URI:bw,bimap:bh,mapLeft:bm,map:bl,of:v9,ap:bf,chain:bp,alt:bg,fromIO:v6,throwError:v4},left:v4,leftIO:v8,map:by,mapLeft:bb,match:v7,matchE:be,matchEW:be,matchW:v7,of:v9,orElse:bo,orElseFirst:ba,orElseFirstIOK:bu,orElseFirstW:ba,orElseW:bo,orLeft:bs,right:v9,rightIO:v6,sequenceArray:b6,sequenceSeqArray:b7,swap:bc,throwError:v4,toUnion:bi,traverseArray:b9,traverseArrayWithIndex:b3,traverseReadonlyArrayWithIndex:b3,traverseReadonlyArrayWithIndexSeq:b4,traverseReadonlyNonEmptyArrayWithIndex:b2,traverseReadonlyNonEmptyArrayWithIndexSeq:b5,traverseSeqArray:b8,traverseSeqArrayWithIndex:b4,tryCatch:bn,tryCatchK:br},Symbol.toStringTag,{value:"Module"}));function xi(t){return j(es,t.of)}function xo(t){return M(t.of(eu))}function xa(t){return function(n){return t.map(n,es)}}function xu(t){return j(pE,t.of)}function xs(t){var n=xu(t);return function(t){return j(t,n)}}function xc(t){var n=xb(t),r=xs(t);return function(t){return n(r(t))}}function xl(t){return function(n){return j(n,t.of)}}function xf(t){var n=xb(t),r=xl(t);return function(t){return n(r(t))}}function xd(t){return function(n){return function(r){return t.of(dk(n)(r))}}}function xp(t){return j(dC,t.of)}function xh(t){return function(n,r){return function(i){return t.map(i,p_(n,r))}}}function xm(t){return function(n,r){return function(i){return t.chain(i,p_(n,r))}}}function xg(t){return function(n){return function(r){return t.chain(r,p_(n,t.of))}}}function xy(t){return X(t,dJ)}function xv(t){return ej(t,dQ)}function xb(t){var n=xo(t);return function(r){return function(i){return t.chain(i,p_(function(){return n()},r))}}}function xx(t){var n=xi(t);return function(r){return function(i){return t.chain(i,p_(r,n))}}}let x_=Object.freeze(Object.defineProperty({__proto__:null,alt:xx,ap:xv,chain:xb,chainNullableK:xc,chainOptionK:xf,fromEither:xp,fromF:xa,fromNullable:xu,fromNullableK:xs,fromOptionK:xl,fromPredicate:xd,getOptionM:function(t){var n=xv(t),r=xy(t),i=xb(t),o=xx(t),a=xm(t),u=xg(t),s=xo(t);return{map:function(t,n){return D(t,r(n))},ap:function(t,r){return D(t,n(r))},of:xi(t),chain:function(t,n){return D(t,i(n))},alt:function(t,n){return D(t,o(n))},fold:function(t,n,r){return D(t,a(n,r))},getOrElse:function(t,n){return D(t,u(n))},fromM:xa(t),none:function(){return s()}}},getOrElse:xg,map:xy,match:xh,matchE:xm,some:xi,zero:xo},Symbol.toStringTag,{value:"Module"}));var xS=xi(vW),xT=xd(vW),xw=xp(vW),xO=xa(vL),xI=vj(dC),xk=xh(vL),xM=xm(vK),xC=xg(v$),xR=vj(pL),xE=vj(pF),xA=xu(vW),xj=xs(vW),xN=xc(v$),xP=xl(vW),xF=xf(v$),xL=xy(vL),xD=xv(vU),xW=xb(v$),xU=xW(k),xz=xx(v$),xB=xo(vW),xq=xB(),xK=p0(vL,pi),x$=p1(vL,pi,dJ),xV=ge(vL,pc),xH=gt(vL,pc),xZ=gn(vL,pc),xJ=gr(vL,pc),xG=function(t,n){return D(t,xL(n))},xY=function(t,n){return D(t,xD(n))},xQ=function(t,n){return D(t,xW(n))},xX=function(t,n){return D(t,xz(n))},x0=function(t,n){return D(t,xV(n))},x1=function(t,n){return D(t,xH(n))},x2=function(t,n){return D(t,xZ(n))},x3=function(t,n){return D(t,xJ(n))},x5="IOOption",x4={URI:x5,map:xG},x9=ee(x4),x6={URI:x5,of:xS},x8={URI:x5,map:xG,ap:xY},x7=eN(x8),_e=eP(x8),_t={URI:x5,map:xG,ap:xY,chain:xQ},_n=eq(_t),_r={URI:x5,zero:xB},_i=uv(_r,x6),_o={URI:x5,fromIO:xO},_a=gg(_o),_u=gy(_o,_t),_s=gv(_o,_t),_c={URI:x5,fromEither:xw},_l=oN(_c),_f=oP(_c,_t),_d=oF(_c,_t),_p=xS(ev),_h=et(x4),_m=eK(_t),_g=eF(x8),_y=xS(ey),_v=function(t){return j(vQ(t),vj(pK(W)))},_b=function(t){var n=_v(t);return function(t){return eh(t)?n(t):_y}};let _x=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:x5,map:xG,alt:xX},Alternative:{URI:x5,map:xG,ap:xY,of:xS,alt:xX,zero:xB},ApT:_y,Applicative:{URI:x5,map:xG,ap:xY,of:xS},Apply:x8,Chain:_t,Compactable:{URI:x5,compact:xK,separate:x$},Do:_p,Filterable:{URI:x5,map:xG,compact:xK,separate:x$,filter:x0,filterMap:x1,partition:x2,partitionMap:x3},FromEither:_c,FromIO:_o,Functor:x4,Monad:{URI:x5,map:xG,ap:xY,of:xS,chain:xQ},MonadIO:{URI:x5,map:xG,ap:xY,of:xS,chain:xQ,fromIO:xO},Pointed:x6,Zero:_r,alt:xz,altW:xz,ap:xD,apFirst:x7,apS:_g,apSecond:_e,bind:_m,bindTo:_h,chain:xW,chainEitherK:_f,chainFirst:_n,chainFirstEitherK:_d,chainFirstIOK:_s,chainIOK:_u,chainNullableK:xN,chainOptionK:xF,compact:xK,filter:xV,filterMap:xH,flap:x9,flatten:xU,fold:xM,fromEither:xw,fromEitherK:_l,fromIO:xO,fromIOEither:xI,fromIOK:_a,fromNullable:xA,fromNullableK:xj,fromOption:M,fromOptionK:xP,fromPredicate:xT,getOrElse:xC,getOrElseW:xC,guard:_i,map:xL,match:xk,matchE:xM,matchEW:xM,matchW:xk,none:xq,of:xS,partition:xZ,partitionMap:xJ,separate:x$,some:xS,toNullable:xE,toUndefined:xR,traverseReadonlyArrayWithIndex:_b,traverseReadonlyNonEmptyArrayWithIndex:_v,zero:xB},Symbol.toStringTag,{value:"Module"}));var __=function(){function t(t){var n=this;this.value=t,this.read=function(){return n.value},this.write=this.write.bind(this),this.modify=this.modify.bind(this)}return t.prototype.write=function(t){var n=this;return function(){n.value=t}},t.prototype.modify=function(t){var n=this;return function(){n.value=t(n.value)}},t}();let _S=Object.freeze(Object.defineProperty({__proto__:null,IORef:__,newIORef:function(t){return function(){return new __(t)}}},Symbol.toStringTag,{value:"Module"})),_T=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var _w=function(t){return mh(function(){return JSON.parse(t)},k)},_O=function(t){return mh(function(){var n=JSON.stringify(t);if("string"!=typeof n)throw Error("Converting unsupported structure to JSON");return n},k)};let _I=Object.freeze(Object.defineProperty({__proto__:null,parse:_w,stringify:_O},Symbol.toStringTag,{value:"Module"})),_k=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var _M=function(t){return new Map(t)};function _C(t,n){return{show:function(r){var i=[];return r.forEach(function(r,o){i.push("[".concat(t.show(o),", ").concat(n.show(r),"]"))}),"new Map([".concat(i.sort().join(", "),"])")}}}var _R=function(t){return t.size},_E=function(t){return 0===t.size};function _A(t){var n=_q(t);return function(r,i){if(void 0===i){var o=_A(t);return function(t){return o(r,t)}}return ea(n(r,i))}}function _j(t){return function(n,r){if(void 0===r){var i=_j(t);return function(t){return i(n,t)}}for(var o,a=r.values();!(o=a.next()).done;){var u=o.value;if(t.equals(n,u))return!0}return!1}}var _N=function(t){return function(n){return Array.from(n.keys()).sort(t.compare)}},_P=function(t){return function(n){return Array.from(n.values()).sort(t.compare)}};function _F(t){var n=_N(t);return function(t){return function(r){for(var i=[],o=n(r),a=0;a<o.length;a++){var u=o[a];i.push(t(u,r.get(u)))}return i}}}var _L=function(t){return _F(t)(function(t,n){return[t,n]})},_D=function(t){var n=_B(t);return function(t,r){var i=n(t);return function(n){var o=i(n);if(eo(o)){var a=new Map(n);return a.set(t,r),a}if(o.value[1]!==r){var a=new Map(n);return a.set(o.value[0],r),a}return n}}},_W=function(t){var n=_B(t);return function(t){return function(r){var i=n(t,r);if(ea(i)){var o=new Map(r);return o.delete(i.value[0]),o}return r}}},_U=function(t){var n=_z(t);return function(t,r){return n(t,function(){return r})}},_z=function(t){var n=_B(t);return function(t,r){return function(i){var o=n(t,i);if(eo(o))return eu;var a=o.value,u=a[0],s=a[1],c=r(s);if(c===s)return es(i);var l=new Map(i);return l.set(u,c),es(l)}}};function _B(t){return function(n,r){if(void 0===r){var i=_B(t);return function(t){return i(n,t)}}for(var o,a=r.entries();!(o=a.next()).done;){var u=o.value,s=u[0],c=u[1];if(t.equals(s,n))return es([s,c])}return eu}}function _q(t){var n=_B(t);return function(r,i){if(void 0===i){var o=_q(t);return function(t){return o(r,t)}}return D(n(r,i),dZ(function(t){return t[0],t[1]}))}}function _K(t,n){var r=_B(t);return function(i,o){if(void 0===o){var a=_K(t,n);return function(t){return a(t,i)}}for(var u,s=i.entries();!(u=s.next()).done;){var c=u.value,l=c[0],f=c[1],d=r(l,o);if(eo(d)||!t.equals(l,d.value[0])||!n.equals(f,d.value[1]))return!1}return!0}}var _$=new Map;function _V(t,n){var r=_K(t,n);return B(function(t,n){return r(t,n)&&r(n,t)})}var _H=function(t,n){return new Map([[t,n]])},_Z=function(t,n){for(var r,i=new Map,o=t.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];i.set(u,n(u,s))}return i},_J=function(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],c=t(s,u[1]);ec(c)?i.set(s,c.left):o.set(s,c.right)}return e_(i,o)}};function _G(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],c=u[1];t(s,c)?o.set(s,c):i.set(s,c)}return e_(i,o)}}var _Y=function(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=t(u,a[1]);ea(s)&&i.set(u,s.value)}return i}};function _Q(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];t(u,s)&&i.set(u,s)}return i}}var _X=function(t,n){return _Z(t,function(t,r){return n(r)})},_0=function(t,n){return _5(t,function(t,r){return n(r)})},_1=function(t,n){return _4(t,function(t,r){return n(r)})},_2=function(t,n){return _9(t,function(t,r){return n(r)})},_3=function(t,n){return _6(t,function(t,r){return n(r)})},_5=function(t,n){return D(t,_Q(n))},_4=function(t,n){return D(t,_Y(n))},_9=function(t,n){return D(t,_G(n))},_6=function(t,n){return D(t,_J(n))},_8=function(t){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var o=n.value,a=o[0],u=o[1];ea(u)&&r.set(a,u.value)}return r},_7=function(t){return function(n){return _0(n,t)}},Se=function(t){return function(n){return _1(n,t)}},St=function(t){return function(n){return _X(n,t)}},Sn=function(t){return function(n){return _Z(n,t)}},Sr=function(t){return function(n){return _2(n,t)}},Si=function(t){return function(n){return _3(n,t)}},So=function(t){for(var n,r=new Map,i=new Map,o=t.entries();!(n=o.next()).done;){var a=n.value,u=a[0],s=a[1];ec(s)?r.set(u,s.left):i.set(u,s.right)}return e_(r,i)},Sa="ReadonlyMap",Su=function(t,n){var r=SO(t,n);return{concat:function(t,n){return r(n)(t)}}},Ss=function(t,n){return{concat:Su(t,n).concat,empty:_$}},Sc=function(t,n){var r=SI(t,n);return{concat:function(t,n){return r(n)(t)}}},Sl=function(t){return function(){var n=Sk(t);return{concat:function(t,r){return n(r)(t)}}}},Sf={URI:Sa,map:_X},Sd=ee(Sf),Sp=function(){return{URI:Sa,_E:void 0,map:_X,mapWithIndex:_Z}},Sh={URI:Sa,compact:_8,separate:So},Sm=function(t){var n=Sb(t);return function(t,r){return n(t,function(t,n,i){return r(n,i)})}},Sg=function(t){var n=Sx(t);return function(t){var r=n(t);return function(t){return r(function(n,r){return t(r)})}}},Sy=function(t){var n=S_(t);return function(t,r){return n(t,function(t,n,i){return r(n,i)})}},Sv=function(t){var n=Sm(t),r=Sg(t),i=Sy(t);return{URI:Sa,_E:void 0,reduce:function(t,r,i){return D(t,n(r,i))},foldMap:function(t){var n=r(t);return function(t,r){return D(t,n(r))}},reduceRight:function(t,n,r){return D(t,i(n,r))}}},Sb=function(t){var n=_N(t);return function(t,r){return function(i){for(var o=t,a=0,u=n(i);a<u.length;a++){var s=u[a];o=r(s,o,i.get(s))}return o}}},Sx=function(t){var n=_N(t);return function(t){return function(r){return function(i){for(var o=t.empty,a=0,u=n(i);a<u.length;a++){var s=u[a];o=t.concat(o,r(s,i.get(s)))}return o}}}},S_=function(t){var n=_N(t);return function(t,r){return function(i){for(var o=t,a=n(i),u=a.length,s=u-1;s>=0;s--){var c=a[s];o=r(c,i.get(c),o)}return o}}},SS=function(t){var n=Sv(t),r=Sb(t),i=Sx(t),o=S_(t);return{URI:Sa,_E:void 0,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,reduceWithIndex:function(t,n,i){return D(t,r(n,i))},foldMapWithIndex:function(t){var n=i(t);return function(t,r){return D(t,n(r))}},reduceRightWithIndex:function(t,n,r){return D(t,o(n,r))}}},ST=function(t){var n=Sw(t),r=Sv(t);return{URI:Sa,_E:void 0,map:_X,reduce:r.reduce,foldMap:r.foldMap,reduceRight:r.reduceRight,traverse:n.traverse,sequence:n.sequence}},Sw=function(t){var n=SS(t),r=_N(t),i=function(t){return function(n,i){for(var o=t.of(new Map),a=r(n),u=a.length,s=0;s<u;s++)!function(r){var u=a[r],s=n.get(u);o=t.ap(t.map(o,function(t){return function(n){return t.set(u,n)}}),i(u,s))}(s);return o}},o=function(t){var n=i(t);return function(t,r){return n(t,function(t,n){return r(n)})}},a=function(t){var n=i(t);return function(t){return n(t,W)}};return{URI:Sa,_E:void 0,map:_X,mapWithIndex:_Z,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverse:o,sequence:a,traverseWithIndex:i}},SO=function(t,n){var r=_q(t);return function(t){return function(i){if(_E(i))return t;if(_E(t))return i;for(var o,a=new Map,u=i.entries();!(o=u.next()).done;){var s=o.value,c=s[0],l=s[1],f=r(c)(t);ea(f)?a.set(c,n.concat(l,f.value)):a.set(c,l)}for(var d=t.entries();!(o=d.next()).done;){var p=o.value,c=p[0],l=p[1],f=r(c)(a);eo(f)&&a.set(c,l)}return a}}},SI=function(t,n){var r=_q(t);return function(t){return function(i){if(_E(i)||_E(t))return _$;for(var o,a=new Map,u=i.entries();!(o=u.next()).done;){var s=o.value,c=s[0],l=s[1],f=r(c)(t);ea(f)&&a.set(c,n.concat(l,f.value))}return a}}},Sk=function(t){var n=_A(t);return function(t){return function(r){if(_E(r))return t;if(_E(t))return r;for(var i,o=new Map,a=r.entries();!(i=a.next()).done;){var u=i.value,s=u[0],c=u[1];n(s)(t)||o.set(s,c)}for(var l=t.entries();!(i=l.next()).done;){var f=i.value,s=f[0],c=f[1];n(s)(r)||o.set(s,c)}return o}}};let SM=Object.freeze(Object.defineProperty({__proto__:null,Compactable:Sh,Filterable:{URI:Sa,map:_X,compact:_8,separate:So,filter:_0,filterMap:_1,partition:_2,partitionMap:_3},Functor:Sf,URI:Sa,collect:_F,compact:_8,deleteAt:_W,difference:Sk,elem:_j,empty:_$,filter:_7,filterMap:Se,filterMapWithIndex:_Y,filterWithIndex:_Q,flap:Sd,foldMap:Sg,foldMapWithIndex:Sx,fromFoldable:function(t,n,r){return function(i){var o=_B(t);return r.reduce(i,new Map,function(t,r){var i=r[0],a=r[1],u=o(i,t);return ea(u)?t.set(u.value[0],n.concat(u.value[1],a)):t.set(i,a),t})}},fromMap:_M,getDifferenceMagma:Sl,getEq:_V,getFilterableWithIndex:function(){return{URI:Sa,_E:void 0,map:_X,mapWithIndex:_Z,compact:_8,separate:So,filter:_0,filterMap:_1,partition:_2,partitionMap:_3,partitionMapWithIndex:_6,partitionWithIndex:_9,filterMapWithIndex:_4,filterWithIndex:_5}},getFoldable:Sv,getFoldableWithIndex:SS,getFunctorWithIndex:Sp,getIntersectionSemigroup:Sc,getMonoid:function(t,n){var r=_B(t);return{concat:function(t,i){if(_E(t))return i;if(_E(i))return t;for(var o,a=new Map(t),u=i.entries();!(o=u.next()).done;){var s=o.value,c=s[0],l=s[1],f=r(c,t);ea(f)?a.set(f.value[0],n.concat(f.value[1],l)):a.set(c,l)}return a},empty:_$}},getShow:_C,getTraversable:ST,getTraversableWithIndex:Sw,getUnionMonoid:Ss,getUnionSemigroup:Su,getWitherable:function(t){var n=Sw(t);return{URI:Sa,_E:void 0,map:_X,compact:_8,separate:So,filter:_0,filterMap:_1,partition:_2,partitionMap:_3,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,traverse:n.traverse,sequence:n.sequence,mapWithIndex:_Z,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverseWithIndex:n.traverseWithIndex,wilt:rg(n,Sh),wither:ry(n,Sh)}},insertAt:_D,intersection:SI,isEmpty:_E,isSubmap:_K,keys:_N,lookup:_q,lookupWithKey:_B,map:St,mapWithIndex:Sn,member:_A,modifyAt:_z,partition:Sr,partitionMap:Si,partitionMapWithIndex:_J,partitionWithIndex:_G,pop:function(t){var n=_q(t),r=_W(t);return function(t){var i=r(t);return function(r){return D(n(t,r),dZ(function(t){return[t,i(r)]}))}}},readonlyMap:{URI:Sa,map:_X,compact:_8,separate:So,filter:_0,filterMap:_1,partition:_2,partitionMap:_3},reduce:Sm,reduceRight:Sy,reduceRightWithIndex:S_,reduceWithIndex:Sb,separate:So,singleton:_H,size:_R,toMap:function(t){return new Map(t)},toReadonlyArray:_L,toUnfoldable:function(t,n){var r=_L(t);return function(t){var i=r(t),o=i.length;return n.unfold(0,function(t){return t<o?es([i[t],t+1]):eu})}},union:SO,updateAt:_U,upsertAt:_D,values:_P},Symbol.toStringTag,{value:"Module"}));var SC=globalThis&&globalThis.__assign||function(){return(SC=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},SR=function(t){return function(n){return Array.from(n.keys()).sort(t.compare)}},SE=function(t){return function(n){return Array.from(n.values()).sort(t.compare)}};function SA(t){var n=SR(t);return function(t){return function(r){for(var i=[],o=n(r),a=0;a<o.length;a++){var u=o[a];i.push(t(u,r.get(u)))}return i}}}function Sj(t){return SA(t)(function(t,n){return[t,n]})}var SN=function(t){var n=SD(t);return function(t,r){var i=n(t);return function(n){var o=i(n);if(eo(o)){var a=new Map(n);return a.set(t,r),a}if(o.value[1]!==r){var a=new Map(n);return a.set(o.value[0],r),a}return n}}},SP=function(t){var n=SD(t);return function(t){return function(r){var i=n(t,r);if(ea(i)){var o=new Map(r);return o.delete(i.value[0]),o}return r}}},SF=function(t){var n=SL(t);return function(t,r){return n(t,function(){return r})}},SL=function(t){var n=SD(t);return function(t,r){return function(i){var o=n(t,i);if(eo(o))return eu;var a=new Map(i);return a.set(o.value[0],r(o.value[1])),es(a)}}};function SD(t){return function(n,r){if(void 0===r){var i=SD(t);return function(t){return i(n,t)}}for(var o,a=r.entries();!(o=a.next()).done;){var u=o.value,s=u[0],c=u[1];if(t.equals(s,n))return es([s,c])}return eu}}var SW=function(t,n){return new Map([[t,n]])},SU=function(t,n){for(var r,i=new Map,o=t.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];i.set(u,n(u,s))}return i},Sz=function(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],c=t(s,u[1]);ec(c)?i.set(s,c.left):o.set(s,c.right)}return e_(i,o)}};function SB(t){return function(n){for(var r,i=new Map,o=new Map,a=n.entries();!(r=a.next()).done;){var u=r.value,s=u[0],c=u[1];t(s,c)?o.set(s,c):i.set(s,c)}return e_(i,o)}}var Sq=function(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=t(u,a[1]);ea(s)&&i.set(u,s.value)}return i}};function SK(t){return function(n){for(var r,i=new Map,o=n.entries();!(r=o.next()).done;){var a=r.value,u=a[0],s=a[1];t(u,s)&&i.set(u,s)}return i}}var S$=function(t,n){return SU(t,function(t,r){return n(r)})},SV=function(t,n){return SG(t,function(t,r){return n(r)})},SH=function(t,n){return SY(t,function(t,r){return n(r)})},SZ=function(t,n){return SQ(t,function(t,r){return n(r)})},SJ=function(t,n){return SX(t,function(t,r){return n(r)})},SG=function(t,n){return D(t,SK(n))},SY=function(t,n){return D(t,Sq(n))},SQ=function(t,n){return D(t,SB(n))},SX=function(t,n){return D(t,Sz(n))},S0=function(t){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var o=n.value,a=o[0],u=o[1];ea(u)&&r.set(a,u.value)}return r},S1=function(t){return function(n){return SV(n,t)}},S2=function(t){return function(n){return SH(n,t)}},S3=function(t){return function(n){return S$(n,t)}},S5=function(t){return function(n){return SU(n,t)}},S4=function(t){return function(n){return SZ(n,t)}},S9=function(t){return function(n){return SJ(n,t)}},S6=function(t){for(var n,r=new Map,i=new Map,o=t.entries();!(n=o.next()).done;){var a=n.value,u=a[0],s=a[1];ec(s)?r.set(u,s.left):i.set(u,s.right)}return e_(r,i)},S8=function(t,n){var r=Tl(t,n);return{concat:function(t,n){return r(n)(t)}}},S7=function(t,n){return{concat:S8(t,n).concat,empty:new Map}},Te=function(t,n){var r=Tf(t,n);return{concat:function(t,n){return r(n)(t)}}},Tt=function(t){return function(){var n=Td(t);return{concat:function(t,r){return n(r)(t)}}}},Tn=function(t){return SC(SC({},Sv(t)),{URI:"Map"})},Tr=function(t){return SC(SC({},SS(t)),{URI:"Map"})},Ti=function(t){var n=Tr(t),r=SR(t),i=function(t){return function(n,i){for(var o=t.of(new Map),a=r(n),u=a.length,s=0;s<u;s++)!function(r){var u=a[r],s=n.get(u);o=t.ap(t.map(o,function(t){return function(n){return t.set(u,n)}}),i(u,s))}(s);return o}},o=function(t){var n=i(t);return function(t,r){return n(t,function(t,n){return r(n)})}},a=function(t){var n=i(t);return function(t){return n(t,function(t,n){return n})}};return{URI:"Map",_E:void 0,map:S$,mapWithIndex:SU,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverse:o,sequence:a,traverseWithIndex:i}},To={URI:"Map",map:S$},Ta=ee(To),Tu={URI:"Map",compact:S0,separate:S6},Ts={URI:"Map",map:S$,compact:S0,separate:S6,filter:SV,filterMap:SH,partition:SZ,partitionMap:SJ},Tc=function(t){return new Map(t)},Tl=function(t,n){var r=SO(t,n);return function(t){return function(n){return _E(n)?Tc(t):_E(t)?Tc(n):r(t)(n)}}},Tf=function(t,n){var r=SI(t,n);return function(t){return function(n){return _E(n)||_E(t)?new Map:r(t)(n)}}},Td=function(t){var n=Sk(t);return function(t){return function(r){return _E(r)?Tc(t):_E(t)?Tc(r):n(t)(r)}}},Tp=new Map;let Th=Object.freeze(Object.defineProperty({__proto__:null,Compactable:Tu,Filterable:Ts,Functor:To,URI:"Map",collect:SA,compact:S0,deleteAt:SP,difference:Td,elem:_j,empty:Tp,filter:S1,filterMap:S2,filterMapWithIndex:Sq,filterWithIndex:SK,flap:Ta,foldMap:Sg,foldMapWithIndex:Sx,fromFoldable:function(t,n,r){return function(i){var o=SD(t);return r.reduce(i,new Map,function(t,r){var i=r[0],a=r[1],u=o(i,t);return ea(u)?t.set(u.value[0],n.concat(u.value[1],a)):t.set(i,a),t})}},getDifferenceMagma:Tt,getEq:_V,getFilterableWithIndex:function(){return{URI:"Map",_E:void 0,map:S$,mapWithIndex:SU,compact:S0,separate:S6,filter:SV,filterMap:SH,partition:SZ,partitionMap:SJ,partitionMapWithIndex:SX,partitionWithIndex:SQ,filterMapWithIndex:SY,filterWithIndex:SG}},getFoldable:Tn,getFoldableWithIndex:Tr,getIntersectionSemigroup:Te,getMonoid:function(t,n){var r=SD(t);return{concat:function(t,i){if(_E(t))return i;if(_E(i))return t;for(var o,a=new Map(t),u=i.entries();!(o=u.next()).done;){var s=o.value,c=s[0],l=s[1],f=r(c,t);ea(f)?a.set(f.value[0],n.concat(f.value[1],l)):a.set(c,l)}return a},empty:new Map}},getShow:_C,getTraversableWithIndex:Ti,getUnionMonoid:S7,getUnionSemigroup:S8,getWitherable:function(t){var n=Ti(t);return{URI:"Map",_E:void 0,map:S$,compact:S0,separate:S6,filter:SV,filterMap:SH,partition:SZ,partitionMap:SJ,reduce:n.reduce,foldMap:n.foldMap,reduceRight:n.reduceRight,traverse:n.traverse,sequence:n.sequence,mapWithIndex:SU,reduceWithIndex:n.reduceWithIndex,foldMapWithIndex:n.foldMapWithIndex,reduceRightWithIndex:n.reduceRightWithIndex,traverseWithIndex:n.traverseWithIndex,wilt:rg(n,Tu),wither:ry(n,Tu)}},insertAt:SN,intersection:Tf,isEmpty:_E,isSubmap:_K,keys:SR,lookup:_q,lookupWithKey:SD,map:S3,mapWithIndex:S5,map_:Ts,member:_A,modifyAt:SL,partition:S4,partitionMap:S9,partitionMapWithIndex:Sz,partitionWithIndex:SB,pop:function(t){var n=_q(t),r=SP(t);return function(t){var i=r(t);return function(r){return D(n(t,r),dZ(function(t){return[t,i(r)]}))}}},reduce:Sm,reduceRight:Sy,reduceRightWithIndex:S_,reduceWithIndex:Sb,separate:S6,singleton:SW,size:_R,toArray:Sj,toUnfoldable:function(t,n){var r=Sj(t);return function(t){var i=r(t),o=i.length;return n.unfold(0,function(t){return t<o?es([i[t],t+1]):eu})}},union:Tl,updateAt:SF,upsertAt:SN,values:SE},Symbol.toStringTag,{value:"Module"})),Tm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Tg=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Ty=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Tv=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Tb=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Tx=function(t){return{concat:tc(t).concat,empty:t.top}},T_=function(t){return{concat:tl(t).concat,empty:t.bottom}},TS=function(t){return{concat:tr(t).concat,empty:t.empty}},TT=function(t){var n={};for(var r in t)eb.call(t,r)&&(n[r]=t[r].empty);return{concat:td(t).concat,empty:n}},Tw=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{concat:tp.apply(tw,t).concat,empty:t.map(function(t){return t.empty})}},TO=function(t){return tu(t)(t.empty)},TI={concat:ty.concat,empty:void 0},Tk={concat:tb.concat,empty:!0},TM={concat:tx.concat,empty:!1},TC=function(){return TS(m4())},TR={concat:t_.concat,empty:""},TE={concat:tS.concat,empty:0},TA={concat:tT.concat,empty:1};let Tj=Object.freeze(Object.defineProperty({__proto__:null,concatAll:TO,fold:TO,getDualMonoid:TS,getEndomorphismMonoid:TC,getFunctionMonoid:T,getJoinMonoid:T_,getMeetMonoid:Tx,getStructMonoid:TT,getTupleMonoid:Tw,max:T_,min:Tx,monoidAll:Tk,monoidAny:TM,monoidProduct:TA,monoidString:TR,monoidSum:TE,monoidVoid:TI,reverse:TS,struct:TT,tuple:Tw},Symbol.toStringTag,{value:"Module"})),TN=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var TP=function(t,n,r){return function(i){return -1===i?t():0===i?n():r()}},TF=function(t){return -1===t?1:1===t?-1:0},TL={equals:function(t,n){return t===n}},TD={concat:function(t,n){return 0!==t?t:n}},TW={concat:TD.concat,empty:0},TU=function(t){return t<=-1?-1:t>=1?1:0};let Tz=Object.freeze(Object.defineProperty({__proto__:null,Eq:TL,Monoid:TW,Semigroup:TD,eqOrdering:TL,invert:TF,match:TP,matchW:TP,monoidOrdering:TW,reverse:TF,semigroupOrdering:TD,sign:TU},Symbol.toStringTag,{value:"Module"})),TB=Object.freeze(Object.defineProperty({__proto__:null,pipe:D,pipeable:function(t){var n,r,i,o,a,u,s,c,l,f,d,p,h,m,g,y={};if("function"==typeof t.map){var v=function(n){return function(r){return t.map(r,n)}};y.map=v}if("function"==typeof t.contramap){var b=function(n){return function(r){return t.contramap(r,n)}};y.contramap=b}if("function"==typeof t.mapWithIndex){var x=function(n){return function(r){return t.mapWithIndex(r,n)}};y.mapWithIndex=x}if("function"==typeof t.ap){var _=function(n){return function(r){return t.ap(r,n)}},S=function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}};y.ap=_,y.apFirst=S,y.apSecond=function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}}if("function"==typeof t.chain){var T=function(n){return function(r){return t.chain(r,n)}},w=function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}},O=function(n){return t.chain(n,k)};y.chain=T,y.chainFirst=w,y.flatten=O}if("function"==typeof t.bimap){var I=function(n,r){return function(i){return t.bimap(i,n,r)}},M=function(n){return function(r){return t.mapLeft(r,n)}};y.bimap=I,y.mapLeft=M}if("function"==typeof t.extend){var C=function(n){return function(r){return t.extend(r,n)}},R=function(n){return t.extend(n,k)};y.extend=C,y.duplicate=R}if("function"==typeof t.reduce){var E=function(n,r){return function(i){return t.reduce(i,n,r)}},A=function(n){var r=t.foldMap(n);return function(t){return function(n){return r(n,t)}}},j=function(n,r){return function(i){return t.reduceRight(i,n,r)}};y.reduce=E,y.foldMap=A,y.reduceRight=j}if("function"==typeof t.reduceWithIndex){var N=function(n,r){return function(i){return t.reduceWithIndex(i,n,r)}},P=function(n){var r=t.foldMapWithIndex(n);return function(t){return function(n){return r(n,t)}}},F=function(n,r){return function(i){return t.reduceRightWithIndex(i,n,r)}};y.reduceWithIndex=N,y.foldMapWithIndex=P,y.reduceRightWithIndex=F}if("function"==typeof t.alt){var L=function(n){return function(r){return t.alt(r,n)}};y.alt=L}if("function"==typeof t.compact&&(y.compact=t.compact,y.separate=t.separate),"function"==typeof t.filter){var D=function(n){return function(r){return t.filter(r,n)}},W=function(n){return function(r){return t.filterMap(r,n)}},U=function(n){return function(r){return t.partition(r,n)}},z=function(n){return function(r){return t.partitionMap(r,n)}};y.filter=D,y.filterMap=W,y.partition=U,y.partitionMap=z}if("function"==typeof t.filterWithIndex){var B=function(n){return function(r){return t.filterWithIndex(r,n)}},q=function(n){return function(r){return t.filterMapWithIndex(r,n)}},K=function(n){return function(r){return t.partitionWithIndex(r,n)}},$=function(n){return function(r){return t.partitionMapWithIndex(r,n)}};y.filterWithIndex=B,y.filterMapWithIndex=q,y.partitionWithIndex=K,y.partitionMapWithIndex=$}if("function"==typeof t.promap){var V=function(n,r){return function(i){return t.promap(i,n,r)}};y.promap=V}if("function"==typeof t.compose){var H=function(n){return function(r){return t.compose(r,n)}};y.compose=H}if("function"==typeof t.throwError){var Z=function(n){return function(r){return"None"===r._tag?t.throwError(n()):t.of(r.value)}},J=function(n){return"Left"===n._tag?t.throwError(n.left):t.of(n.right)},G=function(n,r){return function(i){return n(i)?t.of(i):t.throwError(r(i))}},Y=function(n,r){return function(i){return t.chain(i,function(i){return n(i)?t.of(i):t.throwError(r(i))})}};y.fromOption=Z,y.fromEither=J,y.fromPredicate=G,y.filterOrElse=Y}return y}},Symbol.toStringTag,{value:"Module"})),Tq=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),TK=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var T$=function(){return Math.random()};function TV(t,n){return D(T$,vj(function(r){return Math.floor((n-t+1)*r+t)}))}var TH=D(T$,vj(function(t){return t<.5})),TZ=function(t){return D(TV(0,t.length-1),vj(function(n){return t[n]}))};let TJ=Object.freeze(Object.defineProperty({__proto__:null,random:T$,randomBool:TH,randomElem:TZ,randomInt:TV,randomRange:function(t,n){return D(T$,vj(function(r){return(n-t)*r+t}))}},Symbol.toStringTag,{value:"Module"}));var TG=mF(gK),TY=mP(gK),TQ=mL(gB),TX=mD(gB),T0=mJ(gB),T1=mG(gG),T2=mY(gG),T3=m2(gB),T5=mQ(gG),T4=mX(gG),T9=m0(gG),T6=m1(gB),T8=function(t,n){return D(t,wi(n))},T7=function(t,n,r){return D(t,wo(n,r))},we=function(t,n){return D(t,wa(n))},wt=function(t,n){return D(t,wu(n))},wn=function(t,n){return D(t,ws(n))},wr=function(t,n){return D(t,wl(n))},wi=mB(gB),wo=mV(gB),wa=mH(gB),wu=mq(g$),ws=mK(gG),wc=ws(k),wl=m$(gG),wf="ReaderEither",wd=function(t){var n=hj(t);return{URI:wf,_E:void 0,compact:p0(gB,n),separate:p1(gB,n,hW)}};function wp(t){var n=ej(g$,hF(t));return{URI:wf,_E:void 0,map:T8,ap:function(t,r){return D(t,n(r))},of:TY}}function wh(t){var n=mZ(gG,t);return{URI:wf,_E:void 0,map:T8,alt:function(t,r){return D(t,n(r))}}}var wm={URI:wf,map:T8},wg=ee(wm),wy={URI:wf,map:T8,ap:wt},wv=eN(wy),wb=eP(wy),wx={URI:wf,map:T8,ap:wt,of:TY},w_={URI:wf,map:T8,ap:wt,chain:wn},wS=eq(w_),wT={URI:wf,fromReader:TQ},ww=ye(wT),wO=yt(wT),wI=yn(wT),wk=yr(wT,w_),wM=yi(wT,w_),wC={URI:wf,fromEither:M},wR=oR(wC),wE=oA(wC),wA=oj(wC,w_),wj=oP(wC,w_),wN=oF(wC,w_),wP=oE(wC),wF=oL(wC,w_),wL=oN(wC),wD=TY(ev),wW=et(wm),wU=eK(w_),wz=eF(wy),wB=TY(ey),wq=function(t){return j(g3(t),gM(mO(W)))},wK=function(t){var n=wq(t);return function(t){return eh(t)?n(t):wB}},w$=function(t){return wK(function(n,r){return t(r)})},wV=w$(k),wH=eL(wy),wZ=ok(wx),wJ=function(t){return eL(g$)(hA(t))};let wG=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:wf,map:T8,alt:wr},ApT:wB,Applicative:wx,Apply:wy,Bifunctor:{URI:wf,bimap:T7,mapLeft:we},Chain:w_,Do:wD,FromEither:wC,FromReader:wT,Functor:wm,Monad:{URI:wf,map:T8,ap:wt,of:TY,chain:wn},MonadThrow:{URI:wf,map:T8,ap:wt,of:TY,chain:wn,throwError:TG},Pointed:{URI:wf,of:TY},URI:wf,alt:wl,altW:wl,ap:wu,apFirst:wv,apFirstW:wv,apS:wz,apSW:wz,apSecond:wb,apSecondW:wb,apW:wu,ask:ww,asks:wO,asksReaderEither:gS,asksReaderEitherW:gS,bimap:wo,bind:wU,bindTo:wW,bindW:wU,chain:ws,chainEitherK:wj,chainEitherKW:wj,chainFirst:wS,chainFirstEitherK:wN,chainFirstEitherKW:wN,chainFirstReaderK:wM,chainFirstReaderKW:wM,chainFirstW:wS,chainOptionK:wA,chainReaderK:wk,chainReaderKW:wk,chainW:ws,filterOrElse:wF,filterOrElseW:wF,flap:wg,flatten:wc,flattenW:wc,fold:T1,foldW:T1,fromEither:M,fromEitherK:wL,fromOption:wR,fromOptionK:wE,fromPredicate:wP,fromReader:TQ,fromReaderK:wI,getAltReaderValidation:wh,getApplicativeReaderValidation:wp,getApplyMonoid:wZ,getApplySemigroup:wH,getCompactable:wd,getFilterable:function(t){var n=hN(t),r=wd(t),i=ge(gB,n),o=gt(gB,n),a=gn(gB,n),u=gr(gB,n);return{URI:wf,_E:void 0,map:T8,compact:r.compact,separate:r.separate,filter:function(t,n){return D(t,i(n))},filterMap:function(t,n){return D(t,o(n))},partition:function(t,n){return D(t,a(n))},partitionMap:function(t,n){return D(t,u(n))}}},getOrElse:T2,getOrElseW:T2,getReaderValidation:function(t){var n=wp(t),r=wh(t);return{URI:wf,_E:void 0,map:T8,ap:n.ap,of:TY,chain:wn,bimap:T7,mapLeft:we,alt:r.alt,throwError:TG}},getSemigroup:wJ,left:TG,leftReader:TX,local:g_,map:wi,mapLeft:wa,match:T0,matchE:T1,matchEW:T1,matchW:T0,of:TY,orElse:T5,orElseFirst:T4,orElseFirstW:T4,orElseW:T5,orLeft:T9,readerEither:{URI:wf,bimap:T7,mapLeft:we,map:T8,of:TY,ap:wt,chain:wn,alt:wr,throwError:TG},right:TY,rightReader:TQ,sequenceArray:wV,swap:T6,throwError:TG,toUnion:T3,traverseArray:w$,traverseArrayWithIndex:wK,traverseReadonlyArrayWithIndex:wK,traverseReadonlyNonEmptyArrayWithIndex:wq},Symbol.toStringTag,{value:"Module"}));function wY(t){return function(n){return function(){return t.of(n)}}}function wQ(t){return function(n){return function(r){return function(i){return t.map(r(i),n)}}}}function wX(t){return function(n){return function(r){return function(i){return t.ap(r(i),n(i))}}}}function w0(t){return function(n){return function(r){return function(i){return t.chain(r(i),function(t){return n(t)(i)})}}}}function w1(t){return function(n){return j(n,t.of)}}let w2=Object.freeze(Object.defineProperty({__proto__:null,ap:wX,chain:w0,fromNaturalTransformation:function(t){return function(n){return j(n,t)}},fromReader:w1,getReaderM:function(t){var n=wX(t),r=wQ(t),i=w0(t);return{map:function(t,n){return D(t,r(n))},ap:function(t,r){return D(t,n(r))},of:wY(t),chain:function(t,n){return D(t,i(n))},ask:function(){return t.of},asks:function(n){return j(n,t.of)},local:function(t,n){return function(r){return t(n(r))}},fromReader:w1(t),fromM:function(t){return function(){return t}}}},map:wQ,of:wY},Symbol.toStringTag,{value:"Module"}));var w3=function(t){return function(){return Promise.resolve().then(t)}},w5=function(t,n){return D(t,w8(n))},w4=function(t,n){return D(t,w7(n))},w9=function(t,n){return D(t,Ot(function(t){return D(n,w8(t))}))},w6=function(t,n){return D(t,Ot(n))},w8=function(t){return function(n){return function(){return Promise.resolve().then(n).then(t)}}},w7=function(t){return function(n){return function(){return Promise.all([Promise.resolve().then(n),Promise.resolve().then(t)]).then(function(t){var n;return(0,t[0])(t[1])})}}},Oe=function(t){return function(){return Promise.resolve(t)}},Ot=function(t){return function(n){return function(){return Promise.resolve().then(n).then(function(n){return t(n)()})}}},On=Ot(k),Or="Task",Oi={URI:Or,map:w5},Oo=ee(Oi),Oa={URI:Or,of:Oe},Ou={URI:Or,map:w5,ap:w4},Os=eN(Ou),Oc=eP(Ou),Ol={URI:Or,map:w5,ap:w4,of:Oe},Of={URI:Or,map:w5,ap:w9},Od={URI:Or,map:w5,ap:w9,of:Oe},Op={URI:Or,map:w5,ap:w4,chain:w6},Oh={URI:Or,map:w5,of:Oe,ap:w4,chain:w6},Om=eq(Op),Og={URI:Or,fromIO:w3},Oy=gg(Og),Ov=gy(Og,Op),Ob=gv(Og,Op),Ox=function(){return new Promise(function(t){})},O_=Oe(ev),OS=et(Oi),OT=eK(Op),Ow=eF(Ou),OO=Oe(ey),OI=function(t){return function(n){return function(){return Promise.all(n.map(function(n,r){return Promise.resolve().then(function(){return t(r,n)()})}))}}},Ok=function(t){var n=OI(t);return function(t){return eh(t)?n(t):OO}},OM=function(t){return function(n){return function(){return eg(n).reduce(function(n,r,i){return n.then(function(n){return Promise.resolve().then(t(i+1,r)).then(function(t){return n.push(t),n})})},Promise.resolve().then(t(0,em(n))).then(ep))}}},OC=function(t){var n=OM(t);return function(t){return eh(t)?n(t):OO}},OR=function(t){return Ok(function(n,r){return t(r)})},OE=OR(k),OA=function(t){return OC(function(n,r){return t(r)})},Oj=OA(k),ON=eL(Of),OP=ok(Od);let OF=Object.freeze(Object.defineProperty({__proto__:null,ApT:OO,ApplicativePar:Ol,ApplicativeSeq:Od,ApplyPar:Ou,ApplySeq:Of,Chain:Op,Do:O_,FromIO:Og,FromTask:{URI:Or,fromIO:w3,fromTask:k},Functor:Oi,Monad:Oh,MonadIO:{URI:Or,map:w5,of:Oe,ap:w4,chain:w6,fromIO:w3},MonadTask:{URI:Or,map:w5,of:Oe,ap:w4,chain:w6,fromIO:w3,fromTask:k},Pointed:Oa,URI:Or,ap:w7,apFirst:Os,apS:Ow,apSecond:Oc,bind:OT,bindTo:OS,chain:Ot,chainFirst:Om,chainFirstIOK:Ob,chainIOK:Ov,delay:function(t){return function(n){return function(){return new Promise(function(r){setTimeout(function(){Promise.resolve().then(n).then(r)},t)})}}},flap:Oo,flatten:On,fromIO:w3,fromIOK:Oy,fromTask:k,getMonoid:OP,getRaceMonoid:function(){return{concat:function(t,n){return function(){return Promise.race([Promise.resolve().then(t),Promise.resolve().then(n)])}},empty:Ox}},getSemigroup:ON,map:w8,never:Ox,of:Oe,sequenceArray:OE,sequenceSeqArray:Oj,task:{URI:Or,map:w5,of:Oe,ap:w4,chain:w6,fromIO:w3,fromTask:k},taskSeq:{URI:Or,map:w5,of:Oe,ap:w9,chain:w6,fromIO:w3,fromTask:k},traverseArray:OR,traverseArrayWithIndex:Ok,traverseReadonlyArrayWithIndex:Ok,traverseReadonlyArrayWithIndexSeq:OC,traverseReadonlyNonEmptyArrayWithIndex:OI,traverseReadonlyNonEmptyArrayWithIndexSeq:OM,traverseSeqArray:OA,traverseSeqArrayWithIndex:OC},Symbol.toStringTag,{value:"Module"}));var OL=w1(Oa),OD=j(w3,M),OW=function(t,n){return D(t,Oq(n))},OU=function(t,n){return D(t,OK(n))},Oz=function(t,n){return D(t,OV(function(t){return D(n,Oq(t))}))},OB=function(t,n){return D(t,OV(n))},Oq=wQ(Oi),OK=wX(Ou),O$=wY(Oa),OV=w0(Oh),OH=OV(k),OZ="ReaderTask",OJ={URI:OZ,map:OW},OG=ee(OJ),OY={URI:OZ,of:O$},OQ={URI:OZ,map:OW,ap:OU},OX=eN(OQ),O0=eP(OQ),O1={URI:OZ,map:OW,ap:Oz},O2={URI:OZ,map:OW,ap:Oz,of:O$},O3={URI:OZ,map:OW,ap:OU,chain:OB},O5={URI:OZ,map:OW,of:O$,ap:OU,chain:OB},O4=eq(O3),O9={URI:OZ,fromIO:OD},O6=gg(O9),O8=gy(O9,O3),O7=gv(O9,O3),Ie={URI:OZ,fromReader:OL},It=ye(Ie),In=yt(Ie),Ir=yn(Ie),Ii=yr(Ie,O3),Io=yi(Ie,O3),Ia={URI:OZ,fromIO:OD,fromTask:M},Iu=yV(Ia),Is=yH(Ia,O3),Ic=yZ(Ia,O3),Il=O$(ev),If=et(OJ),Id=eK(O3),Ip=eF(OQ),Ih=O$(ey),Im=function(t){return j(g3(t),gM(OI(W)))},Ig=function(t){var n=Im(t);return function(t){return eh(t)?n(t):Ih}},Iy=function(t){return j(g3(t),gM(OM(W)))},Iv=function(t){var n=Iy(t);return function(t){return eh(t)?n(t):Ih}},Ib=function(t){return Ig(function(n,r){return t(r)})},Ix=Ib(k),I_=function(t){return Iv(function(n,r){return t(r)})},IS=I_(k),IT=eL(O1),Iw=ok(O2);function IO(t,n){return t(n)()}let II=Object.freeze(Object.defineProperty({__proto__:null,ApT:Ih,ApplicativePar:{URI:OZ,map:OW,ap:OU,of:O$},ApplicativeSeq:O2,ApplyPar:OQ,ApplySeq:O1,Chain:O3,Do:Il,FromIO:O9,FromReader:Ie,FromTask:Ia,Functor:OJ,Monad:O5,MonadIO:{URI:OZ,map:OW,of:O$,ap:OU,chain:OB,fromIO:OD},MonadTask:{URI:OZ,map:OW,of:O$,ap:OU,chain:OB,fromIO:OD,fromTask:M},Pointed:OY,URI:OZ,ap:OK,apFirst:OX,apS:Ip,apSW:Ip,apSecond:O0,apW:OK,ask:It,asks:In,asksReaderTask:gS,asksReaderTaskW:gS,bind:Id,bindTo:If,bindW:Id,chain:OV,chainFirst:O4,chainFirstIOK:O7,chainFirstReaderK:Io,chainFirstReaderKW:Io,chainFirstTaskK:Ic,chainFirstW:O4,chainIOK:O8,chainReaderK:Ii,chainReaderKW:Ii,chainTaskK:Is,chainW:OV,flap:OG,flatten:OH,flattenW:OH,fromIO:OD,fromIOK:O6,fromReader:OL,fromReaderK:Ir,fromTask:M,fromTaskK:Iu,getMonoid:Iw,getSemigroup:IT,local:g_,map:Oq,of:O$,readerTask:{URI:OZ,map:OW,of:O$,ap:OU,chain:OB,fromIO:OD,fromTask:M},readerTaskSeq:{URI:OZ,map:OW,of:O$,ap:Oz,chain:OB,fromIO:OD,fromTask:M},run:IO,sequenceArray:Ix,sequenceSeqArray:IS,traverseArray:Ib,traverseArrayWithIndex:Ig,traverseReadonlyArrayWithIndex:Ig,traverseReadonlyArrayWithIndexSeq:Iv,traverseReadonlyNonEmptyArrayWithIndex:Im,traverseReadonlyNonEmptyArrayWithIndexSeq:Iy,traverseSeqArray:I_,traverseSeqArrayWithIndex:Iv},Symbol.toStringTag,{value:"Module"}));var Ik=globalThis&&globalThis.__awaiter||function(t,n,r,i){return new(r||(r=Promise))(function(o,a){function u(t){try{c(i.next(t))}catch(n){a(n)}}function s(t){try{c(i.throw(t))}catch(n){a(n)}}function c(t){var n;t.done?o(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(u,s)}c((i=i.apply(t,n||[])).next())})},IM=globalThis&&globalThis.__generator||function(t,n){var r,i,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw TypeError("Generator is already executing.");for(;u;)try{if(r=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,i=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(t,u)}catch(s){a=[6,s],i=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},IC=mF(Oa),IR=mP(Oa),IE=mL(Oi),IA=mD(Oi),Ij=j(w3,IE),IN=j(w3,IA),IP=function(t){return w8(h6(t))},IF=mJ(Oi),IL=mG(Oh),ID=mY(Oh),IW=function(t,n){return function(){return Ik(void 0,void 0,void 0,function(){var r;return IM(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t().then(ed)];case 1:return[2,r.sent()];case 2:return[2,ef(n(r.sent()))];case 3:return[2]}})})}},IU=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return IW(function(){return t.apply(void 0,r)},n)}},Iz=m2(Oi),IB=mW(Oa),Iq=mU(Oa),IK=mz(Oh),I$=mQ(Oh),IV=mX(Oh),IH=function(t){return IV(kC(t))},IZ=function(t){return IV(kj(t))},IJ=m0(Oh),IG=m1(Oi),IY=function(t){var n=IP(t);return function(t){return j(t,n)}},IQ=function(t){return function(n){return function(r){return D(r,kn(IY(t)(n)))}}},IX=function(t){return j(t,w3)},I0=function(t){return kr(IX(t))},I1=function(t,n){return D(t,I8(n))},I2=function(t,n){return D(t,kt(n))},I3=function(t,n){return D(t,kn(function(t){return D(n,I8(t))}))},I5=function(t,n){return D(t,kn(n))},I4=function(t,n,r){return D(t,I7(n,r))},I9=function(t,n){return D(t,ke(n))},I6=function(t,n){return D(t,ko(n))},I8=mB(Oi),I7=mV(Oi),ke=mH(Oi),kt=mq(Ou),kn=mK(Oh),kr=kn,ki=kr(k),ko=m$(Oh),ka="TaskEither";function ku(t,n){var r=ej(t,hF(n));return{URI:ka,_E:void 0,map:I1,ap:function(t,n){return D(t,r(n))},of:IR}}function ks(t){var n=mZ(Oh,t);return{URI:ka,_E:void 0,map:I1,alt:function(t,r){return D(t,n(r))}}}var kc=function(t){var n=hj(t);return{URI:ka,_E:void 0,compact:p0(Oi,n),separate:p1(Oi,n,hW)}},kl={URI:ka,map:I1},kf=ee(kl),kd={URI:ka,map:I1,ap:I2},kp=eN(kd),kh=eP(kd),km={URI:ka,map:I1,ap:I3},kg={URI:ka,map:I1,ap:I3,of:IR},ky={URI:ka,map:I1,ap:I2,chain:I5},kv=eq(ky),kb={URI:ka,fromEither:Oe},kx=oR(kb),k_=oA(kb),kS=oj(kb,ky),kT=oP(kb,ky),kw=oF(kb,ky),kO=oE(kb),kI=oL(kb,ky),kk=oN(kb),kM={URI:ka,fromIO:Ij},kC=gg(kM),kR=gy(kM,ky),kE=gv(kM,ky),kA={URI:ka,fromIO:Ij,fromTask:IE},kj=yV(kA),kN=yH(kA,ky),kP=yZ(kA,ky),kF=function(t,n,r){return kL(t,n,r)},kL=function(t,n,r){return D(t,kr(function(t){return D(n(t),Ot(function(n){return D(r(t,n),kr(function(){return Oe(n)}))}))}))},kD=IR(ev),kW=et(kl),kU=eK(ky),kz=eF(kd),kB=IR(ey),kq=function(t){return j(OI(t),w8(mO(W)))},kK=function(t){var n=kq(t);return function(t){return eh(t)?n(t):kB}},k$=function(t){return function(n){return function(){return eg(n).reduce(function(n,r,i){return n.then(function(o){return ec(o)?n:t(i+1,r)().then(function(t){return ec(t)?t:(o.right.push(t.right),o)})})},t(0,em(n))().then(hD(ep)))}}},kV=function(t){var n=k$(t);return function(t){return eh(t)?n(t):kB}},kH=function(t){return kK(function(n,r){return t(r)})},kZ=kH(k),kJ=function(t){return kV(function(n,r){return t(r)})},kG=kJ(k),kY=eL(km),kQ=ok(kg),kX=function(t){return eL(Of)(hA(t))};let k0=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:ka,map:I1,alt:I6},ApT:kB,ApplicativePar:{URI:ka,map:I1,ap:I2,of:IR},ApplicativeSeq:kg,ApplyPar:kd,ApplySeq:km,Bifunctor:{URI:ka,bimap:I4,mapLeft:I9},Chain:ky,Do:kD,FromEither:kb,FromIO:kM,FromTask:kA,Functor:kl,Monad:{URI:ka,map:I1,ap:I2,chain:I5,of:IR},MonadIO:{URI:ka,map:I1,ap:I2,chain:I5,of:IR,fromIO:Ij},MonadTask:{URI:ka,map:I1,ap:I2,chain:I5,of:IR,fromIO:Ij,fromTask:IE},MonadThrow:{URI:ka,map:I1,ap:I2,chain:I5,of:IR,throwError:IC},Pointed:{URI:ka,of:IR},URI:ka,alt:ko,altW:ko,ap:kt,apFirst:kp,apFirstW:kp,apS:kz,apSW:kz,apSecond:kh,apSecondW:kh,apW:kt,bimap:I7,bind:kU,bindTo:kW,bindW:kU,bracket:kF,bracketW:kL,chain:kn,chainEitherK:kT,chainEitherKW:kT,chainFirst:kv,chainFirstEitherK:kw,chainFirstEitherKW:kw,chainFirstIOK:kE,chainFirstTaskK:kP,chainFirstW:kv,chainIOEitherK:I0,chainIOEitherKW:I0,chainIOK:kR,chainNullableK:IK,chainOptionK:kS,chainTaskK:kN,chainTaskOptionK:IQ,chainTaskOptionKW:IQ,chainW:kr,filterOrElse:kI,filterOrElseW:kI,flap:kf,flatten:ki,flattenW:ki,fold:IL,foldW:IL,fromEither:Oe,fromEitherK:kk,fromIO:Ij,fromIOEither:w3,fromIOEitherK:IX,fromIOK:kC,fromNullable:IB,fromNullableK:Iq,fromOption:kx,fromOptionK:k_,fromPredicate:kO,fromTask:IE,fromTaskK:kj,fromTaskOption:IP,fromTaskOptionK:IY,getAltTaskValidation:ks,getApplicativeTaskValidation:ku,getApplyMonoid:kQ,getApplySemigroup:kY,getCompactable:kc,getFilterable:function(t){var n=hN(t),r=kc(t),i=ge(Oi,n),o=gt(Oi,n),a=gn(Oi,n),u=gr(Oi,n);return{URI:ka,_E:void 0,map:I1,compact:r.compact,separate:r.separate,filter:function(t,n){return D(t,i(n))},filterMap:function(t,n){return D(t,o(n))},partition:function(t,n){return D(t,a(n))},partitionMap:function(t,n){return D(t,u(n))}}},getOrElse:ID,getOrElseW:ID,getSemigroup:kX,getTaskValidation:function(t){var n=ku(Ol,t),r=ks(t);return{URI:ka,_E:void 0,map:I1,ap:n.ap,of:IR,chain:I5,bimap:I4,mapLeft:I9,alt:r.alt,fromIO:Ij,fromTask:IE,throwError:IC}},left:IC,leftIO:IN,leftTask:IA,map:I8,mapLeft:ke,match:IF,matchE:IL,matchEW:IL,matchW:IF,of:IR,orElse:I$,orElseFirst:IV,orElseFirstIOK:IH,orElseFirstTaskK:IZ,orElseFirstW:IV,orElseW:I$,orLeft:IJ,right:IR,rightIO:Ij,rightTask:IE,sequenceArray:kZ,sequenceSeqArray:kG,swap:IG,taskEither:{URI:ka,bimap:I4,mapLeft:I9,map:I1,of:IR,ap:I2,chain:I5,alt:I6,fromIO:Ij,fromTask:IE,throwError:IC},taskEitherSeq:{URI:ka,bimap:I4,mapLeft:I9,map:I1,of:IR,ap:I3,chain:I5,alt:I6,fromIO:Ij,fromTask:IE,throwError:IC},taskify:function(t){return function(){var n=Array.prototype.slice.call(arguments);return function(){return new Promise(function(r){var i=function(t,n){return null!=t?r(ef(t)):r(ed(n))};t.apply(null,n.concat(i))})}}},throwError:IC,toUnion:Iz,traverseArray:kH,traverseArrayWithIndex:kK,traverseReadonlyArrayWithIndex:kK,traverseReadonlyArrayWithIndexSeq:kV,traverseReadonlyNonEmptyArrayWithIndex:kq,traverseReadonlyNonEmptyArrayWithIndexSeq:k$,traverseSeqArray:kJ,traverseSeqArrayWithIndex:kV,tryCatch:IW,tryCatchK:IU},Symbol.toStringTag,{value:"Module"}));var k1=mF(OY),k2=mP(OY),k3=j(IE,M),k5=j(IA,M),k4=function(t){return j(t,IR)},k9=function(t){return j(t,IC)},k6=mL(OJ),k8=mD(OJ),k7=j(Ij,M),Me=j(IN,M),Mt=j(w3,M),Mn=function(t){return j(t,Oe)},Mr=mJ(OJ),Mi=mG(O3),Mo=mY(O5),Ma=m2(OJ),Mu=mW(OY),Ms=mU(OY),Mc=mz(O5),Ml=mQ(O5),Mf=mX(O5),Md=m0(O5),Mp=m1(OJ),Mh=function(t){return j(t,Mt)},Mm=function(t){return MN(Mh(t))},Mg=function(t){return j(t,M)},My=function(t){return MN(Mg(t))},Mv=function(t){return MY(Mg(t))},Mb=function(t){return j(t,Mn)},Mx=function(t){return MN(Mb(t))},M_=function(t){return MY(Mb(t))},MS=function(t,n){return D(t,MC(n))},MT=function(t,n){return D(t,MA(n))},Mw=function(t,n){return D(t,Mj(function(t){return D(n,MC(t))}))},MO=function(t,n){return D(t,Mj(n))},MI=function(t,n){return D(t,MF(n))},Mk=function(t,n,r){return D(t,MR(n,r))},MM=function(t,n){return D(t,ME(n))},MC=mB(OJ),MR=mV(OJ),ME=mH(OJ),MA=mq(OQ),Mj=mK(O5),MN=Mj,MP=MN(k),MF=m$(O5),ML="ReaderTaskEither",MD=function(t){var n=hj(t);return{URI:ML,_E:void 0,compact:p0(OJ,n),separate:p1(OJ,n,hW)}};function MW(t,n){var r=ej(g$,ku(t,n));return{URI:ML,_E:void 0,map:MS,ap:function(t,n){return D(t,r(n))},of:k2}}function MU(t){var n=mZ(O5,t);return{URI:ML,_E:void 0,map:MS,alt:function(t,r){return D(t,n(r))}}}var Mz={URI:ML,map:MS},MB=ee(Mz),Mq={URI:ML,of:k2},MK={URI:ML,map:MS,ap:MT},M$=eN(MK),MV=eP(MK),MH={URI:ML,map:MS,ap:Mw},MZ={URI:ML,map:MS,ap:Mw,of:k2},MJ={URI:ML,map:MS,ap:MT,chain:MO},MG=eq(MJ),MY=MG,MQ={URI:ML,fromReader:k4},MX=ye(MQ),M0=yt(MQ),M1=yn(MQ),M2=yr(MQ,MJ),M3=yi(MQ,MJ),M5=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return k6(t.apply(void 0,n))}},M4=function(t){return MN(M5(t))},M9=function(t){return MY(M5(t))},M6={URI:ML,fromEither:O$},M8=oR(M6),M7=oA(M6),Ce=oj(M6,MJ),Ct=oP(M6,MJ),Cn=oF(M6,MJ),Cr=oE(M6),Ci=oL(M6,MJ),Co=oN(M6),Ca={URI:ML,fromIO:k7},Cu=gg(Ca),Cs=gy(Ca,MJ),Cc=gv(Ca,MJ),Cl={URI:ML,fromIO:k7,fromTask:k3},Cf=yV(Cl),Cd=yH(Cl,MJ),Cp=yZ(Cl,MJ);function Ch(t,n,r){return Cm(t,n,r)}function Cm(t,n,r){return function(i){return kL(t(i),function(t){return n(t)(i)},function(t,n){return r(t,n)(i)})}}var Cg=k2(ev),Cy=et(Mz),Cv=eK(MJ),Cb=eF(MK),Cx=k2(ey),C_=function(t){return j(g3(t),gM(kq(W)))},CS=function(t){var n=C_(t);return function(t){return eh(t)?n(t):Cx}},CT=function(t){return j(g3(t),gM(k$(W)))},Cw=function(t){var n=CT(t);return function(t){return eh(t)?n(t):Cx}},CO=function(t){return CS(function(n,r){return t(r)})},CI=CO(k),Ck=function(t){return Cw(function(n,r){return t(r)})},CM=Ck(k),CC=eL(MH),CR=ok(MZ),CE=function(t){return eL(O1)(hA(t))};function CA(t,n){return t(n)()}let Cj=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:ML,map:MS,alt:MI},ApT:Cx,ApplicativePar:{URI:ML,map:MS,ap:MT,of:k2},ApplicativeSeq:MZ,ApplyPar:MK,ApplySeq:MH,Bifunctor:{URI:ML,bimap:Mk,mapLeft:MM},Chain:MJ,Do:Cg,FromEither:M6,FromIO:Ca,FromReader:MQ,FromTask:Cl,Functor:Mz,Monad:{URI:ML,map:MS,ap:MT,chain:MO,of:k2},MonadIO:{URI:ML,map:MS,ap:MT,chain:MO,of:k2,fromIO:k7},MonadTask:{URI:ML,map:MS,ap:MT,chain:MO,of:k2,fromIO:k7,fromTask:k3},MonadThrow:{URI:ML,map:MS,ap:MT,chain:MO,of:k2,throwError:k1},Pointed:Mq,URI:ML,alt:MF,altW:MF,ap:MA,apFirst:M$,apFirstW:M$,apS:Cb,apSW:Cb,apSecond:MV,apSecondW:MV,apW:MA,ask:MX,asks:M0,asksReaderTaskEither:gS,asksReaderTaskEitherW:gS,bimap:MR,bind:Cv,bindTo:Cy,bindW:Cv,bracket:Ch,bracketW:Cm,chain:Mj,chainEitherK:Ct,chainEitherKW:Ct,chainFirst:MG,chainFirstEitherK:Cn,chainFirstEitherKW:Cn,chainFirstIOK:Cc,chainFirstReaderEitherK:M_,chainFirstReaderEitherKW:M_,chainFirstReaderK:M3,chainFirstReaderKW:M3,chainFirstReaderTaskK:M9,chainFirstReaderTaskKW:M9,chainFirstTaskEitherK:Mv,chainFirstTaskEitherKW:Mv,chainFirstTaskK:Cp,chainFirstW:MY,chainIOEitherK:Mm,chainIOEitherKW:Mm,chainIOK:Cs,chainNullableK:Mc,chainOptionK:Ce,chainReaderEitherK:Mx,chainReaderEitherKW:Mx,chainReaderK:M2,chainReaderKW:M2,chainReaderTaskK:M4,chainReaderTaskKW:M4,chainTaskEitherK:My,chainTaskEitherKW:My,chainTaskK:Cd,chainW:MN,filterOrElse:Ci,filterOrElseW:Ci,flap:MB,flatten:MP,flattenW:MP,fold:Mi,foldW:Mi,fromEither:O$,fromEitherK:Co,fromIO:k7,fromIOEither:Mt,fromIOEitherK:Mh,fromIOK:Cu,fromNullable:Mu,fromNullableK:Ms,fromOption:M8,fromOptionK:M7,fromPredicate:Cr,fromReader:k4,fromReaderEither:Mn,fromReaderEitherK:Mb,fromReaderK:M1,fromReaderTaskK:M5,fromTask:k3,fromTaskEither:M,fromTaskEitherK:Mg,fromTaskK:Cf,getAltReaderTaskValidation:MU,getApplicativeReaderTaskValidation:MW,getApplyMonoid:CR,getApplySemigroup:CC,getCompactable:MD,getFilterable:function(t){var n=hN(t),r=MD(t),i=ge(OJ,n),o=gt(OJ,n),a=gn(OJ,n),u=gr(OJ,n);return{URI:ML,_E:void 0,map:MS,compact:r.compact,separate:r.separate,filter:function(t,n){return D(t,i(n))},filterMap:function(t,n){return D(t,o(n))},partition:function(t,n){return D(t,a(n))},partitionMap:function(t,n){return D(t,u(n))}}},getOrElse:Mo,getOrElseW:Mo,getReaderTaskValidation:function(t){var n=MW(Ol,t),r=MU(t);return{URI:ML,_E:void 0,map:MS,of:k2,chain:MO,bimap:Mk,mapLeft:MM,ap:n.ap,alt:r.alt,fromIO:k7,fromTask:k3,throwError:k1}},getSemigroup:CE,left:k1,leftIO:Me,leftReader:k9,leftReaderTask:k8,leftTask:k5,local:g_,map:MC,mapLeft:ME,match:Mr,matchE:Mi,matchEW:Mi,matchW:Mr,of:k2,orElse:Ml,orElseFirst:Mf,orElseFirstW:Mf,orElseW:Ml,orLeft:Md,readerTaskEither:{URI:ML,map:MS,of:k2,ap:MT,chain:MO,alt:MI,bimap:Mk,mapLeft:MM,fromIO:k7,fromTask:k3,throwError:k1},readerTaskEitherSeq:{URI:ML,map:MS,of:k2,ap:Mw,chain:MO,alt:MI,bimap:Mk,mapLeft:MM,fromIO:k7,fromTask:k3,throwError:k1},right:k2,rightIO:k7,rightReader:k4,rightReaderTask:k6,rightTask:k3,run:CA,sequenceArray:CI,sequenceSeqArray:CM,swap:Mp,throwError:k1,toUnion:Ma,traverseArray:CO,traverseArrayWithIndex:CS,traverseReadonlyArrayWithIndex:CS,traverseReadonlyArrayWithIndexSeq:Cw,traverseReadonlyNonEmptyArrayWithIndex:C_,traverseReadonlyNonEmptyArrayWithIndexSeq:CT,traverseSeqArray:Ck,traverseSeqArrayWithIndex:Cw},Symbol.toStringTag,{value:"Module"}));var CN=function(t){return new Set(t)},CP=function(t){return new Set([t])},CF=function(t){return function(n){for(var r=n.length,i=new Set,o=C1(t),a=0;a<r;a++){var u=n[a];o(u,i)||i.add(u)}return i}};function CL(t){return function(n){for(var r,i=n.values(),o=new Set;!(r=i.next()).done;){var a=r.value;t(a)&&o.add(a)}return o}}function CD(t){var n=C1(t);return function(r,i){if(void 0===i){var o=CD(t);return function(t){return o(r,t)}}if(CG(r))return i;if(CG(i))return r;var a=new Set(r);return i.forEach(function(t){n(t,a)||a.add(t)}),a}}function CW(t){var n=C1(t);return function(r,i){if(void 0===i){var o=CW(t);return function(t){return o(t,r)}}if(CG(r)||CG(i))return CJ;var a=new Set;return r.forEach(function(t){n(t,i)&&a.add(t)}),a}}function CU(t){var n=C1(t);return function(r,i){if(void 0===i){var o=CU(t);return function(t){return o(t,r)}}return CL(function(t){return!n(t,i)})(r)}}function Cz(t){var n=C2(t);return function(t,r){return function(i){return n(i).reduce(r,t)}}}function CB(t,n){var r=C2(t);return function(t){return function(i){return r(i).reduce(function(r,i){return n.concat(r,t(i))},n.empty)}}}var Cq=function(t){var n=C2(t);return function(t,r){return function(i){return n(i).reduceRight(function(t,n){return r(n,t)},t)}}};function CK(t){var n=C1(t);return function(t){return function(r){if(n(t)(r))return r;var i=new Set(r);return i.add(t),i}}}var C$=function(t){return function(n){return function(r){return CL(function(r){return!t.equals(n,r)})(r)}}},CV=function(t){var n=C1(t),r=C$(t),i=CK(t);return function(t){return function(o){return(n(t,o)?r:i)(t)(o)}}},CH=function(t){return CZ(t)(k)};function CZ(t){var n=C1(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);"Some"!==o._tag||n(o.value,i)||i.add(o.value)}),i}}}var CJ=new Set,CG=function(t){return 0===t.size},CY=function(t){return t.size},CQ=function(t){return function(n){for(var r,i=n.values(),o=!1;!o&&!(r=i.next()).done;)o=t(r.value);return o}};function CX(t){return dT(CQ(dT(t)))}function C0(t){var n=C1(t);return function(r,i){if(void 0===i){var o=C0(t);return function(t){return o(t,r)}}return CX(function(t){return n(t,i)})(r)}}function C1(t){return function(n,r){if(void 0===r){var i=C1(t);return function(t){return i(n,t)}}for(var o,a=r.values(),u=!1;!u&&!(o=a.next()).done;)u=t.equals(n,o.value);return u}}var C2=function(t){return function(n){var r=[];return n.forEach(function(t){return r.push(t)}),r.sort(t.compare)}};function C3(t){return{show:function(n){var r=[];return n.forEach(function(n){r.push(t.show(n))}),"new Set([".concat(r.sort().join(", "),"])")}}}function C5(t){var n=C0(t);return B(function(t,r){return n(t,r)&&n(r,t)})}var C4=function(t){return{concat:CD(t)}},C9=function(t){return{concat:C4(t).concat,empty:CJ}},C6=function(t){return{concat:CW(t)}},C8=function(t){return{concat:CU(t)}};let C7=Object.freeze(Object.defineProperty({__proto__:null,URI:"ReadonlySet",chain:function(t){var n=C1(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){t(r).forEach(function(t){n(t,i)||i.add(t)})}),i}}},compact:CH,difference:CU,elem:C1,empty:CJ,every:CX,filter:CL,filterMap:CZ,foldMap:CB,fromArray:CF,fromReadonlyArray:CF,fromSet:CN,getDifferenceMagma:C8,getEq:C5,getIntersectionSemigroup:C6,getShow:C3,getUnionMonoid:C9,getUnionSemigroup:C4,insert:CK,intersection:CW,isEmpty:CG,isSubset:C0,map:function(t){var n=C1(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);n(o,i)||i.add(o)}),i}}},partition:function(t){return function(n){for(var r,i=n.values(),o=new Set,a=new Set;!(r=i.next()).done;){var u=r.value;t(u)?o.add(u):a.add(u)}return e_(a,o)}},partitionMap:function(t,n){return function(r){return function(i){for(var o,a=i.values(),u=new Set,s=new Set,c=C1(t),l=C1(n);!(o=a.next()).done;){var f=r(o.value);switch(f._tag){case"Left":c(f.left,u)||u.add(f.left);break;case"Right":l(f.right,s)||s.add(f.right)}}return e_(u,s)}}},reduce:Cz,reduceRight:Cq,remove:C$,separate:function(t,n){return function(r){var i=C1(t),o=C1(n),a=new Set,u=new Set;return r.forEach(function(t){switch(t._tag){case"Left":i(t.left,a)||a.add(t.left);break;case"Right":o(t.right,u)||u.add(t.right)}}),e_(a,u)}},singleton:CP,size:CY,some:CQ,toReadonlyArray:C2,toSet:function(t){return new Set(t)},toggle:CV,union:CD},Symbol.toStringTag,{value:"Module"}));function Re(t){return t[0]}function Rt(t){return t[1]}var Rn=function(t){var n;return[Rt(t),t[0]]};function Rr(t){return{URI:RI,_E:void 0,map:Ru,ap:function(n,r){var i,o;return[(0,n[0])(r[0]),t.concat(Rt(n),Rt(r))]}}}var Ri=function(t){return function(n){return[n,t.empty]}};function Ro(t){var n=Rr(t);return{URI:RI,_E:void 0,map:n.map,ap:n.ap,chain:function(n,r){var i,o=r(n[0]),a=o[0],u=o[1];return[a,t.concat(Rt(n),u)]}}}var Ra=function(t,n){return D(t,Rv(n))},Ru=function(t,n){return D(t,Rg(n))},Rs=function(t,n,r){return D(t,Rm(n,r))},Rc=function(t,n){return D(t,Ry(n))},Rl=function(t,n){return D(t,Rb(n))},Rf=function(t,n,r){return D(t,R_(n,r))},Rd=function(t){var n=RS();return function(t,r){return D(t,n(r))}},Rp=function(t,n,r){return D(t,RT(n,r))},Rh=function(t){var n=Rw(t);return function(t,r){return D(t,n(r))}},Rm=function(t,n){return function(r){var i;return[n(r[0]),t(Rt(r))]}},Rg=function(t){return function(n){var r;return[t(n[0]),Rt(n)]}},Ry=function(t){return function(n){var r;return[n[0],t(Rt(n))]}},Rv=function(t){return function(n){var r;return[n[0],Rt(t)]}},Rb=function(t){return function(n){return[t(n),Rt(n)]}},Rx=Rb(k),R_=function(t,n){return function(r){var i;return n(t,r[0])}},RS=function(){return function(t){return function(n){var r;return t(n[0])}}},RT=function(t,n){return function(r){var i;return n(r[0],t)}},Rw=function(t){return function(n){return function(r){var i;return t.map(n(r[0]),function(t){return[t,Rt(r)]})}}},RO=function(t){return function(n){var r;return t.map(n[0],function(t){return[t,Rt(n)]})}},RI="ReadonlyTuple",Rk={URI:RI,map:Ru},RM=ee(Rk);let RC=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:RI,bimap:Rs,mapLeft:Rc},Comonad:{URI:RI,map:Ru,extend:Rl,extract:Re},Foldable:{URI:RI,reduce:Rf,foldMap:Rd,reduceRight:Rp},Functor:Rk,Semigroupoid:{URI:RI,compose:Ra},Traversable:{URI:RI,map:Ru,reduce:Rf,foldMap:Rd,reduceRight:Rp,traverse:Rh,sequence:RO},URI:RI,bimap:Rm,compose:Rv,duplicate:Rx,extend:Rb,extract:Re,flap:RM,foldMap:RS,fst:Re,getApplicative:function(t){var n=Rr(t);return{URI:RI,_E:void 0,map:n.map,ap:n.ap,of:Ri(t)}},getApply:Rr,getChain:Ro,getChainRec:function(t){var n=function(n,r){for(var i,o,a=r(n),u=t.empty,s=(i=a)[0];"Left"===s._tag;)u=t.concat(u,Rt(a)),s=(a=r(s.left))[0];return[s.right,t.concat(u,Rt(a))]},r=Ro(t);return{URI:RI,_E:void 0,map:r.map,ap:r.ap,chain:r.chain,chainRec:n}},getMonad:function(t){var n=Ro(t);return{URI:RI,_E:void 0,map:n.map,ap:n.ap,chain:n.chain,of:Ri(t)}},map:Rg,mapFst:Rg,mapLeft:Ry,mapSnd:Ry,readonlyTuple:{URI:RI,compose:Ra,map:Ru,bimap:Rs,mapLeft:Rc,extract:Re,extend:Rl,reduce:Rf,foldMap:Rd,reduceRight:Rp,traverse:Rh,sequence:RO},reduce:R_,reduceRight:RT,sequence:RO,snd:Rt,swap:Rn,traverse:Rw},Symbol.toStringTag,{value:"Module"}));var RR=globalThis&&globalThis.__assign||function(){return(RR=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},RE=function(t){return function(n){return Object.keys(n).sort(t.compare)}},RA=RE(re);function Rj(t){if("function"==typeof t)return Rj(re)(t);var n=RE(t);return function(t){return function(r){for(var i=[],o=0,a=n(r);o<a.length;o++){var u=a[o];i.push(t(u,r[u]))}return i}}}var RN=Rj(re)(function(t,n){return[t,n]});function RP(t){return function(n){if(!eb.call(n,t))return n;var r=Object.assign({},n);return delete r[t],r}}var RF=function(t,n){return RL(t,function(){return n})},RL=function(t,n){return function(r){if(!rC(t,r))return eu;var i=Object.assign({},r);return i[t]=n(r[t]),es(i)}};function RD(t){return rB(t)}function RW(t){return rq(t)}function RU(t){return rK(t)}var Rz=function(t){var n,r=rq(t);return function(n){return function(i){return t.map(D(i,r(n)),RQ)}}},RB=function(t){var n,r=rq(t);return function(n){return function(i){return t.map(D(i,r(n)),RX)}}};function Rq(t){return rZ(t)}function RK(t){return rG(t)}function R$(t,n){return rY(t,n)}var RV=function(t){var n,r;return(n=tg(),rY(n,fj))(t)};function RH(t,n){return rQ(t,n)}var RZ=function(t){var n=r3(t);return function(t){return function(r){return rT(r)?RR({},t):rT(t)?RR({},r):n(t)(r)}}},RJ=function(t){return function(n){return function(r){return rT(r)||rT(n)?{}:r5(t)(n)(r)}}},RG=function(t){return function(n){return rT(n)?RR({},t):rT(t)?RR({},n):r4(t)(n)}},RY=function(t){return function(n){var r=RE(t);return function(t,i){var o=r(t);if(0===o.length)return n.of({});for(var a=n.of({}),u=function(r){a=n.ap(n.map(a,function(t){return function(n){return t[r]=n,t}}),i(r,t[r]))},s=0;s<o.length;s++)u(o[s]);return a}}},RQ=iw,RX=iO,R0="Record",R1={URI:R0,map:r9},R2=ee(R1),R3=function(t){return{URI:R0,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t)}},R5=function(t){return{URI:R0,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),reduceWithIndex:ia(t),foldMapWithIndex:iu(t),reduceRightWithIndex:is(t)}},R4={URI:R0,compact:RQ,separate:RX},R9=function(t){return{URI:R0,map:r9,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),traverse:ih(t),sequence:im(t)}},R6=function(t){return{URI:R0,map:r9,mapWithIndex:r6,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),reduceWithIndex:ia(t),foldMapWithIndex:iu(t),reduceRightWithIndex:is(t),traverse:ih(t),sequence:im(t),traverseWithIndex:RY(t)}},R8=function(t){var n=R9(t);return{URI:R0,map:r9,reduce:r8(t),foldMap:r7(t),reduceRight:ie(t),traverse:n.traverse,sequence:n.sequence,compact:RQ,separate:RX,filter:it,filterMap:ir,partition:ii,partitionMap:io,wither:ry(n,R4),wilt:rg(n,R4)}},R7=function(t){var n=RZ(t);return{concat:function(t,r){return n(r)(t)}}},Ee=function(t){return{concat:R7(t).concat,empty:{}}},Et=function(t){var n=RJ(t);return{concat:function(t,r){return n(r)(t)}}},En=function(){return{concat:function(t,n){return RG(n)(t)}}},Er={URI:R0,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re)},Ei={URI:R0,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),reduceWithIndex:ia(re),foldMapWithIndex:iu(re),reduceRightWithIndex:is(re)},Eo={URI:R0,map:r9,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),traverse:ih(re),sequence:RU},Ea={URI:R0,map:r9,mapWithIndex:r6,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),reduceWithIndex:ia(re),foldMapWithIndex:iu(re),reduceRightWithIndex:is(re),traverse:ih(re),sequence:RU,traverseWithIndex:RY(re)},Eu=ry(Eo,R4),Es=rg(Eo,R4),Ec={URI:R0,map:r9,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),traverse:ih(re),sequence:RU,compact:RQ,separate:RX,filter:it,filterMap:ir,partition:ii,partitionMap:io,wither:Eu,wilt:Es},El={URI:R0,map:r9,reduce:r8(re),foldMap:r7(re),reduceRight:ie(re),traverse:ih(re),sequence:RU,compact:RQ,separate:RX,filter:it,filterMap:ir,partition:ii,partitionMap:io,mapWithIndex:r6,reduceWithIndex:ia(re),foldMapWithIndex:iu(re),reduceRightWithIndex:is(re),filterMapWithIndex:id,filterWithIndex:ip,partitionMapWithIndex:ic,partitionWithIndex:il,traverseWithIndex:RY(re),wither:Eu,wilt:Es};let Ef=Object.freeze(Object.defineProperty({__proto__:null,Compactable:R4,Filterable:{URI:R0,map:r9,compact:RQ,separate:RX,filter:it,filterMap:ir,partition:ii,partitionMap:io},FilterableWithIndex:{URI:R0,map:r9,mapWithIndex:r6,compact:RQ,separate:RX,filter:it,filterMap:ir,partition:ii,partitionMap:io,filterMapWithIndex:id,filterWithIndex:ip,partitionMapWithIndex:ic,partitionWithIndex:il},Foldable:Er,FoldableWithIndex:Ei,Functor:R1,FunctorWithIndex:{URI:R0,map:r9,mapWithIndex:r6},Traversable:Eo,TraversableWithIndex:Ea,URI:R0,Witherable:Ec,collect:Rj,compact:RQ,deleteAt:RP,difference:RG,elem:r2,empty:{},every:r0,filter:iy,filterMap:iv,filterMapWithIndex:rJ,filterWithIndex:RK,flap:R2,foldMap:function(t){return"compare"in t?iS(t):iS(re)(t)},foldMapWithIndex:function(t){return"compare"in t?rW(t):rW(re)(t)},fromEntries:RV,fromFoldable:R$,fromFoldableMap:RH,getDifferenceMagma:En,getEq:iM,getFoldable:R3,getFoldableWithIndex:R5,getIntersectionSemigroup:Et,getMonoid:iC,getShow:function(t){return"compare"in t?ik(t):ik(re)(t)},getTraversable:R9,getTraversableWithIndex:R6,getUnionMonoid:Ee,getUnionSemigroup:R7,getWitherable:R8,has:rC,hasOwnProperty:iJ,insertAt:rM,intersection:RJ,isEmpty:rT,isSubrecord:rj,keys:RA,lookup:rN,map:rL,mapWithIndex:rF,modifyAt:RL,partition:ib,partitionMap:ix,partitionMapWithIndex:rH,partitionWithIndex:Rq,pop:function(t){var n=RP(t);return function(r){var i=rN(t,r);return eo(i)?eu:es([i.value,n(r)])}},record:El,reduce:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?i_(t[0]):i_(re).apply(void 0,t)},reduceRight:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?iT(t[0]):iT(re).apply(void 0,t)},reduceRightWithIndex:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?rU(t[0]):rU(re).apply(void 0,t)},reduceWithIndex:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length?rD(t[0]):rD(re).apply(void 0,t)},separate:RX,sequence:RU,singleton:rz,size:rS,some:r1,toArray:RN,toEntries:RN,toUnfoldable:function(t){return function(n){var r=RN(n),i=r.length;return t.unfold(0,function(t){return t<i?es([r[t],t+1]):eu})}},traverse:RW,traverseWithIndex:RD,union:RZ,updateAt:RF,upsertAt:rM,wilt:RB,wither:Rz},Symbol.toStringTag,{value:"Module"}));var Ed=function(t){return function(n){return ea(t(n))}},Ep=function(t){return function(n){return el(t(n))}},Eh=function(){return function(t){return!0}},Em=function(t){return function(n){return!t(n)}},Eg=function(t){return function(n){return function(r){return n(r)||t(r)}}},Ey=function(t){return function(n){return function(r){return n(r)&&t(r)}}},Ev=function(){return function(t){return!1}},Eb=function(t){return function(n){return function(r){return n(r)&&t(r)}}};let Ex=Object.freeze(Object.defineProperty({__proto__:null,and:Ey,compose:Eb,fromEitherK:Ep,fromOptionK:Ed,id:Eh,not:Em,or:Eg,zero:Ev},Symbol.toStringTag,{value:"Module"}));var E_=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{add:function(n,r){return t.map(function(t,i){return t.add(n[i],r[i])})},zero:t.map(function(t){return t.zero}),mul:function(n,r){return t.map(function(t,i){return t.mul(n[i],r[i])})},one:t.map(function(t){return t.one}),sub:function(n,r){return t.map(function(t,i){return t.sub(n[i],r[i])})}}},ES=function(t){return function(n){return t.sub(t.zero,n)}};let ET=Object.freeze(Object.defineProperty({__proto__:null,getFunctionRing:O,getTupleRing:E_,negate:ES,tuple:E_},Symbol.toStringTag,{value:"Module"})),Ew=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),EO=Object.freeze(Object.defineProperty({__proto__:null,getFunctionSemiring:w},Symbol.toStringTag,{value:"Module"}));function EI(t){return function(n){for(var r,i=n.values(),o=new Set;!(r=i.next()).done;){var a=r.value;t(a)&&o.add(a)}return o}}function Ek(t){var n=EK(t);return function(r,i){if(void 0===i){var o=Ek(t);return function(t){return o(r,t)}}if(EB(r))return i;if(EB(i))return r;var a=new Set(r);return i.forEach(function(t){n(t,a)||a.add(t)}),a}}function EM(t){var n=EK(t);return function(r,i){if(void 0===i){var o=EM(t);return function(t){return o(t,r)}}if(EB(r)||EB(i))return new Set;var a=new Set;return r.forEach(function(t){n(t,i)&&a.add(t)}),a}}function EC(t){var n=EK(t);return function(r,i){if(void 0===i){var o=EC(t);return function(t){return o(t,r)}}return EI(function(t){return!n(t,i)})(r)}}var ER=function(t){return{concat:Ek(t)}},EE=function(t){return{concat:ER(t).concat,empty:new Set}},EA=function(t){return{concat:EM(t)}},Ej=function(t){return{concat:EC(t)}},EN=function(t){return new Set([t])};function EP(t){var n=EK(t);return function(t){return function(r){if(n(t)(r))return r;var i=new Set(r);return i.add(t),i}}}var EF=function(t){return function(n){return function(r){return EI(function(r){return!t.equals(n,r)})(r)}}},EL=function(t){var n=EK(t),r=EF(t),i=EP(t);return function(t){return function(o){return(n(t,o)?r:i)(t)(o)}}},ED=function(t){return function(n){for(var r=n.length,i=new Set,o=EK(t),a=0;a<r;a++){var u=n[a];o(u,i)||i.add(u)}return i}},EW=function(t){return EU(t)(k)};function EU(t){var n=EK(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);"Some"!==o._tag||n(o.value,i)||i.add(o.value)}),i}}}var Ez=new Set,EB=function(t){return 0===t.size},Eq=function(t){return t.size},EK=C1,E$=function(t){return function(n){var r=[];return n.forEach(function(t){return r.push(t)}),r.sort(t.compare)}};let EV=Object.freeze(Object.defineProperty({__proto__:null,chain:function(t){var n=EK(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){t(r).forEach(function(t){n(t,i)||i.add(t)})}),i}}},compact:EW,difference:EC,elem:EK,empty:Ez,every:CX,filter:EI,filterMap:EU,foldMap:CB,fromArray:ED,getDifferenceMagma:Ej,getEq:C5,getIntersectionSemigroup:EA,getShow:C3,getUnionMonoid:EE,getUnionSemigroup:ER,insert:EP,intersection:EM,isEmpty:EB,isSubset:C0,map:function(t){var n=EK(t);return function(t){return function(r){var i=new Set;return r.forEach(function(r){var o=t(r);n(o,i)||i.add(o)}),i}}},partition:function(t){return function(n){for(var r,i=n.values(),o=new Set,a=new Set;!(r=i.next()).done;){var u=r.value;t(u)?o.add(u):a.add(u)}return e_(a,o)}},partitionMap:function(t,n){return function(r){return function(i){for(var o,a=i.values(),u=new Set,s=new Set,c=EK(t),l=EK(n);!(o=a.next()).done;){var f=r(o.value);switch(f._tag){case"Left":c(f.left,u)||u.add(f.left);break;case"Right":l(f.right,s)||s.add(f.right)}}return e_(u,s)}}},reduce:Cz,reduceRight:Cq,remove:EF,separate:function(t,n){return function(r){var i=EK(t),o=EK(n),a=new Set,u=new Set;return r.forEach(function(t){switch(t._tag){case"Left":i(t.left,a)||a.add(t.left);break;case"Right":o(t.right,u)||u.add(t.right)}}),e_(a,u)}},singleton:EN,size:Eq,some:CQ,subset:C0,toArray:E$,toggle:EL,union:Ek},Symbol.toStringTag,{value:"Module"}));var EH=function(t){return{show:function(n){var r="{";for(var i in t)eb.call(t,i)&&(r+=" ".concat(i,": ").concat(t[i].show(n[i]),","));return r.length>1&&(r=r.slice(0,-1)+" "),r+="}"}}},EZ=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{show:function(n){return"[".concat(n.map(function(n,r){return t[r].show(n)}).join(", "),"]")}}};let EJ=Object.freeze(Object.defineProperty({__proto__:null,getStructShow:EH,getTupleShow:EZ,showBoolean:{show:function(t){return JSON.stringify(t)}},showNumber:{show:function(t){return JSON.stringify(t)}},showString:{show:function(t){return JSON.stringify(t)}},struct:EH,tuple:EZ},Symbol.toStringTag,{value:"Module"}));function EG(t){return function(n){return function(r){return t.of([n,r])}}}function EY(t){return function(n){return function(r){return function(i){return t.map(r(i),function(t){var r=t[0],i=t[1];return[n(r),i]})}}}}function EQ(t){return function(n){return function(r){return function(i){return t.chain(r(i),function(r){var i=r[0],o=r[1];return t.map(n(o),function(t){var n=t[0],r=t[1];return[i(n),r]})})}}}}function EX(t){return function(n){return function(r){return function(i){return t.chain(r(i),function(t){var r=t[0],i=t[1];return n(r)(i)})}}}}function E0(t){return function(n){return function(r){return t.of(n(r))}}}function E1(t){return function(n){return function(r){return t.map(n,function(t){return[t,r]})}}}function E2(t){return function(n){return function(r){return t.map(r(n),function(t){return t[0]})}}}function E3(t){return function(n){return function(r){return t.map(r(n),Rt)}}}let E5=Object.freeze(Object.defineProperty({__proto__:null,ap:EQ,chain:EX,evaluate:E2,execute:E3,fromF:E1,fromState:E0,getStateM:function(t){var n=EQ(t),r=EY(t),i=EX(t),o=E2(t),a=E3(t);return{map:function(t,n){return D(t,r(n))},ap:function(t,r){return D(t,n(r))},of:EG(t),chain:function(t,n){return D(t,i(n))},get:function(){return function(n){return t.of([n,n])}},put:function(n){return function(){return t.of([void 0,n])}},modify:function(n){return function(r){return t.of([void 0,n(r)])}},gets:function(n){return function(r){return t.of([n(r),r])}},fromState:E0(t),fromM:E1(t),evalState:function(t,n){return D(t,o(n))},execState:function(t,n){return D(t,a(n))}}},map:EY,of:EG},Symbol.toStringTag,{value:"Module"}));var E4=function(t){return function(){return k1(t)}},E9=EG(Mq);function E6(t){return Au(k3(t))}function E8(t){return Au(k4(t))}function E7(t){return Au(k7(t))}var Ae=function(t){return j(t,k2)},At=function(t){return function(n){return k1(t(n)[0])}},An=me(function(t){return E4(t)},E9),Ar=E0(Mq),Ai=function(t){return Au(M(t))},Ao=function(t){return Au(Mt(t))},Aa=function(t){return Au(Mn(t))},Au=E1(Mz),As=function(t){return function(n){return j(n,g_(t))}},Ac=function(t){return function(n){return function(r){return t(r)(n)(r)}}},Al=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ao(t.apply(void 0,n))}},Af=function(t){return function(n){return D(n,Ak(Al(t)))}},Ad=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ai(t.apply(void 0,n))}},Ap=function(t){return function(n){return D(n,Ak(Ad(t)))}},Ah=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Au(t.apply(void 0,n))}},Am=function(t){return function(n){return D(n,Ak(Ah(t)))}},Ag=function(t,n){return D(t,AS(n))},Ay=function(t,n){return D(t,AO(n))},Av=function(t,n){return D(t,AI(n))},Ab=function(t,n){return function(r){return D(t(r),MF(function(){return n()(r)}))}},Ax=function(t,n,r){return function(i){return D(t(i),MR(n,function(t){var n=t[0],i=t[1];return[r(n),i]}))}},A_=function(t,n){return function(r){return D(t(r),ME(n))}},AS=EY(Mz),AT=function(t,n){return function(r){return Ax(r,t,n)}},Aw=function(t){return function(n){return A_(n,t)}},AO=EQ(MJ),AI=EX(MJ),Ak=AI,AM=Ak(k),AC=function(t){return function(n){return function(r){return D(n(r),MF(function(){return t()(r)}))}}},AR="StateReaderTaskEither",AE={URI:AR,map:Ag},AA=ee(AE),Aj={URI:AR,map:Ag,ap:Ay},AN=eN(Aj),AP=eP(Aj),AF={URI:AR,map:Ag,ap:Ay,chain:Av},AL={URI:AR,fromState:Ar},AD=yW(AL),AW=yU(AL),AU=yz(AL),Az=yB(AL),AB=yq(AL),Aq=yK(AL,AF),AK=eq(AF),A$={URI:AR,fromReader:E8},AV=ye(A$),AH=yt(A$),AZ=yn(A$),AJ=yr(A$,AF),AG=yi(A$,AF),AY={URI:AR,fromEither:An},AQ=oR(AY),AX=oA(AY),A0=oj(AY,AF),A1=oP(AY,AF),A2=oF(AY,AF),A3=oE(AY),A5=oL(AY,AF),A4=oN(AY),A9={URI:AR,fromIO:E7},A6=gg(A9),A8=gy(A9,AF),A7=gv(A9,AF),je={URI:AR,fromIO:E7,fromTask:E6},jt=yV(je),jn=yH(je,AF),jr=yZ(je,AF),ji=E2(Mz),jo=E3(Mz),ja=et(AE),ju=eK(AF),js=eF(Aj),jc=function(t){return function(n){return function(r){return function(i){return function(){return eg(n).reduce(function(n,r,o){return n.then(function(a){return ec(a)?n:t(o+1,r)(a.right[1])(i)().then(function(t){if(ec(t))return t;var n=t.right,r=n[0],i=n[1];return a.right[0].push(r),a.right[1]=i,a})})},t(0,em(n))(r)(i)().then(hD(function(t){var n;return[[t[0]],t[1]]})))}}}}},jl=function(t){var n=jc(t);return function(t){return eh(t)?n(t):E9(ey)}},jf=function(t){return jl(function(n,r){return t(r)})},jd=jf(k),jp=function(t,n){return D(t(n),MC(function(t){return t[0]}))},jh=function(t,n){return D(t(n),MC(function(t){return t[0],t[1]}))};let jm=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:AR,map:Ag,alt:Ab},Applicative:{URI:AR,map:Ag,ap:Ay,of:E9},Apply:Aj,Bifunctor:{URI:AR,bimap:Ax,mapLeft:A_},Chain:AF,FromEither:AY,FromIO:A9,FromReader:A$,FromState:AL,FromTask:je,Functor:AE,Monad:{URI:AR,map:Ag,ap:Ay,of:E9,chain:Av},MonadIO:{URI:AR,map:Ag,ap:Ay,of:E9,chain:Av,fromIO:E7},MonadTask:{URI:AR,map:Ag,ap:Ay,of:E9,chain:Av,fromIO:E7,fromTask:E6},MonadThrow:{URI:AR,map:Ag,ap:Ay,of:E9,chain:Av,throwError:E4},Pointed:{URI:AR,of:E9},URI:AR,alt:AC,altW:AC,ap:AO,apFirst:AN,apFirstW:AN,apS:js,apSW:js,apSecond:AP,apSecondW:AP,apW:AO,ask:AV,asks:AH,asksStateReaderTaskEither:Ac,asksStateReaderTaskEitherW:Ac,bimap:AT,bind:ju,bindTo:ja,bindW:ju,chain:AI,chainEitherK:A1,chainEitherKW:A1,chainFirst:AK,chainFirstEitherK:A2,chainFirstEitherKW:A2,chainFirstIOK:A7,chainFirstReaderK:AG,chainFirstReaderKW:AG,chainFirstTaskK:jr,chainFirstW:AK,chainIOEitherK:Af,chainIOEitherKW:Af,chainIOK:A8,chainOptionK:A0,chainReaderK:AJ,chainReaderKW:AJ,chainReaderTaskEitherK:Am,chainReaderTaskEitherKW:Am,chainStateK:Aq,chainTaskEitherK:Ap,chainTaskEitherKW:Ap,chainTaskK:jn,chainW:Ak,evalState:jp,evaluate:ji,execState:jh,execute:jo,filterOrElse:A5,filterOrElseW:A5,flap:AA,flatten:AM,flattenW:AM,fromEither:An,fromEitherK:A4,fromIO:E7,fromIOEither:Ao,fromIOEitherK:Al,fromIOK:A6,fromOption:AQ,fromOptionK:AX,fromPredicate:A3,fromReader:E8,fromReaderEither:Aa,fromReaderK:AZ,fromReaderTaskEither:Au,fromReaderTaskEitherK:Ah,fromState:Ar,fromStateK:AB,fromTask:E6,fromTaskEither:Ai,fromTaskEitherK:Ad,fromTaskK:jt,get:AD,gets:Az,left:E4,leftIO:function(t){return Au(Me(t))},leftReader:function(t){return Au(k9(t))},leftState:At,leftTask:function(t){return Au(k5(t))},local:As,map:AS,mapLeft:Aw,modify:AU,of:E9,put:AW,right:E9,rightIO:E7,rightReader:E8,rightState:Ae,rightTask:E6,run:function(t,n,r){return t(n)(r)()},sequenceArray:jd,stateReaderTaskEither:{URI:AR,map:Ag,of:E9,ap:Ay,chain:Av,bimap:Ax,mapLeft:A_,alt:Ab,fromIO:E7,fromTask:E6,throwError:E4},stateReaderTaskEitherSeq:{URI:AR,map:Ag,of:E9,ap:Ay,chain:Av,bimap:Ax,mapLeft:A_,alt:Ab,fromIO:E7,fromTask:E6,throwError:E4},throwError:E4,traverseArray:jf,traverseArrayWithIndex:jl,traverseReadonlyArrayWithIndex:jl,traverseReadonlyNonEmptyArrayWithIndex:jc},Symbol.toStringTag,{value:"Module"}));var jg=function(t,n){return D(t,j_(n))},jy=function(t,n){return D(t,jv(n))},jv=function(t){return function(n){return{peek:function(r){return t({peek:n.peek,pos:r})},pos:n.pos}}},jb=function(t){return t.peek(t.pos)},jx=jv(k),j_=function(t){return function(n){return{peek:function(r){return t(n.peek(r))},pos:n.pos}}},jS="Store",jT={URI:jS,map:jg},jw=ee(jT),jO={URI:jS,map:jg,extend:jy,extract:jb};let jI=Object.freeze(Object.defineProperty({__proto__:null,Comonad:jO,Functor:jT,URI:jS,duplicate:jx,experiment:function(t){return function(n){return function(r){return t.map(n(r.pos),function(t){return r.peek(t)})}}},extend:jv,extract:jb,flap:jw,map:j_,peeks:function(t){return function(n){return n.peek(t(n.pos))}},seek:function(t){return function(n){return{peek:n.peek,pos:t}}},seeks:function(t){return function(n){return{peek:n.peek,pos:t(n.pos)}}},store:jO},Symbol.toStringTag,{value:"Module"}));function jk(t,n){return function(r,i){return n.compose(t.second(i),t.first(r))}}function jM(t,n){var r=jk(t,n);return function(i,o){return n.compose(r(i,o),t.promap(n.id(),k,function(t){return[t,t]}))}}let jC=Object.freeze(Object.defineProperty({__proto__:null,fanOut:jM,fanout:function(t){return jM(t,t)},split:jk,splitStrong:function(t){return jk(t,t)}},Symbol.toStringTag,{value:"Module"}));var jR=function(){return{concat:function(t,n){return Object.assign({},t,n)}}},jE=function(t){return function(n){var r={};for(var i in n)eb.call(n,i)&&(r[i]=t[i](n[i]));return r}};let jA=Object.freeze(Object.defineProperty({__proto__:null,evolve:jE,getAssignSemigroup:jR},Symbol.toStringTag,{value:"Module"}));var jj=globalThis&&globalThis.__awaiter||function(t,n,r,i){return new(r||(r=Promise))(function(o,a){function u(t){try{c(i.next(t))}catch(n){a(n)}}function s(t){try{c(i.throw(t))}catch(n){a(n)}}function c(t){var n;t.done?o(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(u,s)}c((i=i.apply(t,n||[])).next())})},jN=globalThis&&globalThis.__generator||function(t,n){var r,i,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw TypeError("Generator is already executing.");for(;u;)try{if(r=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,i=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(t,u)}catch(s){a=[6,s],i=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},jP=xi(Oa),jF=xd(Oa),jL=xp(Oa),jD=function(t){return jW(w3(t))},jW=xa(Oi),jU=w8(dC),jz=xh(Oi),jB=xm(Op),jq=xg(Oh),jK=xu(Oa),j$=function(t){return function(){return jj(void 0,void 0,void 0,function(){return jN(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t().then(es)];case 1:return[2,n.sent()];case 2:return n.sent(),[2,eu];case 3:return[2]}})})}},jV=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return j$(function(){return t.apply(void 0,n)})}},jH=xs(Oa),jZ=xc(Oh),jJ=xl(Oa),jG=xf(Oh),jY=xy(Oi),jQ=xv(Ou),jX=xb(Oh),j0=jX(k),j1=xx(Oh),j2=xo(Oa),j3=j2(),j5=p0(Oi,pi),j4=p1(Oi,pi,dJ),j9=ge(Oi,pc),j6=gt(Oi,pc),j8=gn(Oi,pc),j7=gr(Oi,pc),Ne=function(t,n){return D(t,jY(n))},Nt=function(t,n){return D(t,jQ(n))},Nn=function(t,n){return D(t,jX(n))},Nr=function(t,n){return D(t,j1(n))},Ni=function(t,n){return D(t,j9(n))},No=function(t,n){return D(t,j6(n))},Na=function(t,n){return D(t,j8(n))},Nu=function(t,n){return D(t,j7(n))},Ns="TaskOption",Nc={URI:Ns,map:Ne},Nl=ee(Nc),Nf={URI:Ns,of:jP},Nd={URI:Ns,map:Ne,ap:Nt},Np=eN(Nd),Nh=eP(Nd),Nm=function(t,n){return D(t,jX(function(t){return D(n,jY(t))}))},Ng={URI:Ns,map:Ne,ap:Nt,chain:Nn},Ny=eq(Ng),Nv={URI:Ns,zero:j2},Nb=uv(Nv,Nf),Nx={URI:Ns,fromIO:jD},N_=gg(Nx),NS=gy(Nx,Ng),NT=gv(Nx,Ng),Nw={URI:Ns,fromEither:jL},NO=oN(Nw),NI=oP(Nw,Ng),Nk=oF(Nw,Ng),NM={URI:Ns,fromIO:jD,fromTask:jW},NC=yV(NM),NR=yH(NM,Ng),NE=yZ(NM,Ng),NA=jP(ev),Nj=et(Nc),NN=eK(Ng),NP=eF(Nd),NF=jP(ey),NL=function(t){return j(OI(t),w8(pK(W)))},ND=function(t){var n=NL(t);return function(t){return eh(t)?n(t):NF}},NW=function(t){return function(n){return function(){return eg(n).reduce(function(n,r,i){return n.then(function(o){return eo(o)?n:t(i+1,r)().then(function(t){return eo(t)?t:(o.value.push(t.value),o)})})},t(0,em(n))().then(dZ(ep)))}}},NU=function(t){var n=NW(t);return function(t){return eh(t)?n(t):NF}},Nz=function(t){return ND(function(n,r){return t(r)})},NB=Nz(k),Nq=function(t){return NU(function(n,r){return t(r)})},NK=Nq(k);let N$=Object.freeze(Object.defineProperty({__proto__:null,Alt:{URI:Ns,map:Ne,alt:Nr},Alternative:{URI:Ns,map:Ne,ap:Nt,of:jP,alt:Nr,zero:j2},ApT:NF,ApplicativePar:{URI:Ns,map:Ne,ap:Nt,of:jP},ApplicativeSeq:{URI:Ns,map:Ne,ap:Nm,of:jP},ApplyPar:Nd,ApplySeq:{URI:Ns,map:Ne,ap:Nm},Chain:Ng,Compactable:{URI:Ns,compact:j5,separate:j4},Do:NA,Filterable:{URI:Ns,map:Ne,compact:j5,separate:j4,filter:Ni,filterMap:No,partition:Na,partitionMap:Nu},FromEither:Nw,FromIO:Nx,FromTask:NM,Functor:Nc,Monad:{URI:Ns,map:Ne,ap:Nt,of:jP,chain:Nn},MonadIO:{URI:Ns,map:Ne,ap:Nt,of:jP,chain:Nn,fromIO:jD},MonadTask:{URI:Ns,map:Ne,ap:Nt,of:jP,chain:Nn,fromIO:jD,fromTask:jW},Pointed:Nf,Zero:Nv,alt:j1,altW:j1,ap:jQ,apFirst:Np,apS:NP,apSecond:Nh,bind:NN,bindTo:Nj,chain:jX,chainEitherK:NI,chainFirst:Ny,chainFirstEitherK:Nk,chainFirstIOK:NT,chainFirstTaskK:NE,chainIOK:NS,chainNullableK:jZ,chainOptionK:jG,chainTaskK:NR,compact:j5,filter:j9,filterMap:j6,flap:Nl,flatten:j0,fold:jB,foldW:jB,fromEither:jL,fromEitherK:NO,fromIO:jD,fromIOK:N_,fromNullable:jK,fromNullableK:jH,fromOption:Oe,fromOptionK:jJ,fromPredicate:jF,fromTask:jW,fromTaskEither:jU,fromTaskK:NC,getOrElse:jq,getOrElseW:jq,guard:Nb,map:jY,match:jz,matchE:jB,matchEW:jB,matchW:jz,none:j3,of:jP,partition:j8,partitionMap:j7,separate:j4,sequenceArray:NB,sequenceSeqArray:NK,some:jP,traverseArray:Nz,traverseArrayWithIndex:ND,traverseReadonlyArrayWithIndex:ND,traverseReadonlyArrayWithIndexSeq:NU,traverseReadonlyNonEmptyArrayWithIndex:NL,traverseReadonlyNonEmptyArrayWithIndexSeq:NW,traverseSeqArray:Nq,traverseSeqArrayWithIndex:NU,tryCatch:j$,tryCatchK:jV,zero:j2},Symbol.toStringTag,{value:"Module"}));var NV=function(t){return"Left"===t._tag},NH=function(t){return"Right"===t._tag};function NZ(t){return"Both"===t._tag}function NJ(t){return{_tag:"Left",left:t}}function NG(t){return{_tag:"Right",right:t}}function NY(t,n){return{_tag:"Both",left:t,right:n}}var NQ=function(t,n,r){return function(i){switch(i._tag){case"Left":return t(i.left);case"Right":return n(i.right);case"Both":return r(i.left,i.right)}}},NX=NQ(NG,NJ,function(t,n){return NY(n,t)});function N0(t,n){return{concat:function(r,i){return NV(r)?NV(i)?NJ(t.concat(r.left,i.left)):NH(i)?NY(r.left,i.right):NY(t.concat(r.left,i.left),i.right):NH(r)?NV(i)?NY(i.left,r.right):NH(i)?NG(n.concat(r.right,i.right)):NY(i.left,n.concat(r.right,i.right)):NV(i)?NY(t.concat(r.left,i.left),r.right):NH(i)?NY(r.left,n.concat(r.right,i.right)):NY(t.concat(r.left,i.left),n.concat(r.right,i.right))}}}var N1=function(t){return{URI:Pc,_E:void 0,map:N5,ap:function(n,r){return NV(n)?NV(r)?NJ(t.concat(n.left,r.left)):NH(r)?NJ(n.left):NJ(t.concat(n.left,r.left)):NH(n)?NV(r)?NJ(r.left):NH(r)?NG(n.right(r.right)):NY(r.left,n.right(r.right)):NV(r)?NJ(t.concat(n.left,r.left)):NH(r)?NY(n.left,n.right(r.right)):NY(t.concat(n.left,r.left),n.right(r.right))}}};function N2(t){var n=N1(t),r=function(n,r){if(NV(n))return n;if(NH(n))return r(n.right);var i=r(n.right);return NV(i)?NJ(t.concat(n.left,i.left)):NH(i)?NY(n.left,i.right):NY(t.concat(n.left,i.left),i.right)};return{URI:Pc,_E:void 0,map:N5,ap:n.ap,chain:r}}var N3=function(t,n){return eo(t)?eo(n)?eu:es(NG(n.value)):eo(n)?es(NJ(t.value)):es(NY(t.value,n.value))},N5=function(t,n){return D(t,Pr(n))},N4=function(t,n,r){return D(t,Pt(n,r))},N9=function(t,n){return D(t,Pn(n))},N6=function(t,n,r){return D(t,Pi(n,r))},N8=function(t){var n=Po(t);return function(t,r){return D(t,n(r))}},N7=function(t,n,r){return D(t,Pa(n,r))},Pe=function(t){var n=Pu(t);return function(t,r){return D(t,n(r))}},Pt=function(t,n){return function(r){return NV(r)?NJ(t(r.left)):NH(r)?NG(n(r.right)):NY(t(r.left),n(r.right))}},Pn=function(t){return function(n){return NV(n)?NJ(t(n.left)):NZ(n)?NY(t(n.left),n.right):n}},Pr=function(t){return function(n){return NV(n)?n:NH(n)?NG(t(n.right)):NY(n.left,t(n.right))}},Pi=function(t,n){return function(r){return NV(r)?t:n(t,r.right)}},Po=function(t){return function(n){return function(r){return NV(r)?t.empty:n(r.right)}}},Pa=function(t,n){return function(r){return NV(r)?t:n(r.right,t)}},Pu=function(t){return function(n){return function(r){return NV(r)?t.of(r):NH(r)?t.map(n(r.right),NG):t.map(n(r.right),function(t){return NY(r.left,t)})}}},Ps=function(t){return function(n){return NV(n)?t.of(n):NH(n)?t.map(n.right,NG):t.map(n.right,function(t){return NY(n.left,t)})}},Pc="These",Pl={URI:Pc,map:N5},Pf=ee(Pl),Pd={URI:Pc,fromEither:k},Pp=oR(Pd),Ph=oA(Pd),Pm=function(t){return function(n){return function(r){return!NV(r)&&t.equals(n,r.right)}}},Pg=function(t){return function(n){return!NV(n)&&t(n.right)}},Py=function(t,n){return function(r){return NV(r)?[r.left,n()]:NH(r)?[t(),r.right]:[r.left,r.right]}},Pv=function(t,n){return Py(function(){return t},function(){return n})},Pb=NG(ey),Px=function(t){return function(n){return function(r){var i=eu,o=n(0,em(r));if(NV(o))return o;NZ(o)&&(i=es(o.left));for(var a=[o.right],u=1;u<r.length;u++){var s=n(u,r[u]);if(NV(s))return s;NZ(s)&&(i=eo(i)?es(s.left):es(t.concat(i.value,s.left))),a.push(s.right)}return eo(i)?NG(a):NY(i.value,a)}}},P_=function(t){return function(n){var r=Px(t)(n);return function(t){return eh(t)?r(t):Pb}}};let PS=Object.freeze(Object.defineProperty({__proto__:null,ApT:Pb,Bifunctor:{URI:Pc,bimap:N4,mapLeft:N9},Foldable:{URI:Pc,reduce:N6,foldMap:N8,reduceRight:N7},FromEither:Pd,FromThese:{URI:Pc,fromThese:k},Functor:Pl,Pointed:{URI:Pc,of:NG},Traversable:{URI:Pc,map:N5,reduce:N6,foldMap:N8,reduceRight:N7,traverse:Pe,sequence:Ps},URI:Pc,bimap:Pt,both:NY,elem:Pm,exists:Pg,flap:Pf,fold:NQ,foldMap:Po,foldW:NQ,fromOption:Pp,fromOptionK:Ph,fromOptions:N3,getApplicative:function(t){var n=N1(t);return{URI:Pc,_E:void 0,map:N5,ap:n.ap,of:NG}},getApply:N1,getChain:N2,getEq:function(t,n){return B(function(r,i){return NV(r)?NV(i)&&t.equals(r.left,i.left):NH(r)?NH(i)&&n.equals(r.right,i.right):NZ(i)&&t.equals(r.left,i.left)&&n.equals(r.right,i.right)})},getLeft:function(t){return NV(t)?es(t.left):NH(t)?eu:es(t.left)},getLeftOnly:function(t){return NV(t)?es(t.left):eu},getMonad:function(t){var n=N2(t);return{URI:Pc,_E:void 0,map:N5,of:NG,ap:n.ap,chain:n.chain,throwError:NJ}},getRight:function(t){return NV(t)?eu:(NH(t),es(t.right))},getRightOnly:function(t){return NH(t)?es(t.right):eu},getSemigroup:N0,getShow:function(t,n){return{show:NQ(function(n){return"left(".concat(t.show(n),")")},function(t){return"right(".concat(n.show(t),")")},function(r,i){return"both(".concat(t.show(r),", ").concat(n.show(i),")")})}},isBoth:NZ,isLeft:NV,isRight:NH,left:NJ,leftOrBoth:function(t){return function(n){return eo(n)?NJ(t):NY(t,n.value)}},map:Pr,mapLeft:Pn,match:NQ,matchW:NQ,of:NG,reduce:Pi,reduceRight:Pa,right:NG,rightOrBoth:function(t){return function(n){return eo(n)?NG(t):NY(n.value,t)}},sequence:Ps,swap:NX,these:{URI:Pc,map:N5,bimap:N4,mapLeft:N9,reduce:N6,foldMap:N8,reduceRight:N7,traverse:Pe,sequence:Ps},toTuple:Pv,toTuple2:Py,traverse:Pu,traverseReadonlyArrayWithIndex:P_,traverseReadonlyNonEmptyArrayWithIndex:Px},Symbol.toStringTag,{value:"Module"}));function PT(t){return j(NG,t.of)}function Pw(t){return j(NJ,t.of)}function PO(t){return j(NY,t.of)}function PI(t){return function(n){return t.map(n,NG)}}function Pk(t){return function(n){return t.map(n,NJ)}}function PM(t){return X(t,Pl)}function PC(t,n){return ej(t,N1(n))}function PR(t,n){var r=Pw(t);return function(i){return function(o){return t.chain(o,NQ(r,i,function(r,o){return t.map(i(o),NQ(function(t){return NJ(n.concat(r,t))},function(t){return NY(r,t)},function(t,i){return NY(n.concat(r,t),i)}))}))}}}function PE(t){return function(n,r){return function(i){return t.map(i,Pt(n,r))}}}function PA(t){return function(n){return function(r){return t.map(r,Pn(n))}}}function Pj(t){return function(n,r,i){return function(o){return t.map(o,NQ(n,r,i))}}}function PN(t){return function(n,r,i){return function(o){return t.chain(o,NQ(n,r,i))}}}function PP(t){return function(n){return t.map(n,NX)}}function PF(t){return function(n,r){return function(i){return t.map(i,Py(n,r))}}}let PL=Object.freeze(Object.defineProperty({__proto__:null,ap:PC,bimap:PE,both:PO,chain:PR,getTheseM:function(t){var n=PM(t),r=PE(t),i=PA(t),o=PN(t),a=PF(t),u=PT(t),s=function(t,r){return D(t,n(r))};return{map:s,bimap:function(t,n,i){return D(t,r(n,i))},mapLeft:function(t,n){return D(t,i(n))},fold:function(t,n,r,i){return D(t,o(n,r,i))},swap:PP(t),rightM:PI(t),leftM:Pk(t),left:Pw(t),right:PT(t),both:PO(t),toTuple:function(t,n,r){return D(t,a(function(){return n},function(){return r}))},getMonad:function(n){var r=PC(t,n),i=PR(t,n);return{_E:void 0,map:s,of:u,ap:function(t,n){return D(t,r(n))},chain:function(t,n){return D(t,i(n))}}}}},left:Pw,leftF:Pk,map:PM,mapLeft:PA,match:Pj,matchE:PN,right:PT,rightF:PI,swap:PP,toTuple2:PF},Symbol.toStringTag,{value:"Module"}));var PD=Pw(Oa),PW=PT(Oa),PU=PO(Oa),Pz=PI(Oi),PB=Pk(Oi),Pq=j(w3,Pz),PK=j(w3,PB),P$=Pj(Oi),PV=PN(Oh),PH=PP(Oi),PZ=function(t,n){return D(t,PY(n))},PJ=function(t,n,r){return D(t,PQ(n,r))},PG=function(t,n){return D(t,PX(n))},PY=PM(Oi),PQ=PE(Oi),PX=PA(Oi),P0="TaskThese",P1=function(t,n){var r=PC(t,n);return{URI:P0,_E:void 0,map:PZ,ap:function(t,n){return D(t,r(n))}}};function P2(t,n){var r=P1(t,n).ap;return{URI:P0,_E:void 0,map:PZ,ap:r,of:PW}}function P3(t){var n=P1(Ol,t),r=PR(Oh,t);return{URI:P0,_E:void 0,map:PZ,ap:n.ap,chain:function(t,n){return D(t,r(n))}}}var P5={URI:P0,map:PZ},P4=ee(P5),P9={URI:P0,fromEither:Oe},P6=oR(P9),P8=oA(P9),P7=oE(P9),Fe={URI:P0,fromThese:Oe},Ft=yG(Fe),Fn={URI:P0,fromIO:Pq},Fr=gg(Fn),Fi={URI:P0,fromIO:Pq,fromTask:Pz},Fo=yV(Fi),Fa=PF(Oi),Fu=PW(ey),Fs=function(t){var n=Px(t);return function(t){return j(OI(t),w8(n(W)))}},Fc=function(t){return function(n){var r=Fs(t)(n);return function(t){return eh(t)?r(t):Fu}}},Fl=function(t){return function(n){return function(r){return function(){return eg(r).reduce(function(r,i,o){return r.then(function(a){return NV(a)?r:n(o+1,i)().then(function(n){if(NV(n))return n;if(NZ(n)){var r=a.right;return r.push(n.right),NZ(a)?NY(t.concat(a.left,n.left),r):NY(n.left,r)}return a.right.push(n.right),a})})},n(0,em(r))().then(Pr(ep)))}}}},Ff=function(t){return function(n){var r=Fl(t)(n);return function(t){return eh(t)?r(t):Fu}}},Fd=function(t,n){return Fa(function(){return t},function(){return n})},Fp=function(t,n){return eL(Of)(N0(t,n))};let Fh=Object.freeze(Object.defineProperty({__proto__:null,ApT:Fu,Bifunctor:{URI:P0,bimap:PJ,mapLeft:PG},FromEither:P9,FromIO:Fn,FromTask:Fi,FromThese:Fe,Functor:P5,Pointed:{URI:P0,of:PW},URI:P0,bifunctorTaskThese:{URI:P0,bimap:PJ,mapLeft:PG},bimap:PQ,both:PU,flap:P4,fold:PV,foldW:PV,fromEither:Oe,fromIO:Pq,fromIOEither:w3,fromIOK:Fr,fromOption:P6,fromOptionK:P8,fromPredicate:P7,fromTask:Pz,fromTaskK:Fo,fromThese:Oe,fromTheseK:Ft,functorTaskThese:{URI:P0,map:PZ},getApplicative:P2,getApply:P1,getChain:P3,getMonad:function(t){var n=P2(Ol,t),r=P3(t);return{URI:P0,_E:void 0,map:PZ,ap:n.ap,of:PW,chain:r.chain,fromIO:Pq,fromTask:Pz}},getSemigroup:Fp,left:PD,leftIO:PK,leftTask:PB,map:PY,mapLeft:PX,match:P$,matchE:PV,matchEW:PV,matchW:P$,of:PW,right:PW,rightIO:Pq,rightTask:Pz,swap:PH,taskThese:{URI:P0,map:PZ,bimap:PJ,mapLeft:PG},toTuple:Fd,toTuple2:Fa,traverseReadonlyArrayWithIndex:Fc,traverseReadonlyArrayWithIndexSeq:Ff,traverseReadonlyNonEmptyArrayWithIndex:Fs,traverseReadonlyNonEmptyArrayWithIndexSeq:Fl},Symbol.toStringTag,{value:"Module"}));var Fm=function(t,n){return D(t,Fg(n))},Fg=function(t){return function(n){return function(r){return t(n(r))}}},Fy="Traced",Fv={URI:Fy,map:Fm},Fb=ee(Fv);let Fx=Object.freeze(Object.defineProperty({__proto__:null,Functor:Fv,URI:Fy,censor:function(t){return function(n){return function(r){return n(t(r))}}},flap:Fb,getComonad:function(t){return{URI:Fy,_E:void 0,map:Fm,extend:function(n,r){return function(i){return r(function(r){return n(t.concat(i,r))})}},extract:function(n){return n(t.empty)}}},listen:function(t){return function(n){return[t(n),n]}},listens:function(t){return function(n){return function(r){return[n(r),t(r)]}}},map:Fg,traced:Fv,tracks:function(t,n){return function(r){return r(n(r(t.empty)))}}},Symbol.toStringTag,{value:"Module"}));function F_(t,n){return function(r){var i=t.traverse(r),o=n.traverse(r);return function(t){return function(n){return i(n,function(n){return o(n,t)})}}}}function FS(t,n){return function(r){var i=t.sequence(r),o=n.sequence(r);return function(n){return i(t.map(n,o))}}}let FT=Object.freeze(Object.defineProperty({__proto__:null,getTraversableComposition:function(t,n){var r=en(t,n).map,i=gl(t,n),o=F_(t,n),a=FS(t,n);return{map:r,reduce:i.reduce,foldMap:i.foldMap,reduceRight:i.reduceRight,traverse:function(t){var n=o(t);return function(t,r){return D(t,n(r))}},sequence:function(t){var n=a(t);return function(t){return D(t,n)}}}},sequence:FS,traverse:F_},Symbol.toStringTag,{value:"Module"})),Fw=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function FO(t,n){return void 0===n&&(n=[]),{value:t,forest:n}}var FI=function(t,n){for(var r,i="",o=n.length,a=0;a<o;a++){r=n[a];var u=a===o-1;i+=t+(u?"":"")+" "+r.value,i+=FI(t+(o>1&&!u?"  ":"   "),r.forest)}return i};function Fk(t){return FI(`
`,t)}function FM(t,n){var r,i=n(t);return{value:i[0],forest:FC(i[1],n)}}function FC(t,n){return t.map(function(t){return FM(t,n)})}function FR(t){var n=FE(t);return function(r,i){return t.chain(i(r),function(r){var o=r[0],a=r[1];return t.map(n(a,i),function(t){return{value:o,forest:t}})})}}function FE(t){var n=fc(t);return function(r,i){return D(r,n(function(n){return FR(t)(n,i)}))}}var FA=function(t,n){return D(t,F$(n))},Fj=function(t,n){return D(t,Fz(function(t){return D(n,F$(t))}))},FN=function(t,n){return D(t,Fz(n))},FP=function(t,n,r){return D(t,FV(n,r))},FF=function(t){var n=FH(t);return function(t,r){return D(t,n(r))}},FL=function(t,n,r){return D(t,FZ(n,r))},FD=function(t,n){return D(t,FB(n))},FW=function(t){var n=FG(t);return function(t,r){return D(t,n(r))}},FU=function(t){return function(n){return Fj(n,t)}},Fz=function(t){return function(n){var r=t(n.value),i=r.value,o=r.forest,a=fy().concat;return{value:i,forest:a(o,n.forest.map(Fz(t)))}}},FB=function(t){return function(n){return{value:t(n),forest:n.forest.map(FB(t))}}},Fq=FB(k),FK=Fz(k),F$=function(t){return function(n){return{value:t(n.value),forest:n.forest.map(F$(t))}}},FV=function(t,n){return function(r){for(var i=n(t,r.value),o=r.forest.length,a=0;a<o;a++)i=D(r.forest[a],FV(i,n));return i}},FH=function(t){return function(n){return FV(t.empty,function(r,i){return t.concat(r,n(i))})}},FZ=function(t,n){return function(r){for(var i=t,o=r.forest.length,a=o-1;a>=0;a--)i=D(r.forest[a],FZ(i,n));return n(r.value,i)}},FJ=function(t){return t.value},FG=function(t){var n=fc(t),r=function(i){return function(o){return t.ap(t.map(i(o.value),function(t){return function(n){return{value:t,forest:n}}}),D(o.forest,n(r(i))))}};return r},FY=function(t){return FG(t)(k)},FQ=function(t){return FO(t)},FX="Tree",F0={URI:FX,map:FA},F1=ee(F0),F2={URI:FX,map:FA,ap:Fj},F3=eN(F2),F5=eP(F2),F4={URI:FX,map:FA,ap:Fj,chain:FN},F9=eq(F4),F6=FQ(ev),F8=et(F0),F7=eK(F4),Le=eF(F2),Lt=function(t){return function(n){return t(n.value)||n.forest.some(Lt(t))}};let Ln=Object.freeze(Object.defineProperty({__proto__:null,Applicative:{URI:FX,map:FA,ap:Fj,of:FQ},Apply:F2,Chain:F4,Comonad:{URI:FX,map:FA,extend:FD,extract:FJ},Do:F6,Foldable:{URI:FX,reduce:FP,foldMap:FF,reduceRight:FL},Functor:F0,Monad:{URI:FX,map:FA,ap:Fj,of:FQ,chain:FN},Pointed:{URI:FX,of:FQ},Traversable:{URI:FX,map:FA,reduce:FP,foldMap:FF,reduceRight:FL,traverse:FW,sequence:FY},URI:FX,ap:FU,apFirst:F3,apS:Le,apSecond:F5,bind:F7,bindTo:F8,chain:Fz,chainFirst:F9,drawForest:Fk,drawTree:function(t){return t.value+Fk(t.forest)},duplicate:Fq,elem:function(t){var n=function(r,i){return t.equals(r,i.value)||i.forest.some(function(t){return n(r,t)})};return n},exists:Lt,extend:FB,extract:FJ,flap:F1,flatten:FK,fold:function(t){var n=function(r){return t(r.value,r.forest.map(n))};return n},foldMap:FH,getEq:function(t){var n,r=B(function(r,i){return t.equals(r.value,i.value)&&n.equals(r.forest,i.forest)});return n=co(r),r},getShow:function(t){var n=function(r){return cK(r.forest)?"make(".concat(t.show(r.value),")"):"make(".concat(t.show(r.value),", [").concat(r.forest.map(n).join(", "),"])")};return{show:n}},make:FO,map:F$,of:FQ,reduce:FV,reduceRight:FZ,sequence:FY,traverse:FG,tree:{URI:FX,map:FA,of:FQ,ap:Fj,chain:FN,reduce:FP,foldMap:FF,reduceRight:FL,traverse:FW,sequence:FY,extract:FJ,extend:FD},unfoldForest:FC,unfoldForestM:FE,unfoldTree:FM,unfoldTreeM:FR},Symbol.toStringTag,{value:"Module"}));var Lr=function(t){var n;return[Rt(t),(n=t,n[0])]};function Li(t){return{URI:Lk,_E:void 0,map:Ls,ap:function(n,r){var i,o;return[(i=n,i[0])((o=r,o[0])),t.concat(Rt(n),Rt(r))]}}}var Lo=function(t){return function(n){return[n,t.empty]}};function La(t){var n=Li(t);return{URI:Lk,_E:void 0,map:n.map,ap:n.ap,chain:function(n,r){var i,o=r((i=n,i[0])),a=o[0],u=o[1];return[a,t.concat(Rt(n),u)]}}}var Lu=function(t,n){return D(t,Lb(n))},Ls=function(t,n){return D(t,Ly(n))},Lc=function(t,n,r){return D(t,Lg(n,r))},Ll=function(t,n){return D(t,Lv(n))},Lf=function(t,n){return D(t,Lx(n))},Ld=function(t,n,r){return D(t,LT(n,r))},Lp=function(t){var n=LS();return function(t,r){return D(t,n(r))}},Lh=function(t,n,r){return D(t,Lw(n,r))};function Lm(t){var n=LO(t);return function(t,r){return D(t,n(r))}}var Lg=function(t,n){return function(r){var i;return[n((i=r,i[0])),t(Rt(r))]}},Ly=function(t){return function(n){var r;return[t((r=n,r[0])),Rt(n)]}},Lv=function(t){return function(n){var r;return[(r=n,r[0]),t(Rt(n))]}},Lb=function(t){return function(n){var r;return[(r=n,r[0]),Rt(t)]}},Lx=function(t){return function(n){return[t(n),Rt(n)]}},L_=Lx(k),LS=RS,LT=R_,Lw=RT,LO=function(t){return function(n){return function(r){var i;return t.map(n((i=r,i[0])),function(t){return[t,Rt(r)]})}}},LI=function(t){return function(n){var r;return t.map((r=n,r[0]),function(t){return[t,Rt(n)]})}},Lk="Tuple",LM={URI:Lk,map:Ls},LC=ee(LM);let LR=Object.freeze(Object.defineProperty({__proto__:null,Bifunctor:{URI:Lk,bimap:Lc,mapLeft:Ll},Comonad:{URI:Lk,map:Ls,extend:Lf,extract:Re},Foldable:{URI:Lk,reduce:Ld,foldMap:Lp,reduceRight:Lh},Functor:LM,Semigroupoid:{URI:Lk,compose:Lu},Traversable:{URI:Lk,map:Ls,reduce:Ld,foldMap:Lp,reduceRight:Lh,traverse:Lm,sequence:LI},URI:Lk,bimap:Lg,compose:Lb,duplicate:L_,extend:Lx,extract:Re,flap:LC,foldMap:LS,fst:Re,getApplicative:function(t){var n=Li(t);return{URI:Lk,_E:void 0,map:n.map,ap:n.ap,of:Lo(t)}},getApply:Li,getChain:La,getChainRec:function(t){var n=function(n,r){for(var i,o,a=r(n),u=t.empty,s=(i=a,i[0]);"Left"===s._tag;){u=t.concat(u,Rt(a)),s=(o=a=r(s.left))[0]}return[s.right,t.concat(u,Rt(a))]},r=La(t);return{URI:Lk,_E:void 0,map:r.map,ap:r.ap,chain:r.chain,chainRec:n}},getMonad:function(t){var n=La(t);return{URI:Lk,_E:void 0,map:n.map,ap:n.ap,chain:n.chain,of:Lo(t)}},map:Ly,mapFst:Ly,mapLeft:Lv,mapSnd:Lv,reduce:LT,reduceRight:Lw,sequence:LI,snd:Rt,swap:Lr,traverse:LO,tuple:{URI:Lk,compose:Lu,map:Ls,bimap:Lc,mapLeft:Ll,extract:Re,extend:Lf,reduce:Ld,foldMap:Lp,reduceRight:Lh,traverse:Lm,sequence:LI}},Symbol.toStringTag,{value:"Module"})),LE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),LA=Object.freeze(Object.defineProperty({__proto__:null,getValidationM:function(t,n){var r=oM(n,hF(t));return{map:r.map,ap:r.ap,of:r.of,chain:function(t,r){return n.chain(t,function(t){return ec(t)?n.of(ef(t.left)):r(t.right)})},alt:function(r,i){return n.chain(r,function(r){return el(r)?n.of(r):n.map(i(),function(n){return ec(n)?ef(t.concat(r.left,n.left)):n})})}}}},Symbol.toStringTag,{value:"Module"}));var Lj=tf(void 0),LN={concat:Lj.concat,empty:void 0};let LP=Object.freeze(Object.defineProperty({__proto__:null,Monoid:LN,Semigroup:Lj},Symbol.toStringTag,{value:"Module"}));var LF=function(t){return function(){return[void 0,t]}},LL=function(t){return function(){var n=t(),r=n[0],i=n[1];return[[r,i],i]}},LD=function(t){return function(){var n,r=t(),i=r[0],o=i[0];return[o,(0,i[1])(r[1])]}},LW=function(t){return function(n){return function(){var r=n(),i=r[0],o=r[1];return[[i,t(o)],o]}}},LU=function(t){return function(n){return function(){var r,i=n();return[i[0],t(i[1])]}}},Lz=function(t,n){return D(t,LB(n))},LB=function(t){return function(n){return function(){var r=n(),i=r[0],o=r[1];return[t(i),o]}}},Lq="Writer",LK=function(t){return{URI:Lq,_E:void 0,of:function(n){return function(){return[n,t.empty]}}}},L$=function(t){return{URI:Lq,_E:void 0,map:Lz,ap:function(n,r){return function(){var i=n(),o=i[0],a=i[1],u=r(),s=u[0],c=u[1];return[o(s),t.concat(a,c)]}}}},LV=function(t){var n=L$(t),r=LK(t);return{URI:Lq,_E:void 0,map:Lz,ap:n.ap,of:r.of}};function LH(t){var n=L$(t);return{URI:Lq,_E:void 0,map:Lz,ap:n.ap,chain:function(n,r){return function(){var i=n(),o=i[0],a=i[1],u=r(o)(),s=u[0],c=u[1];return[s,t.concat(a,c)]}}}}var LZ={URI:Lq,map:Lz},LJ=ee(LZ),LG=function(t){return t()[0]},LY=function(t){return t()[1]},LQ=function(t){return t()[0]},LX=function(t){return t()[1]};let L0=Object.freeze(Object.defineProperty({__proto__:null,Functor:LZ,URI:Lq,censor:LU,evalWriter:LQ,evaluate:LG,execWriter:LX,execute:LY,flap:LJ,getApplicative:LV,getApply:L$,getChain:LH,getMonad:function(t){var n=LV(t),r=LH(t);return{URI:Lq,_E:void 0,map:Lz,ap:n.ap,of:n.of,chain:r.chain}},getPointed:LK,listen:LL,listens:LW,map:LB,pass:LD,tell:LF,writer:LZ},Symbol.toStringTag,{value:"Module"})),L1=Object.freeze(Object.defineProperty({__proto__:null,getWriterM:function(t){var n=function(n,r){return function(){return t.map(n(),function(t){var n=t[0],i=t[1];return[r(n),i]})}};return{map:n,evalWriter:function(n){return t.map(n(),function(t){return t[0]})},execWriter:function(n){return t.map(n(),function(t){return t[0],t[1]})},tell:function(n){return function(){return t.of([void 0,n])}},listen:function(n){return function(){return t.map(n(),function(t){var n=t[0],r=t[1];return[[n,r],r]})}},pass:function(n){return function(){return t.map(n(),function(t){var n,r=t[0],i=r[0];return[i,(0,r[1])(t[1])]})}},listens:function(n,r){return function(){return t.map(n(),function(t){var n=t[0],i=t[1];return[[n,r(i)],i]})}},censor:function(n,r){return function(){return t.map(n(),function(t){var n;return[t[0],r(t[1])]})}},getMonad:function(r){return{_E:void 0,map:n,of:function(n){return function(){return t.of([n,r.empty])}},ap:function(n,i){return function(){return t.chain(n(),function(n){var o=n[0],a=n[1];return t.map(i(),function(t){var n=t[0],i=t[1];return[o(n),r.concat(a,i)]})})}},chain:function(n,i){return function(){return t.chain(n(),function(n){var o=n[0],a=n[1];return t.map(i(o)(),function(t){var n=t[0],i=t[1];return[n,r.concat(a,i)]})})}}}}}}},Symbol.toStringTag,{value:"Module"})),L2=Object.freeze(Object.defineProperty({__proto__:null,alt:oO,alternative:oI,applicative:oC,apply:eB,array:fJ,bifunctor:fG,boolean:f4,booleanAlgebra:f6,bounded:dt,boundedDistributiveLattice:di,boundedJoinSemilattice:da,boundedLattice:du,boundedMeetSemilattice:ds,category:dc,chain:e$,chainRec:df,choice:dh,comonad:dm,compactable:p2,console:p6,const:hf,contravariant:hd,date:hg,distributiveLattice:dr,either:mN,eitherT:m3,endomorphism:m9,eq:Q,extend:m6,field:m7,filterable:gi,filterableWithIndex:go,foldable:gf,foldableWithIndex:gm,fromEither:oD,fromIO:gb,fromReader:yo,fromState:y$,fromTask:yJ,fromThese:yY,function:z,functor:er,functorWithIndex:yX,group:y0,heytingAlgebra:y1,hkt:y2,identity:vk,invariant:vM,io:v5,ioEither:xr,ioOption:_x,ioRef:_S,joinSemilattice:_T,json:_I,lattice:_k,magma:ts,map:Th,meetSemilattice:Tm,monad:Tg,monadIO:Ty,monadTask:Tv,monadThrow:Tb,monoid:Tj,naturalTransformation:TN,nonEmptyArray:ua,number:uy,option:pX,optionT:x_,ord:tn,ordering:Tz,pipeable:TB,pointed:Tq,predicate:dI,profunctor:TK,random:TJ,reader:g7,readerEither:wG,readerT:w2,readerTask:II,readerTaskEither:Cj,readonlyArray:cq,readonlyMap:SM,readonlyNonEmptyArray:n9,readonlyRecord:iY,readonlySet:C7,readonlyTuple:RC,record:Ef,refinement:Ex,ring:ET,semigroup:tw,semigroupoid:Ew,semiring:EO,separated:eA,set:EV,show:EJ,state:yD,stateReaderTaskEither:jm,stateT:E5,store:jI,string:rm,strong:jC,struct:jA,task:OF,taskEither:k0,taskOption:N$,taskThese:Fh,these:PS,theseT:PL,traced:Fx,traversable:FT,traversableWithIndex:Fw,tree:Ln,tuple:LR,unfoldable:LE,validationT:LA,void:LP,witherable:rb,writer:L0,writerT:L1,zero:ub},Symbol.toStringTag,{value:"Module"})),L3=g(L2);var L5={},L4={},L9={},L6={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getEndomorphismMonoid=t.not=t.SK=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.unsafeCoerce=t.identity=t.apply=t.getRing=t.getSemiring=t.getMonoid=t.getSemigroup=t.getBooleanAlgebra=void 0;var n=function(t){return function(){return{meet:function(n,r){return function(i){return t.meet(n(i),r(i))}},join:function(n,r){return function(i){return t.join(n(i),r(i))}},zero:function(){return t.zero},one:function(){return t.one},implies:function(n,r){return function(i){return t.implies(n(i),r(i))}},not:function(n){return function(r){return t.not(n(r))}}}}};t.getBooleanAlgebra=n;var r=function(t){return function(){return{concat:function(n,r){return function(i){return t.concat(n(i),r(i))}}}}};t.getSemigroup=r;var i=function(n){var r=(0,t.getSemigroup)(n);return function(){return{concat:r().concat,empty:function(){return n.empty}}}};t.getMonoid=i;var o=function(t){return{add:function(n,r){return function(i){return t.add(n(i),r(i))}},zero:function(){return t.zero},mul:function(n,r){return function(i){return t.mul(n(i),r(i))}},one:function(){return t.one}}};t.getSemiring=o;var a=function(n){var r=(0,t.getSemiring)(n);return{add:r.add,mul:r.mul,one:r.one,zero:r.zero,sub:function(t,r){return function(i){return n.sub(t(i),r(i))}}}};t.getRing=a;var u=function(t){return function(n){return n(t)}};function s(t){return t}function c(t){return function(){return t}}function l(t,n,r,i,o,a,u,s,c){switch(arguments.length){case 1:return t;case 2:return function(){return n(t.apply(this,arguments))};case 3:return function(){return r(n(t.apply(this,arguments)))};case 4:return function(){return i(r(n(t.apply(this,arguments))))};case 5:return function(){return o(i(r(n(t.apply(this,arguments)))))};case 6:return function(){return a(o(i(r(n(t.apply(this,arguments))))))};case 7:return function(){return u(a(o(i(r(n(t.apply(this,arguments)))))))};case 8:return function(){return s(u(a(o(i(r(n(t.apply(this,arguments))))))))};case 9:return function(){return c(s(u(a(o(i(r(n(t.apply(this,arguments)))))))))}}}function f(t){return t+1}function d(t){return t-1}function p(t){throw Error("Called `absurd` function which should be uncallable")}t.apply=u,t.identity=s,t.unsafeCoerce=s,t.constant=c,t.constTrue=c(!0),t.constFalse=c(!1),t.constNull=c(null),t.constUndefined=c(void 0),t.constVoid=t.constUndefined,t.flip=function(t){return function(n,r){return t(r,n)}},t.flow=l,t.tuple=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},t.increment=f,t.decrement=d,t.absurd=p,t.tupled=function(t){return function(n){return t.apply(void 0,n)}},t.untupled=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(n)}},t.pipe=function(t,n,r,i,o,a,u,s,c){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return r(n(t));case 4:return i(r(n(t)));case 5:return o(i(r(n(t))));case 6:return a(o(i(r(n(t)))));case 7:return u(a(o(i(r(n(t))))));case 8:return s(u(a(o(i(r(n(t)))))));case 9:return c(s(u(a(o(i(r(n(t))))))));default:for(var l=arguments[0],f=1;f<arguments.length;f++)l=arguments[f](l);return l}},t.hole=p;var h=function(t,n){return n};t.SK=h,t.not=function(t){return function(n){return!t(n)}};var m=function(){return{concat:function(t,n){return l(t,n)},empty:s}};t.getEndomorphismMonoid=m}(L6);var L8={},L7=m&&m.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))};Object.defineProperty(L8,"__esModule",{value:!0}),L8.fromReadonlyNonEmptyArray=L8.has=L8.emptyRecord=L8.emptyReadonlyArray=L8.tail=L8.head=L8.isNonEmpty=L8.singleton=L8.right=L8.left=L8.isRight=L8.isLeft=L8.some=L8.none=L8.isSome=L8.isNone=void 0;var De=function(t){return"None"===t._tag};L8.isNone=De;var Dt=function(t){return"Some"===t._tag};L8.isSome=Dt,L8.none={_tag:"None"};var Dn=function(t){return{_tag:"Some",value:t}};L8.some=Dn;var Dr=function(t){return"Left"===t._tag};L8.isLeft=Dr;var Di=function(t){return"Right"===t._tag};L8.isRight=Di;var Do=function(t){return{_tag:"Left",left:t}};L8.left=Do;var Da=function(t){return{_tag:"Right",right:t}};L8.right=Da;var Du=function(t){return[t]};L8.singleton=Du;var Ds=function(t){return t.length>0};L8.isNonEmpty=Ds;var Dc=function(t){return t[0]};L8.head=Dc;var Dl=function(t){return t.slice(1)};L8.tail=Dl,L8.emptyReadonlyArray=[],L8.emptyRecord={},L8.has=Object.prototype.hasOwnProperty;var Df=function(t){return L7([t[0]],t.slice(1),!0)};L8.fromReadonlyNonEmptyArray=Df;var Dd=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),Dp=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Dh=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&Dd(n,t,r);return Dp(n,t),n};Object.defineProperty(L9,"__esModule",{value:!0}),L9.sequenceS=L9.sequenceT=L9.getApplySemigroup=L9.apS=L9.apSecond=L9.apFirst=L9.ap=void 0;var Dm=Dh(L8);function Dg(t,n,r){return function(i){for(var o=Array(r.length+1),a=0;a<r.length;a++)o[a]=r[a];return o[r.length]=i,0===n?t.apply(null,o):Dg(t,n-1,o)}}L9.ap=function(t,n){return function(r){return function(i){return t.ap(t.map(i,function(t){return function(r){return n.ap(t,r)}}),r)}}},L9.apFirst=function(t){return function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}}},L9.apSecond=function(t){return function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}},L9.apS=function(t){return function(n,r){return function(i){return t.ap(t.map(i,function(t){return function(r){var i;return Object.assign({},t,((i={})[n]=r,i))}}),r)}}},L9.getApplySemigroup=function(t){return function(n){return{concat:function(r,i){return t.ap(t.map(r,function(t){return function(r){return n.concat(t,r)}}),i)}}}};var Dy={1:function(t){return[t]},2:function(t){return function(n){return[t,n]}},3:function(t){return function(n){return function(r){return[t,n,r]}}},4:function(t){return function(n){return function(r){return function(i){return[t,n,r,i]}}}},5:function(t){return function(n){return function(r){return function(i){return function(o){return[t,n,r,i,o]}}}}}};function Dv(t){return Dm.has.call(Dy,t)||(Dy[t]=Dg(L6.tuple,t-1,[])),Dy[t]}function Db(t){var n=t.length;switch(n){case 1:return function(n){var r;return(r={})[t[0]]=n,r};case 2:return function(n){return function(r){var i;return(i={})[t[0]]=n,i[t[1]]=r,i}};case 3:return function(n){return function(r){return function(i){var o;return(o={})[t[0]]=n,o[t[1]]=r,o[t[2]]=i,o}}};case 4:return function(n){return function(r){return function(i){return function(o){var a;return(a={})[t[0]]=n,a[t[1]]=r,a[t[2]]=i,a[t[3]]=o,a}}}};case 5:return function(n){return function(r){return function(i){return function(o){return function(a){var u;return(u={})[t[0]]=n,u[t[1]]=r,u[t[2]]=i,u[t[3]]=o,u[t[4]]=a,u}}}}};default:return Dg(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o={},a=0;a<n;a++)o[t[a]]=r[a];return o},n-1,[])}}L9.sequenceT=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=n.length,o=Dv(i),a=t.map(n[0],o),u=1;u<i;u++)a=t.ap(a,n[u]);return a}},L9.sequenceS=function(t){return function(n){for(var r=Object.keys(n),i=r.length,o=Db(r),a=t.map(n[r[0]],o),u=1;u<i;u++)a=t.ap(a,n[r[u]]);return a}};var Dx={};function D_(t,n){return function(r){return function(i){return t.map(i,function(t){return n.map(t,r)})}}}Object.defineProperty(Dx,"__esModule",{value:!0}),Dx.getFunctorComposition=Dx.bindTo=Dx.flap=Dx.map=void 0,Dx.map=D_,Dx.flap=function(t){return function(n){return function(r){return t.map(r,function(t){return t(n)})}}},Dx.bindTo=function(t){return function(n){return function(r){return t.map(r,function(t){var r;return(r={})[n]=t,r})}}},Dx.getFunctorComposition=function(t,n){var r=D_(t,n);return{map:function(t,n){return(0,L6.pipe)(t,r(n))}}},Object.defineProperty(L4,"__esModule",{value:!0}),L4.getApplicativeComposition=L4.getApplicativeMonoid=void 0,L4.getApplicativeMonoid=function(t){var n=(0,L9.getApplySemigroup)(t);return function(r){return{concat:n(r).concat,empty:t.of(r.empty)}}},L4.getApplicativeComposition=function(t,n){var r=(0,Dx.getFunctorComposition)(t,n).map,i=(0,L9.ap)(t,n);return{map:r,of:function(r){return t.of(n.of(r))},ap:function(t,n){return(0,L6.pipe)(t,i(n))}}};var DS={};Object.defineProperty(DS,"__esModule",{value:!0}),DS.bind=DS.chainFirst=void 0,DS.chainFirst=function(t){return function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}}},DS.bind=function(t){return function(n,r){return function(i){return t.chain(i,function(i){return t.map(r(i),function(t){var r;return Object.assign({},i,((r={})[n]=t,r))})})}}};var DT={};Object.defineProperty(DT,"__esModule",{value:!0}),DT.tailRec=void 0;var Dw=function(t,n){for(var r=n(t);"Left"===r._tag;)r=n(r.left);return r.right};DT.tailRec=Dw;var DO={},DI=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),Dk=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),DM=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&DI(n,t,r);return Dk(n,t),n};Object.defineProperty(DO,"__esModule",{value:!0}),DO.filterOrElse=DO.chainFirstEitherK=DO.chainEitherK=DO.fromEitherK=DO.chainOptionK=DO.fromOptionK=DO.fromPredicate=DO.fromOption=void 0;var DC=DM(L8);function DR(t){return function(n){return function(r){return t.fromEither(DC.isNone(r)?DC.left(n()):DC.right(r.value))}}}function DE(t){var n=DR(t);return function(t){var r=n(t);return function(t){return(0,L6.flow)(t,r)}}}function DA(t){return function(n){return(0,L6.flow)(n,t.fromEither)}}DO.fromOption=DR,DO.fromPredicate=function(t){return function(n,r){return function(i){return t.fromEither(n(i)?DC.right(i):DC.left(r(i)))}}},DO.fromOptionK=DE,DO.chainOptionK=function(t,n){var r=DE(t);return function(t){var i=r(t);return function(t){return function(r){return n.chain(r,i(t))}}}},DO.fromEitherK=DA,DO.chainEitherK=function(t,n){var r=DA(t);return function(t){return function(i){return n.chain(i,r(t))}}},DO.chainFirstEitherK=function(t,n){return(0,L6.flow)(DA(t),(0,DS.chainFirst)(n))},DO.filterOrElse=function(t,n){return function(r,i){return function(o){return n.chain(o,function(n){return t.fromEither(r(n)?DC.right(n):DC.left(i(n)))})}}};var Dj,DN,DP,DF,DL,DD,DW,DU,Dz,DB,Dq={};Object.defineProperty(Dj=Dq,"__esModule",{value:!0}),Dj.right=Dj.left=Dj.flap=Dj.Functor=Dj.Bifunctor=Dj.URI=Dj.bimap=Dj.mapLeft=Dj.map=Dj.separated=void 0,DN=function(t,n){return{left:t,right:n}},Dj.separated=DN,DP=function(t,n){return(0,L6.pipe)(t,(0,Dj.map)(n))},DF=function(t,n){return(0,L6.pipe)(t,(0,Dj.mapLeft)(n))},DL=function(t,n,r){return(0,L6.pipe)(t,(0,Dj.bimap)(n,r))},DD=function(t){return function(n){return(0,Dj.separated)((0,Dj.left)(n),t((0,Dj.right)(n)))}},Dj.map=DD,DW=function(t){return function(n){return(0,Dj.separated)(t((0,Dj.left)(n)),(0,Dj.right)(n))}},Dj.mapLeft=DW,DU=function(t,n){return function(r){return(0,Dj.separated)(t((0,Dj.left)(r)),n((0,Dj.right)(r)))}},Dj.bimap=DU,Dj.URI="Separated",Dj.Bifunctor={URI:Dj.URI,mapLeft:DF,bimap:DL},Dj.Functor={URI:Dj.URI,map:DP},Dj.flap=(0,Dx.flap)(Dj.Functor),Dz=function(t){return t.left},Dj.left=Dz,DB=function(t){return t.right},Dj.right=DB;var DK={},D$=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),DV=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),DH=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&D$(n,t,r);return DV(n,t),n};Object.defineProperty(DK,"__esModule",{value:!0}),DK.filterE=DK.witherDefault=DK.wiltDefault=void 0;var DZ=DH(L8);DK.wiltDefault=function(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.separate)}}},DK.witherDefault=function(t,n){return function(r){var i=t.traverse(r);return function(t,o){return r.map(i(t,o),n.compact)}}},DK.filterE=function(t){return function(n){var r=t.wither(n);return function(t){return function(i){return r(i,function(r){return n.map(t(r),function(t){return t?DZ.some(r):DZ.none})})}}}},WD=L5,WW=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,i,o)}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),WU=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Wz=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&WW(n,t,r);return WU(n,t),n},Object.defineProperty(WD,"__esModule",{value:!0}),WD.fold=WD.match=WD.foldW=WD.matchW=WD.isRight=WD.isLeft=WD.fromOption=WD.fromPredicate=WD.FromEither=WD.MonadThrow=WD.throwError=WD.ChainRec=WD.Extend=WD.extend=WD.Alt=WD.alt=WD.altW=WD.Bifunctor=WD.mapLeft=WD.bimap=WD.Traversable=WD.sequence=WD.traverse=WD.Foldable=WD.reduceRight=WD.foldMap=WD.reduce=WD.Monad=WD.Chain=WD.chain=WD.chainW=WD.Applicative=WD.Apply=WD.ap=WD.apW=WD.Pointed=WD.of=WD.Functor=WD.map=WD.getAltValidation=WD.getApplicativeValidation=WD.getWitherable=WD.getFilterable=WD.getCompactable=WD.getSemigroup=WD.getEq=WD.getShow=WD.URI=WD.right=WD.left=void 0,WD.getValidation=WD.getValidationMonoid=WD.getValidationSemigroup=WD.getApplyMonoid=WD.getApplySemigroup=WD.either=WD.stringifyJSON=WD.parseJSON=WD.sequenceArray=WD.traverseArray=WD.traverseArrayWithIndex=WD.traverseReadonlyArrayWithIndex=WD.traverseReadonlyNonEmptyArrayWithIndex=WD.ApT=WD.apSW=WD.apS=WD.bindW=WD.bind=WD.bindTo=WD.Do=WD.exists=WD.elem=WD.toError=WD.toUnion=WD.chainNullableK=WD.fromNullableK=WD.tryCatchK=WD.tryCatch=WD.fromNullable=WD.orElse=WD.orElseW=WD.swap=WD.filterOrElseW=WD.filterOrElse=WD.chainOptionK=WD.fromOptionK=WD.duplicate=WD.flatten=WD.flattenW=WD.chainFirstW=WD.chainFirst=WD.apSecondW=WD.apSecond=WD.apFirstW=WD.apFirst=WD.flap=WD.getOrElse=WD.getOrElseW=void 0,WB=Wz(L8),WD.left=WB.left,WD.right=WB.right,Wq=function(t,n){return(0,L6.pipe)(t,(0,WD.map)(n))},WK=function(t,n){return(0,L6.pipe)(t,(0,WD.ap)(n))},W$=function(t,n){return(0,L6.pipe)(t,(0,WD.chain)(n))},WV=function(t,n,r){return(0,L6.pipe)(t,(0,WD.reduce)(n,r))},WH=function(t){return function(n,r){var i=(0,WD.foldMap)(t);return(0,L6.pipe)(n,i(r))}},WZ=function(t,n,r){return(0,L6.pipe)(t,(0,WD.reduceRight)(n,r))},WJ=function(t){var n=(0,WD.traverse)(t);return function(t,r){return(0,L6.pipe)(t,n(r))}},WG=function(t,n,r){return(0,L6.pipe)(t,(0,WD.bimap)(n,r))},WY=function(t,n){return(0,L6.pipe)(t,(0,WD.mapLeft)(n))},WQ=function(t,n){return(0,L6.pipe)(t,(0,WD.alt)(n))},WX=function(t,n){return(0,L6.pipe)(t,(0,WD.extend)(n))},W0=function(t,n){return(0,DT.tailRec)(n(t),function(t){return(0,WD.isLeft)(t)?(0,WD.right)((0,WD.left)(t.left)):(0,WD.isLeft)(t.right)?(0,WD.left)(n(t.right.left)):(0,WD.right)((0,WD.right)(t.right.right))})},WD.URI="Either",W1=function(t,n){return{show:function(r){return(0,WD.isLeft)(r)?"left(".concat(t.show(r.left),")"):"right(".concat(n.show(r.right),")")}}},WD.getShow=W1,W2=function(t,n){return{equals:function(r,i){return r===i||((0,WD.isLeft)(r)?(0,WD.isLeft)(i)&&t.equals(r.left,i.left):(0,WD.isRight)(i)&&n.equals(r.right,i.right))}}},WD.getEq=W2,W3=function(t){return{concat:function(n,r){return(0,WD.isLeft)(r)?n:(0,WD.isLeft)(n)?r:(0,WD.right)(t.concat(n.right,r.right))}}},WD.getSemigroup=W3,W5=function(t){var n=(0,WD.left)(t.empty);return{URI:WD.URI,_E:void 0,compact:function(t){return(0,WD.isLeft)(t)?t:"None"===t.right._tag?n:(0,WD.right)(t.right.value)},separate:function(t){return(0,WD.isLeft)(t)?(0,Dq.separated)(t,t):(0,WD.isLeft)(t.right)?(0,Dq.separated)((0,WD.right)(t.right.left),n):(0,Dq.separated)(n,(0,WD.right)(t.right.right))}}},WD.getCompactable=W5,W4=function(t){var n=(0,WD.left)(t.empty),r=(0,WD.getCompactable)(t),i=r.compact,o=r.separate,a=function(t,r){return(0,WD.isLeft)(t)||r(t.right)?t:n},u=function(t,r){return(0,WD.isLeft)(t)?(0,Dq.separated)(t,t):r(t.right)?(0,Dq.separated)(n,(0,WD.right)(t.right)):(0,Dq.separated)((0,WD.right)(t.right),n)};return{URI:WD.URI,_E:void 0,map:Wq,compact:i,separate:o,filter:a,filterMap:function(t,r){if((0,WD.isLeft)(t))return t;var i=r(t.right);return"None"===i._tag?n:(0,WD.right)(i.value)},partition:u,partitionMap:function(t,r){if((0,WD.isLeft)(t))return(0,Dq.separated)(t,t);var i=r(t.right);return(0,WD.isLeft)(i)?(0,Dq.separated)((0,WD.right)(i.left),n):(0,Dq.separated)(n,(0,WD.right)(i.right))}}},WD.getFilterable=W4,W9=function(t){var n=(0,WD.getFilterable)(t),r=(0,WD.getCompactable)(t);return{URI:WD.URI,_E:void 0,map:Wq,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:WJ,sequence:WD.sequence,reduce:WV,foldMap:WH,reduceRight:WZ,wither:(0,DK.witherDefault)(WD.Traversable,r),wilt:(0,DK.wiltDefault)(WD.Traversable,r)}},WD.getWitherable=W9,W6=function(t){return{URI:WD.URI,_E:void 0,map:Wq,ap:function(n,r){return(0,WD.isLeft)(n)?(0,WD.isLeft)(r)?(0,WD.left)(t.concat(n.left,r.left)):n:(0,WD.isLeft)(r)?r:(0,WD.right)(n.right(r.right))},of:WD.of}},WD.getApplicativeValidation=W6,W8=function(t){return{URI:WD.URI,_E:void 0,map:Wq,alt:function(n,r){if((0,WD.isRight)(n))return n;var i=r();return(0,WD.isLeft)(i)?(0,WD.left)(t.concat(n.left,i.left)):i}}},WD.getAltValidation=W8,W7=function(t){return function(n){return(0,WD.isLeft)(n)?n:(0,WD.right)(t(n.right))}},WD.map=W7,WD.Functor={URI:WD.URI,map:Wq},WD.of=WD.right,WD.Pointed={URI:WD.URI,of:WD.of},Ue=function(t){return function(n){return(0,WD.isLeft)(n)?n:(0,WD.isLeft)(t)?t:(0,WD.right)(n.right(t.right))}},WD.apW=Ue,WD.ap=WD.apW,WD.Apply={URI:WD.URI,map:Wq,ap:WK},WD.Applicative={URI:WD.URI,map:Wq,ap:WK,of:WD.of},Ut=function(t){return function(n){return(0,WD.isLeft)(n)?n:t(n.right)}},WD.chainW=Ut,WD.chain=WD.chainW,WD.Chain={URI:WD.URI,map:Wq,ap:WK,chain:W$},WD.Monad={URI:WD.URI,map:Wq,ap:WK,of:WD.of,chain:W$},Un=function(t,n){return function(r){return(0,WD.isLeft)(r)?t:n(t,r.right)}},WD.reduce=Un,Ur=function(t){return function(n){return function(r){return(0,WD.isLeft)(r)?t.empty:n(r.right)}}},WD.foldMap=Ur,Ui=function(t,n){return function(r){return(0,WD.isLeft)(r)?t:n(r.right,t)}},WD.reduceRight=Ui,WD.Foldable={URI:WD.URI,reduce:WV,foldMap:WH,reduceRight:WZ},Uo=function(t){return function(n){return function(r){return(0,WD.isLeft)(r)?t.of((0,WD.left)(r.left)):t.map(n(r.right),WD.right)}}},WD.traverse=Uo,Ua=function(t){return function(n){return(0,WD.isLeft)(n)?t.of((0,WD.left)(n.left)):t.map(n.right,WD.right)}},WD.sequence=Ua,WD.Traversable={URI:WD.URI,map:Wq,reduce:WV,foldMap:WH,reduceRight:WZ,traverse:WJ,sequence:WD.sequence},Uu=function(t,n){return function(r){return(0,WD.isLeft)(r)?(0,WD.left)(t(r.left)):(0,WD.right)(n(r.right))}},WD.bimap=Uu,Us=function(t){return function(n){return(0,WD.isLeft)(n)?(0,WD.left)(t(n.left)):n}},WD.mapLeft=Us,WD.Bifunctor={URI:WD.URI,bimap:WG,mapLeft:WY},Uc=function(t){return function(n){return(0,WD.isLeft)(n)?t():n}},WD.altW=Uc,WD.alt=WD.altW,WD.Alt={URI:WD.URI,map:Wq,alt:WQ},Ul=function(t){return function(n){return(0,WD.isLeft)(n)?n:(0,WD.right)(t(n))}},WD.extend=Ul,WD.Extend={URI:WD.URI,map:Wq,extend:WX},WD.ChainRec={URI:WD.URI,map:Wq,ap:WK,chain:W$,chainRec:W0},WD.throwError=WD.left,WD.MonadThrow={URI:WD.URI,map:Wq,ap:WK,of:WD.of,chain:W$,throwError:WD.throwError},WD.FromEither={URI:WD.URI,fromEither:L6.identity},WD.fromPredicate=(0,DO.fromPredicate)(WD.FromEither),WD.fromOption=(0,DO.fromOption)(WD.FromEither),WD.isLeft=WB.isLeft,WD.isRight=WB.isRight,Uf=function(t,n){return function(r){return(0,WD.isLeft)(r)?t(r.left):n(r.right)}},WD.matchW=Uf,WD.foldW=WD.matchW,WD.match=WD.matchW,WD.fold=WD.match,Ud=function(t){return function(n){return(0,WD.isLeft)(n)?t(n.left):n.right}},WD.getOrElseW=Ud,WD.getOrElse=WD.getOrElseW,WD.flap=(0,Dx.flap)(WD.Functor),WD.apFirst=(0,L9.apFirst)(WD.Apply),WD.apFirstW=WD.apFirst,WD.apSecond=(0,L9.apSecond)(WD.Apply),WD.apSecondW=WD.apSecond,WD.chainFirst=(0,DS.chainFirst)(WD.Chain),WD.chainFirstW=WD.chainFirst,WD.flattenW=(0,WD.chainW)(L6.identity),WD.flatten=WD.flattenW,WD.duplicate=(0,WD.extend)(L6.identity),WD.fromOptionK=(0,DO.fromOptionK)(WD.FromEither),WD.chainOptionK=(0,DO.chainOptionK)(WD.FromEither,WD.Chain),WD.filterOrElse=(0,DO.filterOrElse)(WD.FromEither,WD.Chain),WD.filterOrElseW=WD.filterOrElse,Up=function(t){return(0,WD.isLeft)(t)?(0,WD.right)(t.left):(0,WD.left)(t.right)},WD.swap=Up,Uh=function(t){return function(n){return(0,WD.isLeft)(n)?t(n.left):n}},WD.orElseW=Uh,WD.orElse=WD.orElseW,Um=function(t){return function(n){return null==n?(0,WD.left)(t):(0,WD.right)(n)}},WD.fromNullable=Um,Ug=function(t,n){try{return(0,WD.right)(t())}catch(r){return(0,WD.left)(n(r))}},WD.tryCatch=Ug,Uy=function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return(0,WD.tryCatch)(function(){return t.apply(void 0,r)},n)}},WD.tryCatchK=Uy,Uv=function(t){var n=(0,WD.fromNullable)(t);return function(t){return(0,L6.flow)(t,n)}},WD.fromNullableK=Uv,Ub=function(t){var n=(0,WD.fromNullableK)(t);return function(t){return(0,WD.chain)(n(t))}},WD.chainNullableK=Ub,WD.toUnion=(0,WD.foldW)(L6.identity,L6.identity),WD.toError=function(t){return t instanceof Error?t:Error(String(t))},WD.elem=function t(n){return function(r,i){if(void 0===i){var o=t(n);return function(t){return o(r,t)}}return!(0,WD.isLeft)(i)&&n.equals(r,i.right)}},Ux=function(t){return function(n){return!(0,WD.isLeft)(n)&&t(n.right)}},WD.exists=Ux,WD.Do=(0,WD.of)(WB.emptyRecord),WD.bindTo=(0,Dx.bindTo)(WD.Functor),WD.bind=(0,DS.bind)(WD.Chain),WD.bindW=WD.bind,WD.apS=(0,L9.apS)(WD.Apply),WD.apSW=WD.apS,WD.ApT=(0,WD.of)(WB.emptyReadonlyArray),U_=function(t){return function(n){var r=t(0,WB.head(n));if((0,WD.isLeft)(r))return r;for(var i=[r.right],o=1;o<n.length;o++){var a=t(o,n[o]);if((0,WD.isLeft)(a))return a;i.push(a.right)}return(0,WD.right)(i)}},WD.traverseReadonlyNonEmptyArrayWithIndex=U_,US=function(t){var n=(0,WD.traverseReadonlyNonEmptyArrayWithIndex)(t);return function(t){return WB.isNonEmpty(t)?n(t):WD.ApT}},WD.traverseReadonlyArrayWithIndex=US,WD.traverseArrayWithIndex=WD.traverseReadonlyArrayWithIndex,UT=function(t){return(0,WD.traverseReadonlyArrayWithIndex)(function(n,r){return t(r)})},WD.traverseArray=UT,WD.sequenceArray=(0,WD.traverseArray)(L6.identity),WD.parseJSON=function(t,n){return(0,WD.tryCatch)(function(){return JSON.parse(t)},n)},Uw=function(t,n){return(0,WD.tryCatch)(function(){var n=JSON.stringify(t);if("string"!=typeof n)throw Error("Converting unsupported structure to JSON");return n},n)},WD.stringifyJSON=Uw,WD.either={URI:WD.URI,map:Wq,of:WD.of,ap:WK,chain:W$,reduce:WV,foldMap:WH,reduceRight:WZ,traverse:WJ,sequence:WD.sequence,bimap:WG,mapLeft:WY,alt:WQ,extend:WX,chainRec:W0,throwError:WD.throwError},WD.getApplySemigroup=(0,L9.getApplySemigroup)(WD.Apply),WD.getApplyMonoid=(0,L4.getApplicativeMonoid)(WD.Applicative),UO=function(t,n){return(0,L9.getApplySemigroup)((0,WD.getApplicativeValidation)(t))(n)},WD.getValidationSemigroup=UO,UI=function(t,n){return(0,L4.getApplicativeMonoid)((0,WD.getApplicativeValidation)(t))(n)},WD.getValidationMonoid=UI,WD.getValidation=function(t){var n=(0,WD.getApplicativeValidation)(t).ap,r=(0,WD.getAltValidation)(t).alt;return{URI:WD.URI,_E:void 0,map:Wq,of:WD.of,chain:W$,bimap:WG,mapLeft:WY,reduce:WV,foldMap:WH,reduceRight:WZ,extend:WX,traverse:WJ,sequence:WD.sequence,chainRec:W0,throwError:WD.throwError,ap:n,alt:r}};var DJ=globalThis&&globalThis.__extends||(Uk=function(t,n){return(Uk=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}Uk(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),DG=globalThis&&globalThis.__assign||function(){return(DG=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},DY=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},DQ=function(t,n,r){return ef([{value:t,context:n,message:r}])},DX=function(){function t(t,n,r,i){this.name=t,this.is=n,this.validate=r,this.encode=i,this.decode=this.decode.bind(this)}return t.prototype.pipe=function(n,r){var i=this;return void 0===r&&(r="pipe(".concat(this.name,", ").concat(n.name,")")),new t(r,n.is,function(t,r){var o=i.validate(t,r);return h8(o)?o:n.validate(o.right,r)},this.encode===D0&&n.encode===D0?D0:function(t){return i.encode(n.encode(t))})},t.prototype.asDecoder=function(){return this},t.prototype.asEncoder=function(){return this},t.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},t}(),D0=function(t){return t};function D1(t){return t.displayName||t.name||"<function".concat(t.length,">")}function D2(t,n,r,i){for(var o=t.length,a=Array(o+1),u=0;u<o;u++)a[u]=t[u];return a[o]={key:n,type:r,actual:i},a}function D3(t,n){for(var r=n.length,i=0;i<r;i++)t.push(n[i])}var D5=Object.prototype.hasOwnProperty;function D4(t){return Object.keys(t).map(function(n){return"".concat(n,": ").concat(t[n].name)}).join(", ")}function D9(t){for(var n=0;n<t.length;n++)if(t[n].encode!==D0)return!1;return!0}function D6(t){return"{ ".concat(D4(t)," }")}function D8(t){return"Partial<".concat(t,">")}function D7(t){if(Wu(t)){var n,r,i=t.value;if(WS.is(i))return(n={})[i]=null,n}else{if(r=t,"KeyofType"===r._tag)return t.keys;if(Wc(t)){var o=t.types.map(function(t){return D7(t)});return o.some(Wg.is)?void 0:Object.assign.apply(Object,DY([{}],o,!1))}}}function We(t){return"("+t.map(function(t){return t.name}).join(" | ")+")"}function Wt(t,n){for(var r=!0,i=!0,o=!WA.is(t),a=0;a<n.length;a++){var u=n[a];u!==t&&(r=!1),WA.is(u)&&(i=!1)}if(r)return t;if(i)return n[n.length-1];for(var s={},c=0;c<n.length;c++){var u=n[c];for(var l in u)(!D5.call(s,l)||o||u[l]!==t[l])&&(s[l]=u[l])}return s}function Wn(t,n){for(var r=Object.getOwnPropertyNames(t),i=!1,o={},a=0;a<r.length;a++){var u=r[a];D5.call(n,u)?o[u]=t[u]:i=!0}return i?o:t}function Wr(t){return t.length>0}var Wi={};function Wo(t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];-1!==n.indexOf(o)&&r.push(o)}return r}function Wa(t){return"AnyType"===t._tag}function Wu(t){return"LiteralType"===t._tag}function Ws(t){return"InterfaceType"===t._tag}function Wc(t){return"UnionType"===t._tag}var Wl=[];function Wf(t){if(-1!==Wl.indexOf(t))return Wi;if(Ws(t)||"StrictType"===(n=t)._tag){var n,r,i,o,a,u=Wi;for(var s in t.props){var c=t.props[s];Wu(c)&&(u===Wi&&(u={}),u[s]=[c.value])}return u}if("ExactType"===t._tag||"RefinementType"===t._tag)return Wf(t.type);if("IntersectionType"===t._tag)return t.types.reduce(function(t,n){return function(t,n){if(t===Wi)return n;if(n===Wi)return t;var r=Object.assign({},t);for(var i in n)if(D5.call(t,i)){var o=Wo(t[i],n[i]);if(Wr(o))r[i]=o;else{r=Wi;break}}else r[i]=n[i];return r}(t,Wf(n))},Wi);if(Wc(t))return t.types.slice(1).reduce(function(t,n){return function(t,n){if(t===Wi||n===Wi)return Wi;var r=Wi;for(var i in t)D5.call(n,i)&&0===Wo(t[i],n[i]).length&&(r===Wi&&(r={}),r[i]=t[i].concat(n[i]));return r}(t,Wf(n))},Wf(t.types[0]));if("RecursiveType"===t._tag){Wl.push(t);var l=Wf(t.type);return Wl.pop(),l}return Wi}function Wd(t){var n=Wf(t[0]),r=Object.keys(n),i=t.length;e:for(var o=0;o<r.length;o++){var a=function(r){for(var o=n[r].slice(),a=[n[r]],u=1;u<i;u++){var s=Wf(t[u])[r];if(void 0===s||s.some(function(t){return -1!==o.indexOf(t)}))return"continue-keys";o.push.apply(o,s),a.push(s)}return{value:[r,a]}}(r[o]);if("object"==typeof a)return a.value;if("continue-keys"===a)continue e}}var Wp=function(t){function n(){var n=t.call(this,"null",function(t){return null===t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="NullType",n}return DJ(n,t),n}(DX),Wh=new Wp,Wm=function(t){function n(){var n=t.call(this,"undefined",function(t){return void 0===t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="UndefinedType",n}return DJ(n,t),n}(DX),Wg=new Wm,Wy=function(t){function n(){var n=t.call(this,"void",Wg.is,Wg.validate,D0)||this;return n._tag="VoidType",n}return DJ(n,t),n}(DX),Wv=new Wy,Wb=function(t){function n(){var n=t.call(this,"unknown",function(t){return!0},ed,D0)||this;return n._tag="UnknownType",n}return DJ(n,t),n}(DX),Wx=new Wb,W_=function(t){function n(){var n=t.call(this,"string",function(t){return"string"==typeof t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="StringType",n}return DJ(n,t),n}(DX),WS=new W_,WT=function(t){function n(){var n=t.call(this,"number",function(t){return"number"==typeof t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="NumberType",n}return DJ(n,t),n}(DX),Ww=new WT,WO=function(t){function n(){var n=t.call(this,"bigint",function(t){return"bigint"==typeof t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="BigIntType",n}return DJ(n,t),n}(DX),WI=new WO,Wk=function(t){function n(){var n=t.call(this,"boolean",function(t){return"boolean"==typeof t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="BooleanType",n}return DJ(n,t),n}(DX),WM=new Wk,WC=function(t){function n(){var n=t.call(this,"UnknownArray",Array.isArray,function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="AnyArrayType",n}return DJ(n,t),n}(DX),WR=new WC,WE=function(t){function n(){var n=t.call(this,"UnknownRecord",function(t){var n=Object.prototype.toString.call(t);return"[object Object]"===n||"[object Window]"===n},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="AnyDictionaryType",n}return DJ(n,t),n}(DX),WA=new WE,Wj=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.value=a,u._tag="LiteralType",u}return DJ(n,t),n}(DX);function WN(t,n){void 0===n&&(n=JSON.stringify(t));var r=function(n){return n===t};return new Wj(n,r,function(n,i){return r(n)?ed(t):DQ(n,i)},D0,t)}var WP=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.keys=a,u._tag="KeyofType",u}return DJ(n,t),n}(DX),WF=function(t){function n(n,r,i,o,a,u){var s=t.call(this,n,r,i,o)||this;return s.type=a,s.predicate=u,s._tag="RefinementType",s}return DJ(n,t),n}(DX);function WL(t,n,r){return U8(t,n,r)}var WD,WW,WU,Wz,WB,Wq,WK,W$,WV,WH,WZ,WJ,WG,WY,WQ,WX,W0,W1,W2,W3,W5,W4,W9,W6,W8,W7,Ue,Ut,Un,Ur,Ui,Uo,Ua,Uu,Us,Uc,Ul,Uf,Ud,Up,Uh,Um,Ug,Uy,Uv,Ub,Ux,U_,US,UT,Uw,UO,UI,Uk,UM,UC,UR=U8(Ww,UC=function(t){return Number.isInteger(t)},"Int"),UE=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.runDefinition=a,u._tag="RecursiveType",u}return DJ(n,t),n}(DX);function UA(t,n){var r,i=function(){return r||((r=n(o)).name=t),r},o=new UE(t,function(t){return i().is(t)},function(t,n){return i().validate(t,n)},function(t){return i().encode(t)},i);return o}Object.defineProperty(UE.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var Uj=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ArrayType",u}return DJ(n,t),n}(DX);function UN(t,n){return void 0===n&&(n="Array<".concat(t.name,">")),new Uj(n,function(n){return WR.is(n)&&n.every(t.is)},function(n,r){var i=WR.validate(n,r);if(h8(i))return i;for(var o=i.right,a=o.length,u=o,s=[],c=0;c<a;c++){var l=o[c],f=t.validate(l,D2(r,String(c),t,l));if(h8(f))D3(s,f.left);else{var d=f.right;d!==l&&(u===o&&(u=o.slice()),u[c]=d)}}return s.length>0?ef(s):ed(u)},t.encode===D0?D0:function(n){return n.map(t.encode)},t)}var UP=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.props=a,u._tag="InterfaceType",u}return DJ(n,t),n}(DX);function UF(t,n){void 0===n&&(n=D6(t));var r=Object.keys(t),i=r.map(function(n){return t[n]}),o=r.length;return new UP(n,function(t){if(WA.is(t)){for(var n=0;n<o;n++){var a=r[n],u=t[a];if(void 0===u&&!D5.call(t,a)||!i[n].is(u))return!1}return!0}return!1},function(t,n){var a=WA.validate(t,n);if(h8(a))return a;for(var u=a.right,s=u,c=[],l=0;l<o;l++){var f=r[l],d=s[f],p=i[l],h=p.validate(d,D2(n,f,p,d));if(h8(h))D3(c,h.left);else{var m=h.right;m===d&&(void 0!==m||D5.call(s,f))||(s===u&&(s=DG({},u)),s[f]=m)}}return c.length>0?ef(c):ed(s)},D9(i)?D0:function(t){for(var n=DG({},t),a=0;a<o;a++){var u=r[a],s=i[a].encode;s!==D0&&(n[u]=s(t[u]))}return n},t)}var UL=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.props=a,u._tag="PartialType",u}return DJ(n,t),n}(DX),UD=function(t){function n(n,r,i,o,a,u){var s=t.call(this,n,r,i,o)||this;return s.domain=a,s.codomain=u,s._tag="DictionaryType",s}return DJ(n,t),n}(DX);function UW(t,n,r){var i,o,a,u,s,c,l,f,d=D7(t);return d?(i=Object.keys(d),void 0===(u=r)&&(u="{ [K in ".concat(t.name,"]: ").concat(n.name," }")),s=i.length,new UD(u,function(t){return WA.is(t)&&i.every(function(r){return n.is(t[r])})},function(t,r){var o=WA.validate(t,r);if(h8(o))return o;for(var a=o.right,u={},c=[],l=!1,f=0;f<s;f++){var d=i[f],p=a[d],h=n.validate(p,D2(r,d,n,p));if(h8(h))D3(c,h.left);else{var m=h.right;l=l||m!==p,u[d]=m}}return c.length>0?ef(c):ed(l||Object.keys(a).length!==s?u:a)},n.encode===D0?D0:function(t){for(var r={},o=0;o<s;o++){var a=i[o];r[a]=n.encode(t[a])}return r},t,n)):(c=t,void 0===(f=r)&&(f="{ [K in ".concat(c.name,"]: ").concat(n.name," }")),new UD(f,function(t){return WA.is(t)?Object.keys(t).every(function(r){return c.is(r)&&n.is(t[r])}):Wa(n)&&Array.isArray(t)},function(t,r){if(WA.is(t)){for(var i={},o=[],a=Object.keys(t),u=a.length,s=!1,l=0;l<u;l++){var f=a[l],d=t[f],p=c.validate(f,D2(r,f,c,f));if(h8(p))D3(o,p.left);else{var h=p.right;s=s||h!==f,f=h;var m=n.validate(d,D2(r,f,n,d));if(h8(m))D3(o,m.left);else{var g=m.right;s=s||g!==d,i[f]=g}}}return o.length>0?ef(o):ed(s?i:t)}return Wa(n)&&Array.isArray(t)?ed(t):DQ(t,r)},c.encode===D0&&n.encode===D0?D0:function(t){for(var r={},i=Object.keys(t),o=i.length,a=0;a<o;a++){var u=i[a];r[String(c.encode(u))]=n.encode(t[u])}return r},c,n))}var UU=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.types=a,u._tag="UnionType",u}return DJ(n,t),n}(DX);function Uz(t,n){void 0===n&&(n=We(t));var r=Wd(t);if(void 0===r||!(t.length>0))return new UU(n,function(n){return t.some(function(t){return t.is(n)})},function(n,r){for(var i=[],o=0;o<t.length;o++){var a=t[o],u=a.validate(n,D2(r,String(o),a,n));if(!h8(u))return ed(u.right);D3(i,u.left)}return ef(i)},D9(t)?D0:function(r){for(var i=0;i<t.length;i++){var o=t[i];if(o.is(r))return o.encode(r)}throw Error("no codec found to encode value in union type ".concat(n))},t);var i=r[0],o=r[1],a=o.length,u=function(t){for(var n=0;n<a;n++)if(-1!==o[n].indexOf(t))return n};return new UQ(n,function(n){if(WA.is(n)){var r=u(n[i]);return void 0!==r&&t[r].is(n)}return!1},function(n,r){var o=WA.validate(n,r);if(h8(o))return o;var a=o.right,s=u(a[i]);if(void 0===s)return DQ(n,r);var c=t[s];return c.validate(a,D2(r,String(s),c,a))},D9(t)?D0:function(r){var o=u(r[i]);if(void 0===o)throw Error("no codec found to encode value in union codec ".concat(n));return t[o].encode(r)},t,i)}var UB=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.types=a,u._tag="IntersectionType",u}return DJ(n,t),n}(DX),Uq=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.types=a,u._tag="TupleType",u}return DJ(n,t),n}(DX),UK=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ReadonlyType",u}return DJ(n,t),n}(DX),U$=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ReadonlyArrayType",u}return DJ(n,t),n}(DX);function UV(t,n){void 0===n&&(n="ReadonlyArray<".concat(t.name,">"));var r=UN(t);return new U$(n,r.is,r.validate,r.encode,t)}var UH=function(t,n){return UJ(UF(t),n)},UZ=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.type=a,u._tag="ExactType",u}return DJ(n,t),n}(DX);function UJ(t,n){void 0===n&&(n=Ws(i=t)?"{| ".concat(D4(i.props)," |}"):(r=i,"PartialType"===r._tag)?D8("{| ".concat(D4(i.props)," |}")):"Exact<".concat(i.name,">"));var r,i,o=function t(n){switch(n._tag){case"RefinementType":case"ReadonlyType":return t(n.type);case"InterfaceType":case"StrictType":case"PartialType":return n.props;case"IntersectionType":return n.types.reduce(function(n,r){return Object.assign(n,t(r))},{})}}(t);return new UZ(n,t.is,function(n,r){var i=WA.validate(n,r);if(h8(i))return i;var a=t.validate(n,r);return h8(a)?a:ed(Wn(a.right,o))},function(n){return t.encode(Wn(n,o))},t)}var UG=function(t){function n(){var n=t.call(this,"Function",function(t){return"function"==typeof t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="FunctionType",n}return DJ(n,t),n}(DX),UY=new UG,UQ=function(t){function n(n,r,i,o,a,u){var s=t.call(this,n,r,i,o,a)||this;return s.tag=u,s}return DJ(n,t),n}(UU),UX=function(t,n,r){void 0===r&&(r=We(n));var i=Uz(n,r);return i instanceof UQ?i:(console.warn("[io-ts] Cannot build a tagged union for ".concat(r,", returning a de-optimized union")),new UQ(r,i.is,i.validate,i.encode,n,t))},U0=function(t,n){return{value:t,context:n}},U1=function(t){return[{key:"",type:t}]},U2=function(t){function n(){var n=t.call(this,"never",function(t){return!1},function(t,n){return DQ(t,n)},function(){throw Error("cannot encode never")})||this;return n._tag="NeverType",n}return DJ(n,t),n}(DX),U3=new U2,U5=function(t){function n(){var n=t.call(this,"any",function(t){return!0},ed,D0)||this;return n._tag="AnyType",n}return DJ(n,t),n}(DX),U4=new U5,U9=function(t){function n(){var n=t.call(this,"object",function(t){return null!==t&&"object"==typeof t},function(t,r){return n.is(t)?ed(t):DQ(t,r)},D0)||this;return n._tag="ObjectType",n}return DJ(n,t),n}(DX),U6=new U9;function U8(t,n,r){return void 0===r&&(r="(".concat(t.name," | ").concat(D1(n),")")),new WF(r,function(r){return t.is(r)&&n(r)},function(r,i){var o=t.validate(r,i);if(h8(o))return o;var a=o.right;return n(a)?ed(a):DQ(a,i)},t.encode,t,n)}var U7=U8(Ww,Number.isInteger,"Integer"),ze=function(t){function n(n,r,i,o,a){var u=t.call(this,n,r,i,o)||this;return u.props=a,u._tag="StrictType",u}return DJ(n,t),n}(DX);function zt(t){return t}let zn=Object.freeze(Object.defineProperty({__proto__:null,AnyArrayType:WC,AnyDictionaryType:WE,AnyType:U5,Array:WR,ArrayType:Uj,BigIntType:WO,BooleanType:Wk,Dictionary:WA,DictionaryType:UD,ExactType:UZ,Function:UY,FunctionType:UG,Int:UR,Integer:U7,InterfaceType:UP,IntersectionType:UB,KeyofType:WP,LiteralType:Wj,NeverType:U2,NullType:Wp,NumberType:WT,ObjectType:U9,PartialType:UL,ReadonlyArrayType:U$,ReadonlyType:UK,RecursiveType:UE,RefinementType:WF,StrictType:ze,StringType:W_,TaggedUnionType:UQ,TupleType:Uq,Type:DX,UndefinedType:Wm,UnionType:UU,UnknownArray:WR,UnknownRecord:WA,UnknownType:Wb,VoidType:Wy,alias:function(t){return function(){return t}},any:U4,appendContext:D2,array:UN,bigint:WI,boolean:WM,brand:WL,clean:zt,dictionary:UW,emptyTags:Wi,exact:UJ,failure:DQ,failures:ef,getContextEntry:function(t,n){return{key:t,type:n}},getDefaultContext:U1,getDomainKeys:D7,getFunctionName:D1,getIndex:Wd,getTags:Wf,getValidationError:U0,identity:D0,interface:UF,intersection:function(t,n){void 0===n&&(n="(".concat(t.map(function(t){return t.name}).join(" & "),")"));var r=t.length;return new UB(n,function(n){return t.every(function(t){return t.is(n)})},0===t.length?ed:function(n,i){for(var o=[],a=[],u=0;u<r;u++){var s=t[u],c=s.validate(n,D2(i,String(u),s,n));h8(c)?D3(a,c.left):o.push(c.right)}return a.length>0?ef(a):ed(Wt(n,o))},0===t.length?D0:function(n){return Wt(n,t.map(function(t){return t.encode(n)}))},t)},keyof:function(t,n){void 0===n&&(n=Object.keys(t).map(function(t){return JSON.stringify(t)}).join(" | "));var r=function(n){return WS.is(n)&&D5.call(t,n)};return new WP(n,r,function(t,n){return r(t)?ed(t):DQ(t,n)},D0,t)},literal:WN,mergeAll:Wt,never:U3,null:Wh,nullType:Wh,number:Ww,object:U6,partial:function(t,n){void 0===n&&(n=D8(D6(t)));var r=Object.keys(t),i=r.map(function(n){return t[n]}),o=r.length;return new UL(n,function(n){if(WA.is(n)){for(var i=0;i<o;i++){var a=r[i],u=n[a];if(void 0!==u&&!t[a].is(u))return!1}return!0}return!1},function(n,i){var a=WA.validate(n,i);if(h8(a))return a;for(var u=a.right,s=u,c=[],l=0;l<o;l++){var f=r[l],d=s[f],p=t[f],h=p.validate(d,D2(i,f,p,d));if(h8(h))void 0!==d&&D3(c,h.left);else{var m=h.right;m!==d&&(s===u&&(s=DG({},u)),s[f]=m)}}return c.length>0?ef(c):ed(s)},D9(i)?D0:function(t){for(var n=DG({},t),a=0;a<o;a++){var u=r[a],s=t[u];void 0!==s&&(n[u]=i[a].encode(s))}return n},t)},readonly:function(t,n){return void 0===n&&(n="Readonly<".concat(t.name,">")),new UK(n,t.is,t.validate,t.encode,t)},readonlyArray:UV,record:UW,recursion:UA,refinement:U8,strict:UH,string:WS,success:ed,taggedUnion:UX,tuple:function(t,n){void 0===n&&(n="[".concat(t.map(function(t){return t.name}).join(", "),"]"));var r=t.length;return new Uq(n,function(n){return WR.is(n)&&n.length===r&&t.every(function(t,r){return t.is(n[r])})},function(n,i){var o=WR.validate(n,i);if(h8(o))return o;for(var a=o.right,u=a.length>r?a.slice(0,r):a,s=[],c=0;c<r;c++){var l=a[c],f=t[c],d=f.validate(l,D2(i,String(c),f,l));if(h8(d))D3(s,d.left);else{var p=d.right;p!==l&&(u===a&&(u=a.slice()),u[c]=p)}}return s.length>0?ef(s):ed(u)},D9(t)?D0:function(n){return t.map(function(t,r){return t.encode(n[r])})},t)},type:UF,undefined:Wg,union:Uz,unknown:Wx,void:Wv,voidType:Wv},Symbol.toStringTag,{value:"Module"})),zr=g(zn);var zi={},zo={},za={};let zu=g(z);function zs(t,n,r){return void 0===r&&(r=t.name),new DX(r,t.is,t.validate,function(r){return n(t.encode(r))})}let zc=Object.freeze(Object.defineProperty({__proto__:null,mapOutput:zs},Symbol.toStringTag,{value:"Module"})),zl=g(zc);Object.defineProperty(za,"__esModule",{value:!0}),za.addType=za.isEmpty=za.objectToMap=za.grouped=za.formatDate=za.formatDateTime=za.filterDouble=za.refineType=za.nullable=void 0;let zf=oS,zd=(0,zf.__importStar)(zr);za.nullable=function(t){return zd.union([t,zd.null,zd.undefined])},za.refineType=function(t,n,r){return new zd.Type(n,t.is,(n,i)=>(0,zu.pipe)(t.validate(n,i),L3.either.chain(t=>r(t)?zd.success(t):zd.failure(n,i))),t.encode)},za.filterDouble=function(t){if(""===t)return null;let n=Number(t);return Number.isNaN(n)?null:n},za.formatDateTime=function(t){return t.toISOString().replace(/\.\d{3}Z$/,"+0000")},za.formatDate=function(t){return t.toISOString().replace(/T.*/,"")},za.grouped=function(t,n){return t.reduce((t,r,i)=>(i%n==0?t.push([r]):t[Math.floor(i/n)].push(r),t),[])},za.objectToMap=function(t){return new Map(Object.entries(t))},za.isEmpty=function(t){for(let n in t)return!1;return!0},za.addType=function(t,n){return(0,zl.mapOutput)(t,t=>({...t,__TYPE__:n}))},Object.defineProperty(zo,"__esModule",{value:!0}),zo.WidgetKey=void 0;let zp=oS,zh=(0,zp.__importStar)(zr),zm=RegExp("^[^<>]+$");zo.WidgetKey=(0,za.refineType)(zh.string,"WidgetKey",t=>0===t.length||zm.test(t)),Object.defineProperty(zg=zi,"__esModule",{value:!0}),(0,oS.__exportStar)(zo,zg);var zg,zy,zv,zb,zx={},z_={},zS={};function zT(){if(zb)return zS;zb=1,Object.defineProperty(zS,"__esModule",{value:!0}),zS.hasContentType=zS.hasFieldContentType=void 0;let t=Vf();function n(t){return"object"==typeof t&&null!==t&&"__TYPE__"in t}return zS.hasFieldContentType=function(r){return n(r)&&r.__TYPE__===t.FieldContentType&&(null==r?void 0:r.type)!==void 0&&"string"==typeof r.type&&(0,L5.isRight)(t.FieldType.decode(r.type))},zS.hasContentType=n,zS}function zw(){return qs||(qs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyContent=t.EmptyLegacy=t.isEmptyContent=t.EmptyContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.EmptyContentType="EmptyContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.EmptyContentType;t.isEmptyContent=o;let a=r.union([r.null,r.type({value:r.null})]),u=n=>new r.Type("EmptyLegacy",t.isEmptyContent,r=>(0,L6.pipe)(a.decode(r),L3.either.map(()=>({type:n,__TYPE__:t.EmptyContentType}))),()=>null);t.EmptyLegacy=u,t.EmptyContent=r.strict({type:r.string,__TYPE__:r.literal(t.EmptyContentType)})}(z_)),z_}var zO={},zI={},zk={},zM={},zC={},zR={};let zE=g(mN);Object.defineProperty(zR,"__esModule",{value:!0});let zA=oS,zj=(0,zA.__importStar)(zr);zR.default=new zj.Type("dateFromString",t=>t instanceof Date,(t,n)=>(0,zu.pipe)(zj.string.validate(t,n),(0,zE.chain)(r=>{let i=new Date(r);return isNaN(i.getTime())?zj.failure(t,n):zj.success(i)})),t=>t.toISOString());var zN={};Object.defineProperty(zN,"__esModule",{value:!0});let zP=oS,zF=(0,zP.__importStar)(zr);zN.default=new zF.Type("dateFromStringOrNumber",t=>t instanceof Date,(t,n)=>(0,zu.pipe)(zF.union([zF.number,zF.string]).validate(t,n),(0,zE.chain)(r=>{let i=new Date(r);return isNaN(i.getTime())?zF.failure(t,n):zF.success(i)})),t=>t);var zL={};Object.defineProperty(zL,"__esModule",{value:!0});let zD=oS,zW=(0,zD.__importStar)(zr);zL.default=new zW.Type("dateFromTsMs",t=>t instanceof Date,(t,n)=>(0,zu.pipe)(zW.number.validate(t,n),(0,zE.chain)(r=>{let i=new Date(r);return isNaN(i.getTime())?zW.failure(t,n):zW.success(i)})),t=>t.getTime());var zU={};Object.defineProperty(zU,"__esModule",{value:!0});let zz=oS,zB=(0,zz.__importStar)(zr);zU.default=new zB.Type("IntFromNumber",zB.Int.is,(t,n)=>(0,zu.pipe)(zB.number.validate(t,n),(0,zE.chain)(t=>zB.Int.is(t)?zB.success(t):zB.success(Math.round(t)))),zB.Int.encode);var zq={};Object.defineProperty(zq,"__esModule",{value:!0});let zK=oS,z$=(0,zK.__importStar)(zr),zV=/^([0-9]+)px$/;zq.default=new z$.Type("IntFromPixels",z$.Int.is,(t,n)=>(0,zu.pipe)(z$.string.validate(t,n),(0,zE.chain)(r=>{try{let i=r.match(zV);if(!i)return z$.failure(t,n);let o=parseInt(i[1]);return z$.success(o)}catch{return z$.failure(t,n)}})),String);var zH={};Object.defineProperty(zH,"__esModule",{value:!0});let zZ=oS,zJ=(0,zZ.__importStar)(zr);zH.default=(0,za.refineType)(zJ.string,"nonEmptyString",t=>t.trim().length>0);var zG={},zY={};Object.defineProperty(zY,"__esModule",{value:!0});let zQ=oS,zX=(0,zQ.__importStar)(zr);zY.default=(0,za.nullable)(zX.string),Object.defineProperty(zG,"__esModule",{value:!0});let z0=oS,z1=(0,z0.__importDefault)(zY);zG.default=new zr.Type("nonEmptyStringOrNull",t=>"string"==typeof t||null===t,(t,n)=>(0,zu.pipe)(z1.default.validate(t,n),(0,zE.chain)(t=>"string"==typeof t&&t.length>0?(0,zr.success)(t):(0,zr.success)(null))),t=>t);var z2={};Object.defineProperty(z2,"__esModule",{value:!0});let z3=oS,z5=(0,z3.__importStar)(zr);z2.default=(0,za.nullable)(z5.number);var z4={};Object.defineProperty(z4,"__esModule",{value:!0});let z9=oS,z6=(0,z9.__importStar)(zr);z4.default=new z6.Type("StringFromInt",z6.string.is,(t,n)=>(0,zu.pipe)(z6.boolean.validate(t,n),(0,zE.chain)(t=>z6.success(t.toString()))),t=>t);var z8={};Object.defineProperty(z8,"__esModule",{value:!0});let z7=oS,Be=(0,z7.__importStar)(zr);z8.default=new Be.Type("StringFromInt",Be.string.is,(t,n)=>(0,zu.pipe)(Be.number.validate(t,n),(0,zE.chain)(t=>Be.success(t.toString()))),t=>t),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StringOrNull=t.StringFromNumber=t.StringFromBoolean=t.NumberOrNull=t.NonEmptyStringOrNull=t.NonEmptyString=t.IntFromPixels=t.IntFromNumber=t.Function=t.DateFromTsMs=t.DateFromStringOrNumber=t.DateFromString=void 0;let n=oS;Object.defineProperty(t,"DateFromString",{enumerable:!0,get:function(){return(0,n.__importDefault)(zR).default}}),Object.defineProperty(t,"DateFromStringOrNumber",{enumerable:!0,get:function(){return(0,n.__importDefault)(zN).default}}),Object.defineProperty(t,"DateFromTsMs",{enumerable:!0,get:function(){return(0,n.__importDefault)(zL).default}}),t.Function=(0,n.__importStar)(za),Object.defineProperty(t,"IntFromNumber",{enumerable:!0,get:function(){return(0,n.__importDefault)(zU).default}}),Object.defineProperty(t,"IntFromPixels",{enumerable:!0,get:function(){return(0,n.__importDefault)(zq).default}}),Object.defineProperty(t,"NonEmptyString",{enumerable:!0,get:function(){return(0,n.__importDefault)(zH).default}}),Object.defineProperty(t,"NonEmptyStringOrNull",{enumerable:!0,get:function(){return(0,n.__importDefault)(zG).default}}),Object.defineProperty(t,"NumberOrNull",{enumerable:!0,get:function(){return(0,n.__importDefault)(z2).default}}),Object.defineProperty(t,"StringFromBoolean",{enumerable:!0,get:function(){return(0,n.__importDefault)(z4).default}}),Object.defineProperty(t,"StringFromNumber",{enumerable:!0,get:function(){return(0,n.__importDefault)(z8).default}}),Object.defineProperty(t,"StringOrNull",{enumerable:!0,get:function(){return(0,n.__importDefault)(zY).default}})}(zC);var Bt={},Bn={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanField=t.BooleanConfig=t.BooleanFieldType=void 0;let n=(0,oS.__importStar)(zr);t.BooleanFieldType="Boolean",t.BooleanConfig=n.exact(n.partial({label:zC.StringOrNull,default_value:n.boolean,placeholder_true:n.string,placeholder_false:n.string})),t.BooleanField=n.exact(n.intersection([n.type({type:n.literal(t.BooleanFieldType)}),n.partial({config:t.BooleanConfig})]))}(Bn);var Br={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Color=t.ColorConfig=t.ColorFieldType=void 0;let n=(0,oS.__importStar)(zr);t.ColorFieldType="Color",t.ColorConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string})),t.Color=n.exact(n.intersection([n.type({type:n.literal(t.ColorFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.ColorConfig})]))}(Br);var Bi={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Date=t.DateConfig=t.DateFieldType=void 0;let n=(0,oS.__importStar)(zr);t.DateFieldType="Date",t.DateConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string,default:n.string})),t.Date=n.exact(n.intersection([n.type({type:n.literal(t.DateFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.DateConfig})]))}(Bi);var Bo={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Embed=t.EmbedConfig=t.EmbedFieldType=void 0;let n=(0,oS.__importStar)(zr);t.EmbedFieldType="Embed",t.EmbedConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string,useAsTitle:n.boolean})),t.Embed=n.exact(n.intersection([n.type({type:n.literal(t.EmbedFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.EmbedConfig})]))}(Bo);var Ba={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPoint=t.GeoPointConfig=t.GeoPointFieldType=void 0;let n=(0,oS.__importStar)(zr);t.GeoPointFieldType="GeoPoint",t.GeoPointConfig=n.exact(n.partial({label:zC.StringOrNull})),t.GeoPoint=n.exact(n.intersection([n.type({type:n.literal(t.GeoPointFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.GeoPointConfig})]))}(Ba);var Bu={},Bs={},Bc={},Bl={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.pipe=Bf.pipeable=void 0,Bf.pipeable=function(t){var n,r,i,o,a,u,s,c,l,f,d,p,h,m,g,y={};if("function"==typeof t.map){var v=function(n){return function(r){return t.map(r,n)}};y.map=v}if("function"==typeof t.contramap){var b=function(n){return function(r){return t.contramap(r,n)}};y.contramap=b}if("function"==typeof t.mapWithIndex){var x=function(n){return function(r){return t.mapWithIndex(r,n)}};y.mapWithIndex=x}if("function"==typeof t.ap){var _=function(n){return function(r){return t.ap(r,n)}},S=function(n){return function(r){return t.ap(t.map(r,function(t){return function(){return t}}),n)}};y.ap=_,y.apFirst=S,y.apSecond=function(n){return function(r){return t.ap(t.map(r,function(){return function(t){return t}}),n)}}}if("function"==typeof t.chain){var T=function(n){return function(r){return t.chain(r,n)}},w=function(n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(){return r})})}},O=function(n){return t.chain(n,L6.identity)};y.chain=T,y.chainFirst=w,y.flatten=O}if("function"==typeof t.bimap){var I=function(n,r){return function(i){return t.bimap(i,n,r)}},k=function(n){return function(r){return t.mapLeft(r,n)}};y.bimap=I,y.mapLeft=k}if("function"==typeof t.extend){var M=function(n){return function(r){return t.extend(r,n)}},C=function(n){return t.extend(n,L6.identity)};y.extend=M,y.duplicate=C}if("function"==typeof t.reduce){var R=function(n,r){return function(i){return t.reduce(i,n,r)}},E=function(n){var r=t.foldMap(n);return function(t){return function(n){return r(n,t)}}},A=function(n,r){return function(i){return t.reduceRight(i,n,r)}};y.reduce=R,y.foldMap=E,y.reduceRight=A}if("function"==typeof t.reduceWithIndex){var j=function(n,r){return function(i){return t.reduceWithIndex(i,n,r)}},N=function(n){var r=t.foldMapWithIndex(n);return function(t){return function(n){return r(n,t)}}},P=function(n,r){return function(i){return t.reduceRightWithIndex(i,n,r)}};y.reduceWithIndex=j,y.foldMapWithIndex=N,y.reduceRightWithIndex=P}if("function"==typeof t.alt){var F=function(n){return function(r){return t.alt(r,n)}};y.alt=F}if("function"==typeof t.compact&&(y.compact=t.compact,y.separate=t.separate),"function"==typeof t.filter){var L=function(n){return function(r){return t.filter(r,n)}},D=function(n){return function(r){return t.filterMap(r,n)}},W=function(n){return function(r){return t.partition(r,n)}},U=function(n){return function(r){return t.partitionMap(r,n)}};y.filter=L,y.filterMap=D,y.partition=W,y.partitionMap=U}if("function"==typeof t.filterWithIndex){var z=function(n){return function(r){return t.filterWithIndex(r,n)}},B=function(n){return function(r){return t.filterMapWithIndex(r,n)}},q=function(n){return function(r){return t.partitionWithIndex(r,n)}},K=function(n){return function(r){return t.partitionMapWithIndex(r,n)}};y.filterWithIndex=z,y.filterMapWithIndex=B,y.partitionWithIndex=q,y.partitionMapWithIndex=K}if("function"==typeof t.promap){var $=function(n,r){return function(i){return t.promap(i,n,r)}};y.promap=$}if("function"==typeof t.compose){var V=function(n){return function(r){return t.compose(r,n)}};y.compose=V}if("function"==typeof t.throwError){var H=function(n){return function(r){return"None"===r._tag?t.throwError(n()):t.of(r.value)}},Z=function(n){return"Left"===n._tag?t.throwError(n.left):t.of(n.right)},J=function(n,r){return function(i){return n(i)?t.of(i):t.throwError(r(i))}},G=function(n,r){return function(i){return t.chain(i,function(i){return n(i)?t.of(i):t.throwError(r(i))})}};y.fromOption=H,y.fromEither=Z,y.fromPredicate=J,y.filterOrElse=G}return y},Bf.pipe=L6.pipe;var Bd=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),Bp=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Bh=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&Bd(n,t,r);return Bp(n,t),n};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.NumberFromString=void 0;var Bm=Bh(zr);Bl.NumberFromString=new Bm.Type("NumberFromString",Bm.number.is,function(t,n){return Bf.pipe(Bm.string.validate(t,n),L5.chain(function(r){var i=+r;return isNaN(i)||""===r.trim()?Bm.failure(t,n):Bm.success(i)}))},String);var Bg=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),By=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Bv=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&Bg(n,t,r);return By(n,t),n};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.IntFromString=void 0;var Bb=Bv(zr);Bc.IntFromString=new Bb.Type("IntFromString",Bb.Int.is,function(t,n){return Bf.pipe(Bl.NumberFromString.validate(t,n),L5.chain(function(r){return Bb.Int.is(r)?Bb.success(r):Bb.failure(t,n)}))},Bl.NumberFromString.encode),Object.defineProperty(Bs,"__esModule",{value:!0});let Bx=oS,B_=(0,Bx.__importStar)(zr),BS=new B_.Type("SideConstraints",t=>!t||"number"==typeof t,(t,n)=>L5.either.chain(B_.union([B_.literal("auto"),B_.literal(""),B_.Int,Bc.IntFromString,zC.IntFromNumber,zC.IntFromPixels,B_.null]).validate(t,n),t=>"auto"===t||""===t?B_.success(null):B_.success(t)),t=>t),BT=B_.partial({width:BS,height:BS});Bs.default=BT,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Image=t.ImageConfig=t.Thumbnail=t.ImageFieldType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(Bs);t.ImageFieldType="Image",t.Thumbnail=r.exact(r.intersection([r.type({name:r.string}),i.default])),t.ImageConfig=r.exact(r.partial({label:zC.StringOrNull,placeholder:r.string,constraint:i.default,thumbnails:r.readonlyArray(t.Thumbnail)})),t.Image=r.exact(r.intersection([r.type({type:r.literal(t.ImageFieldType)}),r.partial({fieldset:zC.StringOrNull,config:t.ImageConfig})]))}(Bu);var Bw={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationField=t.IntegrationFieldConfig=t.IntegrationFieldType=void 0;let n=(0,oS.__importStar)(zr);t.IntegrationFieldType="IntegrationFields",t.IntegrationFieldConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string,catalog:n.string})),t.IntegrationField=n.exact(n.intersection([n.type({type:n.literal(t.IntegrationFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.IntegrationFieldConfig})]))}(Bw);var BO={},BI={},Bk={},BM={};Object.defineProperty(BM,"__esModule",{value:!0}),BM.clone=void 0,BM.clone=function(t){var n=Object.create(Object.getPrototypeOf(t));return Object.assign(n,t),n};var BC=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),BR=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),BE=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&BC(n,t,r);return BR(n,t),n};Object.defineProperty(Bk,"__esModule",{value:!0}),Bk.withValidate=void 0;var BA=BE(zr);Bk.withValidate=function(t,n,r){void 0===r&&(r=t.name);var i=BM.clone(t);return i.validate=n,i.decode=function(t){return n(t,BA.getDefaultContext(i))},i.name=r,i};var Bj=m&&m.__createBinding||(Object.create?function(t,n,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,i){void 0===i&&(i=r),t[i]=n[r]}),BN=m&&m.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),BP=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&Bj(n,t,r);return BN(n,t),n};Object.defineProperty(BI,"__esModule",{value:!0}),BI.withFallback=void 0;var BF=BP(zr);BI.withFallback=function(t,n,r){return void 0===r&&(r="withFallback("+t.name+")"),Bk.withValidate(t,function(r,i){return L5.orElse(function(){return BF.success(n)})(t.validate(r,i))},r)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.LinkConfig=t.LinkFieldType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=t=>{if(t instanceof Array&&t.reduce((t,n)=>t&&"string"==typeof n,!0))return r.success(t)},o=t=>{if("string"==typeof t)return r.success([t])},a=new r.Type("MasksArrayString",t=>t instanceof Array,(t,n)=>L5.either.chain(r.union([r.array(r.string),r.string]).validate(t,n),a=>i(a)||o(a)||r.failure(t,n)),t=>t);t.LinkFieldType="Link",t.LinkConfig=r.exact(r.partial({label:zC.StringOrNull,useAsTitle:r.boolean,placeholder:r.string,select:(0,BI.withFallback)(r.union([r.literal("media"),r.literal("document"),r.literal("web"),r.null]),null),customtypes:r.readonlyArray(r.string),masks:a,tags:a,allowTargetBlank:r.boolean})),t.Link=r.exact(r.intersection([r.type({type:r.literal(t.LinkFieldType)}),r.partial({fieldset:zC.StringOrNull,config:t.LinkConfig})]))}(BO);var BL={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Number=t.NumberConfig=t.NumberFieldType=void 0;let n=(0,oS.__importStar)(zr);t.NumberFieldType="Number",t.NumberConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string,min:n.union([n.number,Bl.NumberFromString]),max:n.union([n.number,Bl.NumberFromString]),step:n.union([n.number,Bl.NumberFromString])})),t.Number=n.exact(n.intersection([n.type({type:n.literal(t.NumberFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.NumberConfig})]))}(BL);var BD={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Range=t.RangeConfig=t.RangeFieldType=void 0;let n=(0,oS.__importStar)(zr);t.RangeFieldType="Range",t.RangeConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string,min:n.union([n.number,Bl.NumberFromString]),max:n.union([n.number,Bl.NumberFromString]),step:n.union([n.number,Bl.NumberFromString])})),t.Range=n.exact(n.intersection([n.type({type:n.literal(t.RangeFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.RangeConfig})]))}(BD);var BW={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RichText=t.RichTextConfig=t.RichTextNodeTypeCodec=t.RichTextNodeType=t.DEFAULT_OPTION=t.RichTextFieldType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(Bs);t.RichTextFieldType="StructuredText",t.DEFAULT_OPTION="paragraph",t.RichTextNodeType={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",strong:"strong",em:"em",preformatted:"preformatted",hyperlink:"hyperlink",image:"image",embed:"embed",list:"list-item",orderedList:"o-list-item",rtl:"rtl"},t.RichTextNodeTypeCodec=r.keyof({[t.RichTextNodeType.heading1]:null,[t.RichTextNodeType.heading2]:null,[t.RichTextNodeType.heading3]:null,[t.RichTextNodeType.heading4]:null,[t.RichTextNodeType.heading5]:null,[t.RichTextNodeType.heading6]:null,[t.RichTextNodeType.paragraph]:null,[t.RichTextNodeType.strong]:null,[t.RichTextNodeType.em]:null,[t.RichTextNodeType.preformatted]:null,[t.RichTextNodeType.hyperlink]:null,[t.RichTextNodeType.image]:null,[t.RichTextNodeType.embed]:null,[t.RichTextNodeType.list]:null,[t.RichTextNodeType.orderedList]:null,[t.RichTextNodeType.rtl]:null});let o=new r.Type("RichTextOptions",t=>"string"==typeof t,n=>(0,L6.pipe)(r.union([r.string,r.null]).decode(n),L3.either.map(n=>{if(!n)return t.DEFAULT_OPTION;let r=n.split(",").map(t=>t.trim()).filter(n=>(0,L5.getOrElseW)(()=>{})(t.RichTextNodeTypeCodec.decode(n)));return r.length?r.join(","):t.DEFAULT_OPTION})),t=>t),a=t=>{if(!t)return r.success([])},u=t=>{if(t instanceof Object){if(!Object.entries(t).length)return r.success([]);if(t[""])return r.success(t[""].map(t=>t.name));let n=Object.entries(t).reduce((t,[,n])=>t.concat(n.map(t=>t.name)),[]).filter(Boolean);return r.success(n)}},s=t=>{if(t instanceof Array&&t.reduce((t,n)=>t&&"string"==typeof n,!0))return r.success(t)},c=t=>{if("string"==typeof t)return r.success([t])},l=new r.Type("RichTextLabels",t=>t instanceof Array,(t,n)=>{let i=r.record(r.string,r.readonlyArray(r.record(r.literal("name"),r.string))),o=r.readonlyArray(r.string);return(0,L6.pipe)(r.union([i,o,r.string,r.null]).decode(t),L3.either.chain(i=>a(i)||s(i)||u(i)||c(i)||r.failure(t,n)))},t=>t);t.RichTextConfig=r.exact(r.partial({label:zC.StringOrNull,placeholder:r.string,useAsTitle:r.boolean,single:o,multi:o,imageConstraint:i.default,labels:l,allowTargetBlank:r.boolean})),t.RichText=r.exact(r.intersection([r.type({type:r.literal(t.RichTextFieldType)}),r.partial({fieldset:zC.StringOrNull,config:t.RichTextConfig})]))}(BW);var BU={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Select=t.SelectConfig=t.SelectFieldType=void 0;let n=(0,oS.__importStar)(zr);t.SelectFieldType="Select",t.SelectConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string,default_value:n.string,options:n.readonlyArray(n.union([n.string,zC.StringFromNumber,zC.StringFromBoolean]))})),t.Select=n.exact(n.intersection([n.type({type:n.literal(t.SelectFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.SelectConfig})]))}(BU);var Bz={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=t.SeparatorConfig=t.SeparatorFieldType=void 0;let n=(0,oS.__importStar)(zr);t.SeparatorFieldType="Separator",t.SeparatorConfig=n.exact(n.partial({label:zC.StringOrNull})),t.Separator=n.exact(n.intersection([n.type({type:n.literal(t.SeparatorFieldType)}),n.partial({config:t.SeparatorConfig})]))}(Bz);var BB={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Text=t.TextConfig=t.TextFieldType=void 0;let n=(0,oS.__importStar)(zr);t.TextFieldType="Text",t.TextConfig=n.exact(n.partial({label:zC.StringOrNull,useAsTitle:n.boolean,placeholder:n.string})),t.Text=n.exact(n.intersection([n.type({type:n.literal(t.TextFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.TextConfig})]))}(BB);var Bq={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.TimestampConfig=t.TimestampFieldType=void 0;let n=(0,oS.__importStar)(zr);t.TimestampFieldType="Timestamp",t.TimestampConfig=n.exact(n.partial({label:zC.StringOrNull,placeholder:n.string,default:n.string})),t.Timestamp=n.exact(n.intersection([n.type({type:n.literal(t.TimestampFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.TimestampConfig})]))}(Bq),Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.NestableWidget=void 0;let BK=oS,B$=(0,BK.__importStar)(zr);Bt.NestableWidget=B$.union([Br.Color,Bn.BooleanField,Bo.Embed,Ba.GeoPoint,Bi.Date,BL.Number,BD.Range,BW.RichText,BU.Select,Bz.Separator,BB.Text,Bq.Timestamp,BO.Link,Bu.Image,Bw.IntegrationField]),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.GroupConfig=t.GroupFieldType=void 0;let n=(0,oS.__importStar)(zr);t.GroupFieldType="Group",t.GroupConfig=n.exact(n.partial({label:zC.StringOrNull,repeat:n.boolean,fields:n.record(zi.WidgetKey,Bt.NestableWidget)})),t.Group=n.exact(n.intersection([n.type({type:n.literal(t.GroupFieldType)}),n.partial({fieldset:zC.StringOrNull,icon:n.string,description:n.string,config:t.GroupConfig})]))}(zM);var BV={};!function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(Bn,t),(0,n.__exportStar)(Br,t),(0,n.__exportStar)(Bi,t),(0,n.__exportStar)(Bo,t),(0,n.__exportStar)(Ba,t),(0,n.__exportStar)(Bu,t),(0,n.__exportStar)(Bw,t),(0,n.__exportStar)(BO,t),(0,n.__exportStar)(Bt,t),(0,n.__exportStar)(BL,t),(0,n.__exportStar)(BD,t),(0,n.__exportStar)(BW,t),(0,n.__exportStar)(BU,t),(0,n.__exportStar)(Bz,t),(0,n.__exportStar)(BB,t),(0,n.__exportStar)(Bq,t)}(BV);var BH,BZ,BJ={};BH=BJ,BZ=m&&m.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Object.defineProperty(BH,"__esModule",{value:!0}),BH.ImageConstraint=void 0,Object.defineProperty(BH,"ImageConstraint",{enumerable:!0,get:function(){return BZ(Bs).default}});var BG={},BY={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeSlice=t.CompositeSliceConfig=t.CompositeSliceType=void 0;let n=(0,oS.__importStar)(zr);t.CompositeSliceType="Slice",t.CompositeSliceConfig=n.exact(n.partial({label:zC.StringOrNull})),t.CompositeSlice=n.exact(n.intersection([n.type({type:n.literal(t.CompositeSliceType)}),n.partial({fieldset:zC.StringOrNull,description:n.string,icon:n.string,display:n.string,"non-repeat":n.record(zi.WidgetKey,Bt.NestableWidget),repeat:n.record(zi.WidgetKey,Bt.NestableWidget),config:t.CompositeSliceConfig})]))}(BY);var BQ={};Object.defineProperty(BQ,"__esModule",{value:!0}),BQ.LegacySlice=void 0;let BX=oS,B0=(0,BX.__importStar)(zr);BQ.LegacySlice=B0.union([Bt.NestableWidget,zM.Group]);var B1={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SharedSlice=t.SharedSliceType=t.Variation=void 0;let n=(0,oS.__importStar)(zr);t.Variation=n.exact(n.intersection([n.type({id:n.string,name:n.string,description:n.string,imageUrl:(0,BI.withFallback)(n.string,"https://images.prismic.io/slice-machine/621a5ec4-0387-4bc5-9860-2dd46cbc07cd_default_ss.png?auto=compress,format"),docURL:n.string,version:n.string}),n.partial({display:n.string,primary:n.record(zi.WidgetKey,Bt.NestableWidget),items:n.record(zi.WidgetKey,Bt.NestableWidget)})])),t.SharedSliceType="SharedSlice",t.SharedSlice=n.exact(n.intersection([n.type({id:n.string,type:n.literal(t.SharedSliceType),name:n.string,variations:n.readonlyArray(t.Variation)}),n.partial({description:n.string})]))}(B1);var B2={};Object.defineProperty(B2,"__esModule",{value:!0}),B2.SharedSliceRef=void 0;let B3=oS,B5=(0,B3.__importStar)(zr);B2.SharedSliceRef=B5.exact(B5.type({type:B5.literal(B1.SharedSliceType)}));var B4={};Object.defineProperty(B4,"__esModule",{value:!0});var B9={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Slices=t.DynamicSlices=t.StaticSlices=t.slicesReader=t.DynamicSlicesConfig=t.StaticSlicesConfig=t.slicesConfigReader=t.SlicesLabels=t.SlicesFieldType=t.LegacySlicesFieldType=void 0;let n=(0,oS.__importStar)(zr);function r(r){return n.exact(n.partial({label:zC.StringOrNull,labels:t.SlicesLabels,choices:n.record(zi.WidgetKey,n.union([BQ.LegacySlice,BY.CompositeSlice,r]))}))}t.LegacySlicesFieldType="Choice",t.SlicesFieldType="Slices",t.SlicesLabels=n.union([n.record(n.string,n.readonlyArray(n.exact(n.intersection([n.type({name:n.string}),n.partial({display:n.string})])))),n.null]),t.slicesConfigReader=r,t.StaticSlicesConfig=r(B1.SharedSlice),t.DynamicSlicesConfig=r(B2.SharedSliceRef);let i={toStatic(t,n){let r=Object.entries(t.choices||{}).reduce((t,[r,i])=>{if("SharedSlice"!==i.type)return{...t,[r]:i};{let o=n.get(r);return o?{...t,[r]:o}:t}},{});return{...t,choices:r}}};function o(r){return n.exact(n.intersection([n.type({type:n.keyof({[t.SlicesFieldType]:null,[t.LegacySlicesFieldType]:null})}),n.partial({fieldset:zC.StringOrNull,config:r})]))}t.slicesReader=o,t.StaticSlices=o(t.StaticSlicesConfig),t.DynamicSlices=o(t.DynamicSlicesConfig),t.Slices={toStatic:(t,n)=>t.config?{...t,config:i.toStatic(t.config,n)}:t}}(B9);var B6={};Object.defineProperty(B6,"__esModule",{value:!0}),B6.SlicesTypes=void 0;let B8=oS,B7=(0,B8.__importStar)(zr);B6.SlicesTypes=B7.keyof({[BY.CompositeSliceType]:null,[B1.SharedSliceType]:null}),function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(BY,t),(0,n.__exportStar)(BQ,t),(0,n.__exportStar)(B1,t),(0,n.__exportStar)(B2,t),(0,n.__exportStar)(B4,t),(0,n.__exportStar)(B9,t),(0,n.__exportStar)(B6,t)}(BG);var qe={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UID=t.UIDConfig=t.UIDFieldType=void 0;let n=(0,oS.__importStar)(zr);t.UIDFieldType="UID",t.UIDConfig=n.exact(n.partial({label:zC.StringOrNull,useAsTitle:n.boolean,placeholder:n.string})),t.UID=n.exact(n.intersection([n.type({type:n.literal(t.UIDFieldType)}),n.partial({fieldset:zC.StringOrNull,config:t.UIDConfig})]))}(qe);var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.Widgets=qt.FieldType=qt.DynamicWidget=qt.StaticWidget=qt.widgetReader=void 0;let qn=oS,qr=(0,qn.__importStar)(zr);function qi(t){return qr.union([qe.UID,Bt.NestableWidget,zM.Group,t])}qt.widgetReader=qi,qt.StaticWidget=qi(B9.StaticSlices),qt.DynamicWidget=qi(B9.DynamicSlices),qt.FieldType=qr.keyof({[BV.ColorFieldType]:null,[BV.BooleanFieldType]:null,[BV.NumberFieldType]:null,[BV.EmbedFieldType]:null,[BV.GeoPointFieldType]:null,[BV.DateFieldType]:null,[BV.RangeFieldType]:null,[BV.RichTextFieldType]:null,[BV.SelectFieldType]:null,[BV.SeparatorFieldType]:null,[BV.TextFieldType]:null,[BV.TimestampFieldType]:null,[BV.LinkFieldType]:null,[BV.ImageFieldType]:null,[BV.IntegrationFieldType]:null,[qe.UIDFieldType]:null,[zM.GroupFieldType]:null,[B9.SlicesFieldType]:null,[B9.LegacySlicesFieldType]:null}),qt.Widgets={toStatic(t,n){switch(t.type){case"Choice":case"Slices":return B9.Slices.toStatic(t,n);default:return t}}},function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(zM,t),(0,n.__exportStar)(BV,t),(0,n.__exportStar)(BJ,t),(0,n.__exportStar)(BG,t),(0,n.__exportStar)(qe,t),(0,n.__exportStar)(qt,t)}(zk),Object.defineProperty(zI,"__esModule",{value:!0}),zI.defaultCtx=zI.getFieldCtx=zI.LegacyContentCtx=zI.FieldOrSliceType=void 0;let qo=oS,qa=(0,qo.__importStar)(zr);zI.FieldOrSliceType=qa.union([zk.FieldType,zk.SlicesTypes]);class qu{constructor(t,n,r){Object.defineProperty(this,"fieldKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"prefixedKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyOfType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fieldPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fieldType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"allTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.fieldKey=t,this.fieldPath=n||[],this.allTypes=r||new Map;let i=Array.of(this.fieldPath,[this.fieldKey]).flat().join(".");this.prefixedKey=i,this.keyOfType=`${i}_TYPE`,this.fieldType=this.allTypes.get(this.prefixedKey)}}zI.LegacyContentCtx=qu,zI.getFieldCtx=function(t,n,r){return new qu(t,[...n.fieldPath,n.fieldKey,...r||[]],n.allTypes)},zI.defaultCtx=function(t,n=new Map){return new qu(t,[],n)};var qs,qc,ql={},qf={};function qd(){return qc||(qc=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanContent=t.BooleanLegacy=t.isBooleanContent=t.BooleanContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.BooleanContentType="BooleanContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.BooleanContentType;t.isBooleanContent=o;let a=n=>new r.Type("BooleanLegacy",t.isBooleanContent,n=>(0,L6.pipe)(r.boolean.decode(n),L3.either.map(n=>t.BooleanContent.encode({value:n,__TYPE__:t.BooleanContentType}))),t=>({content:t.value,types:{[n.keyOfType]:"Boolean"}}));t.BooleanLegacy=a,t.BooleanContent=r.strict({__TYPE__:r.literal(t.BooleanContentType),value:r.boolean})}(qf)),qf}var qp,qh={};function qm(){return qp||(qp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedContent=t.EmbedLegacy=t.EmbedContentLegacy=t.isEmbedContent=t.EmbedContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.EmbedContentType="EmbedContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.EmbedContentType;t.isEmbedContent=o,t.EmbedContentLegacy=r.exact(r.intersection([r.type({embed_url:r.string,type:r.string}),r.partial({version:r.union([r.string,r.number,r.null]),title:zC.StringOrNull,author_name:zC.StringOrNull,author_url:zC.StringOrNull,provider_name:zC.StringOrNull,provider_url:zC.StringOrNull,cache_age:r.union([r.string,r.number,r.null]),thumbnail_url:zC.StringOrNull,thumbnail_width:zC.NumberOrNull,thumbnail_height:zC.NumberOrNull,html:zC.StringOrNull})]));let a=n=>new r.Type("EmbedLegacy",t.isEmbedContent,n=>(0,L6.pipe)(t.EmbedContentLegacy.decode(n),L3.either.map(r=>({...r,all:n,__TYPE__:t.EmbedContentType}))),t=>({content:t.all,types:{[n.keyOfType]:"Embed"}}));t.EmbedLegacy=a,t.EmbedContent=r.intersection([t.EmbedContentLegacy,r.strict({__TYPE__:r.literal(t.EmbedContentType),all:r.unknown})])}(qh)),qh}var qg={},qy={},qv={};Object.defineProperty(qv,"__esModule",{value:!0});let qb=oS,qx=(0,qb.__importStar)(zr);qv.default=new qx.Type("TrimmedString",qx.string.is,(t,n)=>(0,zu.pipe)(qx.string.validate(t,n),(0,zE.chain)(t=>qx.success(function(t){let n=0;for(;n<t.length&&t[n]<=" ";)n++;let r=t.length;for(;n<r&&t[r-1]<=" ";)r--;return t.substring(n,r)}(t)))),t=>t);var q_={};function qS(){return qT||(qT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContent=t.ColorLegacy=t.isColorContent=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(qv),o=zT(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===q_.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Color"===t.type;t.isColorContent=a;let u=n=>new r.Type("ColorLegacy",t.isColorContent,n=>(0,L6.pipe)(i.default.decode(n),L3.either.map(n=>t.ColorContent.encode({value:n,type:zk.ColorFieldType,__TYPE__:q_.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:zk.ColorFieldType}}));t.ColorLegacy=u,t.ColorContent=r.strict({type:r.literal(zk.ColorFieldType),value:i.default,__TYPE__:r.literal(q_.FieldContentType)})}(qy)),qy}Object.defineProperty(q_,"__esModule",{value:!0}),q_.FieldContentType=void 0,q_.FieldContentType="FieldContent";var qT,qw,qO={};function qI(){return qw||(qw=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DateContent=t.DateLegacy=t.isDateContent=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(qv),o=zT(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===q_.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Date"===t.type;t.isDateContent=a;let u=n=>new r.Type("DateLegacy",t.isDateContent,n=>(0,L6.pipe)(i.default.decode(n),L3.either.map(n=>t.DateContent.encode({value:n,type:zk.DateFieldType,__TYPE__:q_.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:zk.DateFieldType}}));t.DateLegacy=u,t.DateContent=r.strict({type:r.literal(zk.DateFieldType),value:i.default,__TYPE__:r.literal(q_.FieldContentType)})}(qO)),qO}var qk,qM={};function qC(){return qk||(qk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberContent=t.NumberLegacy=t.isNumberContent=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(qv),o=zT(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===q_.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Number"===t.type;t.isNumberContent=a;let u=n=>new r.Type("NumberLegacy",t.isNumberContent,n=>(0,L6.pipe)(i.default.decode(n),L3.either.map(n=>t.NumberContent.encode({value:n,type:zk.NumberFieldType,__TYPE__:q_.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:zk.NumberFieldType}}));t.NumberLegacy=u,t.NumberContent=r.strict({type:r.literal(zk.NumberFieldType),value:i.default,__TYPE__:r.literal(q_.FieldContentType)})}(qM)),qM}var qR,qE={};function qA(){return qR||(qR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RangeContent=t.RangeLegacy=t.isRangeContent=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(qv),o=zT(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===q_.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Range"===t.type;t.isRangeContent=a;let u=n=>new r.Type("RangeLegacy",t.isRangeContent,n=>(0,L6.pipe)(i.default.decode(n),L3.either.map(n=>t.RangeContent.encode({value:n,type:zk.RangeFieldType,__TYPE__:q_.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:zk.RangeFieldType}}));t.RangeLegacy=u,t.RangeContent=r.strict({type:r.literal(zk.RangeFieldType),value:i.default,__TYPE__:r.literal(q_.FieldContentType)})}(qE)),qE}var qj,qN={};function qP(){return qj||(qj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SelectContent=t.SelectLegacy=t.isSelectContent=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(qv),o=zT(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===q_.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Select"===t.type;t.isSelectContent=a;let u=n=>new r.Type("SelectLegacy",t.isSelectContent,n=>(0,L6.pipe)(i.default.decode(n),L3.either.map(n=>t.SelectContent.encode({value:n,type:zk.SelectFieldType,__TYPE__:q_.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:zk.SelectFieldType}}));t.SelectLegacy=u,t.SelectContent=r.strict({type:r.literal(zk.SelectFieldType),value:i.default,__TYPE__:r.literal(q_.FieldContentType)})}(qN)),qN}var qF,qL={};function qD(){return qF||(qF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TextContent=t.TextLegacy=t.isTextContent=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(qv),o=zT(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===q_.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Text"===t.type;t.isTextContent=a;let u=n=>new r.Type("TextLegacy",t.isTextContent,n=>(0,L6.pipe)(i.default.decode(n),L3.either.map(n=>t.TextContent.encode({value:n,type:zk.TextFieldType,__TYPE__:q_.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:zk.TextFieldType}}));t.TextLegacy=u,t.TextContent=r.strict({type:r.literal(zk.TextFieldType),value:i.default,__TYPE__:r.literal(q_.FieldContentType)})}(qL)),qL}var qW,qU={};function qz(){return qW||(qW=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TimestampContent=t.TimestampLegacy=t.isTimestampContent=void 0;let n=oS,r=(0,n.__importStar)(zr),i=(0,n.__importDefault)(qv),o=zT(),a=t=>(0,o.hasContentType)(t)&&t.__TYPE__===q_.FieldContentType&&(0,o.hasFieldContentType)(t)&&"Timestamp"===t.type;t.isTimestampContent=a;let u=n=>new r.Type("TimestampLegacy",t.isTimestampContent,n=>(0,L6.pipe)(i.default.decode(n),L3.either.map(n=>t.TimestampContent.encode({value:n,type:zk.TimestampFieldType,__TYPE__:q_.FieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:zk.TimestampFieldType}}));t.TimestampLegacy=u,t.TimestampContent=r.strict({type:r.literal(zk.TimestampFieldType),value:i.default,__TYPE__:r.literal(q_.FieldContentType)})}(qU)),qU}function qB(){return qq||(qq=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FieldContent=t.FieldType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=qS(),o=qI(),a=qC(),u=qA(),s=qP(),c=qD(),l=qz();t.FieldType=r.keyof({Text:null,Date:null,Timestamp:null,Color:null,Number:null,Range:null,Select:null}),t.FieldContent=r.union([o.DateContent,i.ColorContent,a.NumberContent,u.RangeContent,s.SelectContent,c.TextContent,l.TimestampContent]),(0,n.__exportStar)(qS(),t),(0,n.__exportStar)(q_,t),(0,n.__exportStar)(qI(),t),(0,n.__exportStar)(qC(),t),(0,n.__exportStar)(qA(),t),(0,n.__exportStar)(qP(),t),(0,n.__exportStar)(qD(),t),(0,n.__exportStar)(qz(),t)}(qg)),qg}var qq,qK,q$={};function qV(){return qK||(qK=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPointContent=t.GeoPointLegacy=t.isGeoPointContent=t.GeoPointContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.GeoPointContentType="GeoPointContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.GeoPointContentType;t.isGeoPointContent=o;let a=r.strict({position:r.strict({lat:r.number,lng:r.number})}),u=n=>new r.Type("GeoPointLegacy",t.isGeoPointContent,n=>(0,zu.pipe)(a.decode(n),L3.either.map(n=>t.GeoPointContent.encode({...n,__TYPE__:t.GeoPointContentType}))),t=>({content:{position:t.position},types:{[n.keyOfType]:"GeoPoint"}}));t.GeoPointLegacy=u,t.GeoPointContent=r.intersection([a,r.strict({__TYPE__:r.literal(t.GeoPointContentType)})])}(q$)),q$}var qH={},qZ={};function qJ(){return qG||(qG=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ImageContent=t.ImageLegacy=t.ImageContentView=t.isImageContent=t.ImageContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.ImageContentType="ImageContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.ImageContentType;t.isImageContent=o;let a=r.exact(r.type({id:r.string,url:r.string,width:r.number,height:r.number}));t.ImageContentView=r.exact(r.intersection([r.type({origin:a,width:r.number,height:r.number,edit:r.type({zoom:r.number,crop:r.type({x:r.number,y:r.number}),background:r.string})}),r.partial({url:r.string,credits:zC.NonEmptyStringOrNull,alt:zC.NonEmptyStringOrNull,provider:zC.StringOrNull})]));let u=r.intersection([t.ImageContentView,r.partial({thumbnails:r.record(r.string,t.ImageContentView)})]),s=n=>new r.Type("ImageLegacy",t.isImageContent,n=>(0,L6.pipe)(u.decode(n),L3.either.map(n=>t.ImageContent.encode({...n,__TYPE__:t.ImageContentType}))),t=>({content:(0,qZ.withOptionals)({edit:t.edit,height:t.height,origin:t.origin,width:t.width},[["alt",t.alt],["credits",t.credits],["provider",t.provider],["thumbnails",t.thumbnails],["url",t.url]]),types:{[n.keyOfType]:"Image"}}));t.ImageLegacy=s,t.ImageContent=r.intersection([u,r.strict({__TYPE__:r.literal(t.ImageContentType)})])}(qH)),qH}Object.defineProperty(qZ,"__esModule",{value:!0}),qZ.withOptionals=qZ.isNotEmpty=qZ.zipObjects=void 0,qZ.zipObjects=function(t,n){return[...new Set(Object.keys(t||{}).concat(Object.keys(n||{})))].reduce((r,i)=>{let o=null==t?void 0:t[i],a=null==n?void 0:n[i];return{...r,[i]:{left:o,right:a}}},{})},qZ.isNotEmpty=function(t){return Boolean(Object.keys(t).length)},qZ.withOptionals=function(t,n){return{...t,...n.reduce((t,[n,r])=>r?{...t,[n]:r}:t,{})}};var qG,qY,qQ={};function qX(){return qY||(qY=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationFieldContent=t.IntegrationFieldLegacy=t.isIntegrationFieldContent=t.IntegrationFieldContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.IntegrationFieldContentType="IntegrationFieldsContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.IntegrationFieldContentType;t.isIntegrationFieldContent=o;let a=n=>new r.Type("IntegrationFieldLegacy",t.isIntegrationFieldContent,n=>(0,L6.pipe)(r.string.decode(n),L3.either.map(n=>t.IntegrationFieldContent.encode({value:n,__TYPE__:t.IntegrationFieldContentType}))),t=>({content:t.value,types:{[n.keyOfType]:"IntegrationFields"}}));t.IntegrationFieldLegacy=a,t.IntegrationFieldContent=r.strict({__TYPE__:r.literal(t.IntegrationFieldContentType),value:r.string})}(qQ)),qQ}var q0,q1,q2,q3={},q5=U8(WS,q1=function(t){return t.length>0},"NonEmptyString");function q4(t,n){void 0===n&&(n="NonEmptyArray<"+t.name+">");var r=UN(t);return new DX(n,function(t){return r.is(t)&&oU(t)},function(t,n){return D(r.validate(t,n),hV(function(r){var i=oY(r);return px(i)?DQ(t,n):ed(i.value)}))},function(t){return r.encode(t)})}function q9(t,n,r){void 0===r&&(r="Set<"+t.name+">");var i=UN(t),o=E$(n),a=ED(n);return new DX(r,function(n){return n instanceof Set&&CX(t.is)(n)},function(t,n){return D(i.validate(t,n),hV(function(r){var i=a(r);return i.size!==r.length?DQ(t,n):ed(i)}))},function(t){return i.encode(o(t))})}function q6(t,n){return new DX(t,n,function(t,r){return n(t)?ed(t):DQ(t,r)},D0)}var q8=q6("Date",function(t){return t instanceof Date}),q7=globalThis&&globalThis.__spreadArray||function(t,n,r){if(r||2===arguments.length)for(var i,o=0,a=n.length;o<a;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))},Ke=function(t,n){return{get:t,reverseGet:n}},Kt=function(t){return Ko(t.get,j(t.reverseGet,M))},Kn=function(t){return Kg(j(t.get,es),t.reverseGet)},Kr=function(t){return K_(j(t.get,es),j(t.reverseGet,M))},Ki=function(t){return Kk(function(n){return function(r){return function(i){return n.map(r(t.get(i)),function(n){return t.reverseGet(n)})}}})},Ko=function(t,n){return{get:t,set:n}},Ka=function(t){return K_(j(t.get,es),t.set)},Ku=function(t){return Kk(function(n){return function(r){return function(i){return n.map(r(t.get(i)),function(n){return t.set(n)(i)})}}})},Ks=function(t){return function(n){return Ko(function(r){return t.get(n.get(r))},function(r){return function(i){return n.set(t.set(r)(n.get(i)))(i)}})}},Kc=function(t){return function(n){return Kg(j(n.getOption,d0(t.getOption)),j(t.reverseGet,n.reverseGet))}},Kl=function(t){return function(n){return KO(Ky(t))(Ka(n))}},Kf=function(){return Ko(k,M)},Kd=function(t){return function(n){return Ko(function(r){return n.get(r)[t]},function(r){return function(i){var o,a=n.get(i);return r===a[t]?i:n.set(Object.assign({},a,((o={})[t]=r,o)))(i)}})}},Kp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return Ko(function(r){for(var i=n.get(r),o={},a=0;a<t.length;a++){var u=t[a];o[u]=i[u]}return o},function(r){return function(i){for(var o=n.get(i),a=0;a<t.length;a++){var u=t[a];if(r[u]!==o[u])return n.set(Object.assign({},o,r))(i)}return i}})}},Kh=function(t){return function(n){return Ko(function(r){return n.get(r)[t]},function(r){return function(i){var o=n.get(i);if(r===o[t])return i;var a=o.slice();return a[t]=r,n.set(a)(i)}})}},Km=function(t){return function(n){var r;return D(n,Ks(({at:r=function(t){return Ko(function(n){return rN(t,n)},p_(function(){return rR(t)},function(n){return rM(t,n)}))}}).at(t)))}},Kg=function(t,n){return{getOption:t,reverseGet:n}},Ky=function(t){return K_(t.getOption,function(n){return Kb(n)(t)})},Kv=function(t){return Kk(function(n){return function(r){return function(i){return D(t.getOption(i),p_(function(){return n.of(i)},function(o){return n.map(r(o),function(n){return Kb(n)(t)(i)})}))}}})},Kb=function(t){var n;return n=function(){return t},function(t){var r,i,o=(r=t,function(t){return D(r.getOption(t),dZ(function(i){var o=n(i);return o===i?t:r.reverseGet(o)}))});return function(t){return D(o(t),pS(function(){return t}))}}},Kx=function(t){return Kg(dk(t),k)},K_=function(t,n){return{getOption:t,set:n}},KS=function(t){return Kk(function(n){return function(r){return function(i){return D(t.getOption(i),p_(function(){return n.of(i)},function(o){return n.map(r(o),function(n){return t.set(n)(i)})}))}}})},KT=function(t){return function(n){return function(r){return D(n.getOption(r),dZ(function(i){var o=t(i);return o===i?r:n.set(o)(r)}))}}},Kw=function(t){return function(n){var r=KT(t)(n);return function(t){return D(r(t),pS(function(){return t}))}}},KO=function(t){return function(n){return K_(j(n.getOption,d0(t.getOption)),function(r){return Kw(t.set(r))(n)})}},KI=function(t,n,r){if(r[t]===n)return r;var i=q7([r[0]],r.slice(1),!0);return i[t]=n,i},Kk=function(t){return{modifyF:t}};function KM(t){return function(n){return Kk(function(r){return function(i){return n.modifyF(r)(t.modifyF(r)(i))}})}}var KC={URI:"Identity",map:function(t,n){return n(t)},of:k,ap:function(t,n){return t(n)}},KR=function(t){return{index:t}},KE=j(Kt,Ks),KA=function(t){return j(Ka,KO(t))},Kj=function(t){return j(Ku,KM(t))},KN=function(t){return function(n){return function(r){var i=n.get(r),o=t(i);return i===o?r:n.set(o)(r)}}},KP=function(t){return Kl(Kg(pE,k))(t)},KF=function(t){var n;return j(Ka,function(n){return D(n,KO(KR(function(t){return K_(function(n){return uj(t,n)},function(n){return function(r){return D(uj(t,r),p_(function(){return r},function(){return cE(t,n,r)}))}})}).index(t)))})},KL=function(t){var n;return j(Ka,function(n){return D(n,KO(KR(function(t){return K_(function(n){return uj(t,n)},function(n){return function(r){return D(uj(t,r),p_(function(){return r},function(){return KI(t,n,r)}))}})}).index(t)))})},KD=function(t){var n;return j(Ka,function(n){return D(n,KO(KR(function(t){return K_(function(n){return rN(t,n)},function(n){return function(r){return r[t]===n||px(rN(t,r))?r:rM(t,n)(r)}})}).index(t)))})},KW=Kl(Kg(k,es)),KU=Kl(Kg(dC,ed)),Kz=Kl(Kg(function(t){return h8(t)?es(t.left):eu},ef)),KB=function(t,n){return function(r){return Kq(r,t,n)}},Kq=function(t,n,r){return Ko(j(t.get,n),j(r,t.set))},KK="monocle-ts/Lens",K$={URI:KK,compose:function(t,n){return Ks(t)(n)}},KV={URI:KK,compose:K$.compose,id:Kf};let KH=Object.freeze(Object.defineProperty({__proto__:null,Category:KV,Invariant:{URI:KK,imap:Kq},Semigroupoid:K$,URI:KK,asOptional:Ka,asTraversal:Ku,atKey:Km,component:Kh,compose:Ks,composeIso:KE,composeLens:Ks,composeOptional:KA,composePrism:Kl,composeTraversal:Kj,filter:function(t){return Kl(Kx(t))},findFirst:function(t){var n;return KA(K_(uK(t),function(n){return function(r){return D(uq(t)(r),p_(function(){return r},function(t){return cE(t,n,r)}))}}))},findFirstNonEmpty:function(t){var n;return KA(K_(uK(t),function(n){return function(r){return D(uq(t)(r),p_(function(){return r},function(t){return KI(t,n,r)}))}}))},fromNullable:KP,id:Kf,imap:KB,index:KF,indexNonEmpty:KL,key:KD,left:Kz,lens:Ko,modify:KN,modifyF:function(t){return function(n){return function(r){return function(i){return D(r.get(i),n,function(n){return t.map(n,function(t){return r.set(t)(i)})})}}}},prop:Kd,props:Kp,right:KU,some:KW,traverse:function(t){var n,r;return j(Ku,KM(Kk(function(n){var r,i="Identity"===n.URI?t.map:t.traverse(n);return function(t){return function(n){return i(n,t)}}})))}},Symbol.toStringTag,{value:"Module"}));var KZ=function(t){return function(n){return n.modifyF(KC)(t)}},KJ=function(t){return new K1(t.get,t.reverseGet)},KG=function(t){return new K2(t.get,t.set)},KY=function(t){return new K3(t.getOption,t.reverseGet)},KQ=function(t){return new K4(t.getOption,t.set)},KX=function(t){return new K9(t.modifyF)},K0=function(t,n,r){var i;return r===t[n]?t:Object.assign({},t,((i={})[n]=r,i))},K1=function(){function t(t,n){this.get=t,this.reverseGet=n,this._tag="Iso",this.unwrap=this.get,this.to=this.get,this.wrap=this.reverseGet,this.from=this.reverseGet}return t.prototype.reverse=function(){var t;return KJ(Ke(this.reverseGet,this.get))},t.prototype.modify=function(t){var n,r;return r=this,function(n){return r.reverseGet(t(r.get(n)))}},t.prototype.asLens=function(){return KG(Kt(this))},t.prototype.asPrism=function(){return KY(Kn(this))},t.prototype.asOptional=function(){return KQ(Kr(this))},t.prototype.asTraversal=function(){return KX(Ki(this))},t.prototype.asFold=function(){var t=this;return new K8(function(){return function(n){return function(r){return n(t.get(r))}}})},t.prototype.asGetter=function(){var t=this;return new K6(function(n){return t.get(n)})},t.prototype.asSetter=function(){var t=this;return new K7(function(n){return t.modify(n)})},t.prototype.compose=function(t){var n,r;return KJ((r=this,Ke(j(r.get,t.get),j(t.reverseGet,r.reverseGet))))},t.prototype.composeIso=function(t){return this.compose(t)},t.prototype.composeLens=function(t){return KG(D(this,Kt,Ks(t)))},t.prototype.composePrism=function(t){return KY(D(this,Kn,Kc(t)))},t.prototype.composeOptional=function(t){return KQ(D(this,Kr,KO(t)))},t.prototype.composeTraversal=function(t){return KX(D(this,Ki,KM(t)))},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeGetter=function(t){return this.asGetter().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t}(),K2=function(){function t(t,n){this.get=t,this.set=n,this._tag="Lens"}return t.fromPath=function(){var n=t.fromProp();return function(t){var r=n(t[0]);return t.slice(1).reduce(function(t,r){return t.compose(n(r))},r)}},t.fromProp=function(){return function(t){return KG(D(Kf(),Kd(t)))}},t.fromProps=function(){return function(t){return KG(D(Kf(),Kp.apply(KH,t)))}},t.fromNullableProp=function(){return function(n,r){return new t(function(t){var i=pE(t[n]);return px(i)?r:i.value},function(t){return function(r){return K0(r,n,t)}})}},t.prototype.modify=function(t){return KN(t)(this)},t.prototype.asOptional=function(){return KQ(Ka(this))},t.prototype.asTraversal=function(){return KX(Ku(this))},t.prototype.asSetter=function(){var t=this;return new K7(function(n){return t.modify(n)})},t.prototype.asGetter=function(){var t=this;return new K6(function(n){return t.get(n)})},t.prototype.asFold=function(){var t=this;return new K8(function(){return function(n){return function(r){return n(t.get(r))}}})},t.prototype.compose=function(t){return KG(Ks(t)(this))},t.prototype.composeLens=function(t){return this.compose(t)},t.prototype.composeGetter=function(t){return this.asGetter().compose(t)},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeOptional=function(t){return KQ(D(this,Ka,KO(t)))},t.prototype.composeTraversal=function(t){return KX(D(this,Ku,KM(t)))},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeIso=function(t){return KG(D(this,Ks(D(t,Kt))))},t.prototype.composePrism=function(t){return KQ(Kl(t)(this))},t}(),K3=function(){function t(t,n){this.getOption=t,this.reverseGet=n,this._tag="Prism"}return t.fromPredicate=function(t){return KY(Kx(t))},t.some=function(){return K5},t.prototype.modify=function(t){var n=this;return function(r){var i=n.modifyOption(t)(r);return px(i)?r:i.value}},t.prototype.modifyOption=function(t){var n=this;return function(r){return pZ.map(n.getOption(r),function(i){var o=t(i);return o===i?r:n.reverseGet(o)})}},t.prototype.set=function(t){return this.modify(function(){return t})},t.prototype.asOptional=function(){return KQ(Ky(this))},t.prototype.asTraversal=function(){return KX(Kv(this))},t.prototype.asSetter=function(){var t=this;return new K7(function(n){return t.modify(n)})},t.prototype.asFold=function(){var t=this;return new K8(function(n){return function(r){return function(i){var o=t.getOption(i);return px(o)?n.empty:r(o.value)}}})},t.prototype.compose=function(t){return KY(Kc(t)(this))},t.prototype.composePrism=function(t){return this.compose(t)},t.prototype.composeOptional=function(t){return KQ(D(this,Ky,KO(t)))},t.prototype.composeTraversal=function(t){return KX(D(this,Kv,KM(t)))},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeIso=function(t){return KY(D(this,Kc(D(t,Kn))))},t.prototype.composeLens=function(t){var n;return KQ((n=t,function(t){return KO(Ka(n))(Ky(t))})(this))},t.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},t}(),K5=new K3(k,es),K4=function(){function t(t,n){this.getOption=t,this.set=n,this._tag="Optional"}return t.fromPath=function(){var n=t.fromNullableProp();return function(t){var r=n(t[0]);return t.slice(1).reduce(function(t,r){return t.compose(n(r))},r)}},t.fromNullableProp=function(){return function(n){return new t(function(t){return pE(t[n])},function(t){return function(r){return null==r[n]?r:K0(r,n,t)}})}},t.fromOptionProp=function(){var t=K2.fromProp();return function(n){return t(n).composePrism(K5)}},t.prototype.modify=function(t){return Kw(t)(this)},t.prototype.modifyOption=function(t){return KT(t)(this)},t.prototype.asTraversal=function(){return KX(KS(this))},t.prototype.asFold=function(){var t=this;return new K8(function(n){return function(r){return function(i){var o=t.getOption(i);return px(o)?n.empty:r(o.value)}}})},t.prototype.asSetter=function(){var t=this;return new K7(function(n){return t.modify(n)})},t.prototype.compose=function(t){return KQ(KO(t)(this))},t.prototype.composeOptional=function(t){return this.compose(t)},t.prototype.composeTraversal=function(t){return KX(D(this,KS,KM(t)))},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeLens=function(t){return KQ(D(this,KO(D(t,Ka))))},t.prototype.composePrism=function(t){return KQ(D(this,KO(D(t,Ky))))},t.prototype.composeIso=function(t){return KQ(D(this,KO(D(t,Kr))))},t.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},t}(),K9=function(){function t(t){this.modifyF=t,this._tag="Traversal"}return t.prototype.modify=function(t){return KZ(t)(this)},t.prototype.set=function(t){var n;return KZ(function(){return t})(this)},t.prototype.filter=function(t){var n;return KX(KM(Kv(Kx(t)))(this))},t.prototype.asFold=function(){var t=this;return new K8(function(n){return function(r){return t.modifyF(p7(n))(function(t){return k(r(t))})}})},t.prototype.asSetter=function(){var t=this;return new K7(function(n){return t.modify(n)})},t.prototype.compose=function(t){return KX(KM(t)(this))},t.prototype.composeTraversal=function(t){return this.compose(t)},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeSetter=function(t){return this.asSetter().compose(t)},t.prototype.composeOptional=function(t){return this.compose(t.asTraversal())},t.prototype.composeLens=function(t){return KX(D(this,KM(D(t,Ku))))},t.prototype.composePrism=function(t){return KX(D(this,KM(D(t,Kv))))},t.prototype.composeIso=function(t){return KX(D(this,KM(D(t,Ki))))},t.prototype.composeGetter=function(t){return this.asFold().compose(t.asFold())},t}(),K6=function(){function t(t){this.get=t,this._tag="Getter"}return t.prototype.asFold=function(){var t=this;return new K8(function(){return function(n){return function(r){return n(t.get(r))}}})},t.prototype.compose=function(n){var r=this;return new t(function(t){return n.get(r.get(t))})},t.prototype.composeGetter=function(t){return this.compose(t)},t.prototype.composeFold=function(t){return this.asFold().compose(t)},t.prototype.composeLens=function(t){return this.compose(t.asGetter())},t.prototype.composeIso=function(t){return this.compose(t.asGetter())},t.prototype.composeTraversal=function(t){return this.asFold().compose(t.asFold())},t.prototype.composeOptional=function(t){return this.asFold().compose(t.asFold())},t.prototype.composePrism=function(t){return this.asFold().compose(t.asFold())},t}(),K8=function(){function t(t){this.foldMap=t,this._tag="Fold",this.getAll=t(fy())(ar),this.exist=t(TM),this.all=t(Tk),this.foldMapFirst=t(pY())}return t.prototype.compose=function(n){var r=this;return new t(function(t){return function(i){return r.foldMap(t)(n.foldMap(t)(i))}})},t.prototype.composeFold=function(t){return this.compose(t)},t.prototype.composeGetter=function(t){return this.compose(t.asFold())},t.prototype.composeTraversal=function(t){return this.compose(t.asFold())},t.prototype.composeOptional=function(t){return this.compose(t.asFold())},t.prototype.composeLens=function(t){return this.compose(t.asFold())},t.prototype.composePrism=function(t){return this.compose(t.asFold())},t.prototype.composeIso=function(t){return this.compose(t.asFold())},t.prototype.find=function(t){return this.foldMapFirst(dk(t))},t.prototype.headOption=function(t){return this.find(function(){return!0})(t)},t}(),K7=function(){function t(t){this.modify=t,this._tag="Setter"}return t.prototype.set=function(t){return this.modify(M(t))},t.prototype.compose=function(n){var r=this;return new t(function(t){return r.modify(n.modify(t))})},t.prototype.composeSetter=function(t){return this.compose(t)},t.prototype.composeTraversal=function(t){return this.compose(t.asSetter())},t.prototype.composeOptional=function(t){return this.compose(t.asSetter())},t.prototype.composeLens=function(t){return this.compose(t.asSetter())},t.prototype.composePrism=function(t){return this.compose(t.asSetter())},t.prototype.composeIso=function(t){return this.compose(t.asSetter())},t}(),$e=new K1(k,k),$t=UH({_tag:WN("None")}),$n=WN("Some");function $r(t,n){return void 0===n&&(n="Option<"+t.name+">"),Uz([$t,UH({_tag:$n,value:t},"Some<"+t.name+">")],n)}var $i=new DX("DateFromISOString",function(t){return t instanceof Date},function(t,n){return D(WS.validate(t,n),hV(function(r){var i=new Date(r);return isNaN(i.getTime())?DQ(t,n):ed(i)}))},function(t){return t.toISOString()});function $o(t){var n=Object.create(Object.getPrototypeOf(t));return Object.assign(n,t),n}var $a=new DX("DateFromNumber",function(t){return t instanceof Date},function(t,n){return D(Ww.validate(t,n),hV(function(r){var i=new Date(r);return isNaN(i.getTime())?DQ(t,n):ed(i)}))},function(t){return t.getTime()});function $u(t,n,r){void 0===r&&(r=t.name);var i=$o(t);return i.validate=n,i.decode=function(t){return n(t,U1(i))},i.name=r,i}var $s,$c,$l,$f=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,$d=U8(WS,$c=function(t){return $f.test(t)},"UUID"),$p=new DX("BooleanFromString",WM.is,function(t,n){return D(WS.validate(t,n),hV(function(r){return"true"===r?ed(!0):"false"===r?ed(!1):DQ(t,n)}))},String);function $h(t){switch(t._tag){case"InterfaceType":return t.props;case"ExactType":return $h(t.type)}}var $m=K2.fromProp(),$g=q6("RegExp",function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}),$y=new DX("DateFromUnixTime",function(t){return t instanceof Date},function(t,n){return D(UR.validate(t,n),hV(function(r){var i=new Date(1e3*r);return isNaN(i.getTime())?DQ(t,n):ed(i)}))},function(t){return Math.floor(t.getTime()/1e3)}),$v=new DX("NumberFromString",Ww.is,function(t,n){return D(WS.validate(t,n),hV(function(r){var i=+r;return isNaN(i)||""===r.trim()?DQ(t,n):ed(i)}))},String),$b=new DX("IntFromString",UR.is,function(t,n){return D($v.validate(t,n),hV(function(r){return UR.is(r)?ed(r):DQ(t,n)}))},$v.encode),$x=UA("JsonArray",function(){return UV($S)}),$_=UA("JsonRecord",function(){return UW(WS,$S)}),$S=Uz([WM,Ww,WS,Wh,$x,$_],"Json"),$T=new DX("JsonFromString",$S.is,function(t,n){try{return ed(JSON.parse(t))}catch{return DQ(t,n)}},function(t){return JSON.stringify(t)}),$w=WN("Left"),$O=WN("Right"),$I=new DX("BigIntFromString",function(t){return"bigint"==typeof t},function(t,n){return D(WS.validate(t,n),hV(function(r){if(!q5.is(r.trim()))return DQ(t,n);try{return ed(BigInt(r))}catch{return DQ(t,n)}}))},String),$k=new DX("BooleanFromNumber",WM.is,function(t,n){return D(Ww.validate(t,n),hD(function(t){return 0!==t}))},Number);let $M=Object.freeze(Object.defineProperty({__proto__:null,BigIntFromString:$I,BooleanFromNumber:$k,BooleanFromString:$p,DateFromISOString:$i,DateFromNumber:$a,DateFromUnixTime:$y,IntFromString:$b,Json:$S,JsonArray:$x,JsonFromString:$T,JsonRecord:$_,NonEmptyString:q5,NumberFromString:$v,UUID:$d,clone:$o,date:q8,either:function(t,n,r){return void 0===r&&(r="Either<"+t.name+", "+n.name+">"),Uz([UH({_tag:$w,left:t},"Left<"+t.name+">"),UH({_tag:$O,right:n},"Right<"+t.name+">")],r)},fromNewtype:function(t,n){return void 0===n&&(n="fromNewtype("+t.name+")"),new DX(n,function(n){return t.is(n)},function(n,r){return D(t.validate(n,r),hD($e.wrap))},function(n){return t.encode($e.unwrap(n))})},fromNullable:function(t,n,r){return void 0===r&&(r="fromNullable("+t.name+")"),$u(t,function(r,i){return null==r?ed(n):t.validate(r,i)},r)},fromRefinement:q6,getLenses:function(t){var n={};for(var r in $h(t))n[r]=$m(r);return n},mapOutput:zs,nonEmptyArray:q4,option:$r,optionFromNullable:function(t,n){return void 0===n&&(n="Option<"+t.name+">"),new DX(n,$r(t).is,function(n,r){return null==n?ed(eu):D(t.validate(n,r),hD(es))},function(n){return pF(D(n,dZ(t.encode)))})},readonlyNonEmptyArray:function(t,n){return void 0===n&&(n="ReadonlyNonEmptyArray<"+t.name+">"),q4(t,n)},readonlySetFromArray:function(t,n,r){return void 0===r&&(r="ReadonlySet<"+t.name+">"),q9(t,n,r)},regexp:$g,setFromArray:q9,withEncode:function(t,n,r){return void 0===r&&(r=t.name),new DX(r,t.is,t.validate,n)},withFallback:function(t,n,r){return void 0===r&&(r="withFallback("+t.name+")"),$u(t,function(r,i){return md(function(){return ed(n)})(t.validate(r,i))},r)},withMessage:function(t,n){return $u(t,function(r,i){return h1(function(){return[{value:r,context:i,message:n(r,i),actual:r}]})(t.validate(r,i))})},withValidate:$u},Symbol.toStringTag,{value:"Module"})),$C=g($M);function $R(){return $E||($E=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LinkContent=t.Link=t.LinkContentLegacy=t.LinkLegacy=t.isLinkContent=t.LinkContentType=t.ExternalLinkContent=t.ExternalLinkType=t.DocumentLinkContent=t.DocumentLinkType=t.FileLinkContent=t.FileLinkType=t.ImageLinkContent=t.ImageLinkType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.ImageLinkType="ImageLink";let o=r.exact(r.intersection([r.type({id:r.string,url:r.string,height:r.string,width:r.string,size:r.string,name:r.string,kind:r.string}),r.partial({date:zC.StringOrNull})])),a=new r.Type("ImageLink",n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.ImageLinkType,n=>(0,L6.pipe)(o.decode(n),L3.either.map(n=>t.ImageLinkContent.encode({...n,__TYPE__:t.ImageLinkType}))),t=>o.encode(t));t.ImageLinkContent=r.intersection([r.strict({__TYPE__:r.literal(t.ImageLinkType)}),o]),t.FileLinkType="FileLink";let u=r.exact(r.intersection([r.type({id:r.string,url:r.string,name:r.string,kind:r.string,size:(0,$C.withFallback)(r.string,"0")}),r.partial({date:(0,za.nullable)(r.string)})])),s=new r.Type("FileLink",n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.FileLinkType,n=>(0,L6.pipe)(u.decode(n),L3.either.map(n=>t.FileLinkContent.encode({...n,__TYPE__:t.FileLinkType}))),t=>u.encode(t));t.FileLinkContent=r.intersection([u,r.exact(r.intersection([r.type({__TYPE__:r.literal(t.FileLinkType)}),r.partial({size:(0,$C.withFallback)(r.string,"0")})]))]),t.DocumentLinkType="DocumentLink";let c=r.strict({id:zC.NonEmptyString}),l=new r.Type("DocumentLink",n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.DocumentLinkType,n=>(0,L6.pipe)(c.decode(n),L3.either.map(n=>t.DocumentLinkContent.encode({...n,__TYPE__:t.DocumentLinkType}))),t=>c.encode(t));t.DocumentLinkContent=r.intersection([r.strict({__TYPE__:r.literal(t.DocumentLinkType)}),c]),t.ExternalLinkType="ExternalLink";let f=r.exact(r.intersection([r.type({url:r.string}),r.partial({kind:r.literal("web"),target:zC.StringOrNull,preview:(0,za.nullable)(r.partial({title:r.string}))})])),d=new r.Type("ExternalLink",n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.ExternalLinkType,n=>(0,L6.pipe)(f.decode(n),L3.either.map(n=>t.ExternalLinkContent.encode({...n,__TYPE__:t.ExternalLinkType}))),t=>f.encode(t));t.ExternalLinkContent=r.intersection([r.strict({__TYPE__:r.literal(t.ExternalLinkType)}),f]),t.LinkContentType="LinkContent";let p=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.LinkContentType;t.isLinkContent=p,t.LinkLegacy=r.union([a,s,l,d]);let h=n=>new r.Type("LinkLegacy",t.isLinkContent,n=>(0,L6.pipe)(t.LinkLegacy.decode(n),L3.either.map(n=>t.LinkContent.encode({value:n,__TYPE__:t.LinkContentType}))),r=>({content:t.LinkLegacy.encode(r.value),types:{[n.keyOfType]:"Link"}}));t.LinkContentLegacy=h,t.Link=r.union([t.ImageLinkContent,t.FileLinkContent,t.DocumentLinkContent,t.ExternalLinkContent]),t.LinkContent=r.strict({__TYPE__:r.literal(t.LinkContentType),value:t.Link})}(q3)),q3}var $E,$A,$j={},$N={},$P={};function $F(){return $A||($A=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Block=t.BlockLegacy=t.TextBlock=t.checkEmbedBlock=t.EmbedBlock=t.checkImageBlock=t.ImageBlock=t.ValidatedMetas=t.Span=t.Meta=void 0;let n=oS,r=(0,n.__importStar)(zr),i=qm(),o=qJ(),a=$R();t.Meta=r.exact(r.intersection([r.partial({data:r.unknown}),r.type({start:r.number,end:r.number,type:r.union([BV.RichTextNodeTypeCodec,r.literal("label")])})])),t.Span=t.Meta;let u=n=>new r.Type("ValidatedMetas",n=>Array.isArray(n)&&n.every(t.Meta.is),(i,o)=>{if(!Array.isArray(i))return r.failure(i,o);{let a=i.reduce((r,i)=>{let o=t.Meta.decode(i);if((0,L5.isRight)(o)){let a=o.right;if(a.data&&"hyperlink"===a.type){let u=n.decode(a.data);return(0,L5.isLeft)(u)?r:[...r,{...a,data:u.right}]}if("hyperlink"!==a.type)return[...r,a]}return r},[]).sort((t,n)=>t.start-n.start);return r.success(a)}},r=>r.reduce((r,i)=>{if("hyperlink"===i.type&&i.data){let o=n.decode(i.data);return(0,L5.isLeft)(o)?r:[...r,{...i,data:n.encode(o.right)}]}return[...r,t.Meta.encode(i)]},[]));t.ValidatedMetas=u;let s=t=>r.exact(r.intersection([r.type({type:r.literal(BV.RichTextNodeType.image),data:r.intersection([o.ImageContentView,r.partial({linkTo:(0,za.nullable)(t)})])}),r.partial({label:zC.StringOrNull,direction:zC.StringOrNull})]));t.ImageBlock=s(a.Link);let c=s(a.LinkLegacy);t.checkImageBlock=function(t){return t.type===BV.RichTextNodeType.image};let l=r.exact(r.intersection([r.type({type:r.literal(BV.RichTextNodeType.embed),data:r.unknown}),r.partial({label:zC.StringOrNull,direction:zC.StringOrNull})])),f=new r.Type("EmbedBlockLegacy",t=>"embed"===t.type,n=>(0,L6.pipe)(l.decode(n),L3.either.chain(t=>L3.either.map(n=>[t,n])(i.EmbedContentLegacy.decode(t.data))),L3.either.map(([n,r])=>t.EmbedBlock.encode({...n,data:{...r,__TYPE__:i.EmbedContentType,all:n.data}}))),t=>({...l.encode(t),data:i.EmbedContentLegacy.encode(t.data)}));t.EmbedBlock=r.exact(r.intersection([r.type({type:r.literal(BV.RichTextNodeType.embed),data:i.EmbedContent}),r.partial({label:zC.StringOrNull,direction:zC.StringOrNull})])),t.checkEmbedBlock=function(t){return t.type===BV.RichTextNodeType.embed};let d=n=>r.exact(r.intersection([r.type({type:(0,za.refineType)(BV.RichTextNodeTypeCodec,`string which isn't ${BV.RichTextNodeType.image} ${BV.RichTextNodeType.embed}`,t=>t!==BV.RichTextNodeType.image&&t!==BV.RichTextNodeType.embed),content:r.intersection([r.type({text:r.string}),r.partial({spans:(0,t.ValidatedMetas)(n)})])}),r.partial({label:r.string,direction:r.string})]));t.TextBlock=d(a.Link);let p=d(a.LinkLegacy),h=r.union([f,c,p]);t.BlockLegacy=new r.Type("BlockLegacy",t=>f.is(t)||c.is(t)||p.is(t),t=>h.decode(t),n=>t.ImageBlock.is(n)?c.encode(n):t.EmbedBlock.is(n)?f.encode(n):p.encode(n)),t.Block=r.union([t.ImageBlock,t.EmbedBlock,t.TextBlock])}($P)),$P}function $L(){return $D||($D=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextLegacy=t.RichTextContent=t.isRichTextContent=t.RichTextContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT(),o=$F();t.RichTextContentType="StructuredTextContent";let a=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.RichTextContentType;t.isRichTextContent=a;let u=r.array(o.BlockLegacy);t.RichTextContent=r.strict({__TYPE__:r.literal(t.RichTextContentType),value:r.array(o.Block)}),(0,n.__exportStar)($F(),t);let s=n=>new r.Type("RichTextLegacy",t.isRichTextContent,n=>(0,L6.pipe)(u.decode(n),L3.either.map(n=>({value:n,__TYPE__:t.RichTextContentType}))),t=>({content:u.encode(t.value),types:{[n.keyOfType]:"StructuredText"}}));t.RichTextLegacy=s}($N)),$N}var $D,$W,$U={};function $z(){return $W||($W=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SeparatorContent=t.SeparatorLegacy=t.isSeparatorContent=t.SeparatorContentType=void 0;let n=(0,oS.__importStar)(zr),r=zT();t.SeparatorContentType="SeparatorContent";let i=n=>(0,r.hasContentType)(n)&&n.__TYPE__===t.SeparatorContentType;t.isSeparatorContent=i;let o=r=>new n.Type("SeparatorLegacy",t.isSeparatorContent,()=>n.success(t.SeparatorContent.encode({__TYPE__:t.SeparatorContentType})),()=>({content:{},types:{[r.keyOfType]:"Separator"}}));t.SeparatorLegacy=o,t.SeparatorContent=n.strict({__TYPE__:n.literal(t.SeparatorContentType)})}($U)),$U}function $B(){return $$||($$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(qd(),t),(0,n.__exportStar)(qm(),t),(0,n.__exportStar)(qB(),t),(0,n.__exportStar)(qV(),t),(0,n.__exportStar)(qJ(),t),(0,n.__exportStar)(qX(),t),(0,n.__exportStar)($R(),t),(0,n.__exportStar)(function(){if($K)return $j;$K=1,Object.defineProperty($j,"__esModule",{value:!0}),$j.NestableLegacy=$j.isNestableContent=$j.NestableContent=void 0;let t=oS,n=(0,t.__importStar)(zr),r=zw(),i=qd(),o=qm(),a=qB(),u=qV(),s=qJ(),c=qX(),l=$R(),f=$L(),d=$z();$j.NestableContent=n.union([r.EmptyContent,i.BooleanContent,o.EmbedContent,a.TextContent,a.TimestampContent,a.SelectContent,a.RangeContent,a.NumberContent,a.DateContent,a.ColorContent,u.GeoPointContent,s.ImageContent,c.IntegrationFieldContent,l.LinkContent,f.RichTextContent,d.SeparatorContent]);let p=t=>(0,a.isTextContent)(t)||(0,a.isColorContent)(t)||(0,a.isDateContent)(t)||(0,a.isTimestampContent)(t)||(0,a.isNumberContent)(t)||(0,a.isRangeContent)(t)||(0,a.isSelectContent)(t)||(0,u.isGeoPointContent)(t)||(0,f.isRichTextContent)(t)||(0,i.isBooleanContent)(t)||(0,o.isEmbedContent)(t)||(0,s.isImageContent)(t)||(0,c.isIntegrationFieldContent)(t)||(0,l.isLinkContent)(t)||(0,d.isSeparatorContent)(t)||(0,r.isEmptyContent)(t);$j.isNestableContent=p;let h=t=>({decode(n){if(!t.fieldType)return;let p=(0,r.EmptyLegacy)(t.fieldType).decode(n);if((0,L5.isRight)(p))return p;let h=(()=>{switch(t.fieldType){case"Text":return(0,a.TextLegacy)(t);case"Color":return(0,a.ColorLegacy)(t);case"Date":return(0,a.DateLegacy)(t);case"Timestamp":return(0,a.TimestampLegacy)(t);case"Number":return(0,a.NumberLegacy)(t);case"Range":return(0,a.RangeLegacy)(t);case"Select":return(0,a.SelectLegacy)(t);case"GeoPoint":return(0,u.GeoPointLegacy)(t);case"StructuredText":return(0,f.RichTextLegacy)(t);case"Boolean":return(0,i.BooleanLegacy)(t);case"Embed":return(0,o.EmbedLegacy)(t);case"Image":return(0,s.ImageLegacy)(t);case"IntegrationFields":return(0,c.IntegrationFieldLegacy)(t);case"Link":return(0,l.LinkContentLegacy)(t);case"Separator":return(0,d.SeparatorLegacy)(t);default:return}})();if(h)return h.decode(n)},encode(n){switch(n.__TYPE__){case q_.FieldContentType:return"Text"===n.type?(0,a.TextLegacy)(t).encode(n):"Color"===n.type?(0,a.ColorLegacy)(t).encode(n):"Range"===n.type?(0,a.RangeLegacy)(t).encode(n):"Date"===n.type?(0,a.DateLegacy)(t).encode(n):"Number"===n.type?(0,a.NumberLegacy)(t).encode(n):"Timestamp"===n.type?(0,a.TimestampLegacy)(t).encode(n):"Select"===n.type?(0,a.SelectLegacy)(t).encode(n):void 0;case u.GeoPointContentType:return(0,u.GeoPointLegacy)(t).encode(n);case f.RichTextContentType:return(0,f.RichTextLegacy)(t).encode(n);case o.EmbedContentType:return(0,o.EmbedLegacy)(t).encode(n);case i.BooleanContentType:return(0,i.BooleanLegacy)(t).encode(n);case s.ImageContentType:return(0,s.ImageLegacy)(t).encode(n);case c.IntegrationFieldContentType:return(0,c.IntegrationFieldLegacy)(t).encode(n);case l.LinkContentType:return(0,l.LinkContentLegacy)(t).encode(n);case d.SeparatorContentType:return(0,d.SeparatorLegacy)(t).encode(n);default:return}}});return $j.NestableLegacy=h,$j}(),t),(0,n.__exportStar)($L(),t),(0,n.__exportStar)($z(),t)}(ql)),ql}function $q(){return $V||($V=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GroupContent=t.isGroupContent=t.GroupContentType=t.GroupLegacy=t.GroupItemLegacy=t.GroupItemContent=t.GroupItemContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT(),o=$B();t.GroupItemContentType="GroupItemContent",t.GroupItemContent=r.strict({__TYPE__:r.literal(t.GroupItemContentType),value:r.array(r.tuple([r.string,o.NestableContent]))});let a=r.record(r.string,r.unknown),u=n=>new r.Type("GroupItemLegacy",n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.GroupItemContentType,r=>(0,L6.pipe)(a.decode(r),L3.either.map(r=>({value:Object.entries(r).reduce((t,[r,i])=>{let a=(0,zI.getFieldCtx)(r,n),u=(0,o.NestableLegacy)(a).decode(i);return!u||(0,L5.isLeft)(u)?t:[...t,[r,u.right]]},[]),__TYPE__:t.GroupItemContentType}))),t=>t.value.reduce((t,[r,i])=>{let a=(0,zI.getFieldCtx)(r,n),u=(0,o.NestableLegacy)(a).encode(i);return u?{content:{...t.content,[r]:u.content},types:{...t.types,...u.types}}:t},{content:{},types:{}}));t.GroupItemLegacy=u;let s=n=>{let i=r.array(r.union([r.null,(0,t.GroupItemLegacy)(n)])),o=r.array((0,t.GroupItemLegacy)(n));return new r.Type("GroupLegacy",t.isGroupContent,n=>(0,L6.pipe)(i.decode(n),L3.either.map(n=>({value:n.map(n=>null===n?{__TYPE__:t.GroupItemContentType,value:[]}:n),__TYPE__:t.GroupContentType}))),t=>{let r=o.encode(t.value);return{content:r.map(t=>t.content),types:r.reduce((t,n)=>({...t,...n.types}),{[n.keyOfType]:"Group"})}})};t.GroupLegacy=s,t.GroupContentType="GroupContentType";let c=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.GroupContentType;t.isGroupContent=c,t.GroupContent=r.strict({__TYPE__:r.literal(t.GroupContentType),value:r.array(t.GroupItemContent)})}(zO)),zO}var $K,$$,$V,$H,$Z={},$J={},$G={},$Y={};function $Q(){if($H)return $Y;$H=1,Object.defineProperty($Y,"__esModule",{value:!0}),$Y.RepeatableWidgets=$Y.RepeatableWidgetsLegacy=void 0;let t=(0,oS.__importStar)(zr),n=$q(),r=$B(),i=r=>t.array((0,n.GroupItemLegacy)(r));$Y.RepeatableWidgetsLegacy=i;let o=t.tuple([t.string,r.NestableContent]),a=t.strict({__TYPE__:t.literal(n.GroupItemContentType),value:t.array(o)});return t.array(o),$Y.RepeatableWidgets=t.array(a),$Y}function $X(){return $0||($0=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeSliceContent=t.CompositeSliceLegacy=t.isCompositeSliceContent=t.CompositeSliceContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT(),o=$B(),a=$Q();t.CompositeSliceContentType="CompositeSliceContent";let u=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.CompositeSliceContentType;t.isCompositeSliceContent=u;let s=r.exact(r.partial({repeat:r.array(r.unknown),"non-repeat":r.UnknownRecord})),c=n=>new r.Type("CompositeSliceLegacy",t.isCompositeSliceContent,r=>(0,L6.pipe)(s.decode(r),L3.either.map(r=>{let i=(()=>{let t=(0,zI.getFieldCtx)("repeat",n),i=(0,a.RepeatableWidgetsLegacy)(t).decode(r.repeat);if(!(!i||(0,L5.isLeft)(i)))return i.right})()||[];return{nonRepeat:Object.entries(r["non-repeat"]||{}).reduce((t,[r,i])=>{let a=(0,zI.getFieldCtx)(r,n,["non-repeat"]);if(!a)return t;let u=(0,o.NestableLegacy)(a).decode(i);return!u||(0,L5.isLeft)(u)?t:{...t,[r]:u.right}},{}),repeat:i,__TYPE__:t.CompositeSliceContentType}})),t=>{let r=Object.entries(t.nonRepeat).reduce((t,[r,i])=>{let a=(0,zI.getFieldCtx)(r,n,["non-repeat"]),u=(0,o.NestableLegacy)(a).encode(i);return u?{content:{...t.content,[r]:u.content},types:{...t.types,...u.types}}:t},{content:{},types:{}}),i=(()=>{let r=(0,zI.getFieldCtx)("repeat",n);return(0,a.RepeatableWidgetsLegacy)(r).encode(t.repeat)})()||[];return{content:{"non-repeat":r.content,repeat:i.map(t=>t.content)},types:{[n.keyOfType]:"Slice",...r.types,...i.reduce((t,n)=>({...t,...n.types}),{})}}});t.CompositeSliceLegacy=c,t.CompositeSliceContent=r.strict({__TYPE__:r.literal(t.CompositeSliceContentType),nonRepeat:r.record(r.string,o.NestableContent),repeat:a.RepeatableWidgets})}($G)),$G}var $0,$1,$2={};function $3(){return $1||($1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SharedSliceContent=t.SharedSliceLegacy=t.isSharedSliceContent=t.SharedSliceContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT(),o=$B(),a=$Q();t.SharedSliceContentType="SharedSliceContent";let u=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.SharedSliceContentType;t.isSharedSliceContent=u;let s=r.exact(r.type({variation:r.string,items:(0,$C.withFallback)(r.array(r.unknown),[]),primary:(0,$C.withFallback)(r.UnknownRecord,{})})),c=n=>new r.Type("SharedSliceLegacy",t.isSharedSliceContent,r=>(0,L6.pipe)(s.decode(r),L3.either.map(r=>{let i=(()=>{let t=(0,zI.getFieldCtx)("items",n,["variations",r.variation]),i=(0,a.RepeatableWidgetsLegacy)(t).decode(r.items);if(!(!i||(0,L5.isLeft)(i)))return i.right})()||[],u=Object.entries(r.primary).reduce((t,[i,a])=>{let u=(0,zI.getFieldCtx)(i,n,["variations",r.variation,"primary"]),s=(0,o.NestableLegacy)(u).decode(a);return!s||(0,L5.isLeft)(s)?t:{...t,[i]:s.right}},{});return{variation:r.variation,primary:u,items:i,__TYPE__:t.SharedSliceContentType}})),t=>{let r=Object.entries(t.primary).reduce((r,[i,a])=>{let u=(0,zI.getFieldCtx)(i,n,["variations",t.variation,"primary"]),s=(0,o.NestableLegacy)(u).encode(a);return s?{content:{...r.content,[i]:s.content},types:{...r.types,...s.types}}:r},{content:{},types:{}}),i=(()=>{let r=(0,zI.getFieldCtx)("items",n,["variations",t.variation]);return(0,a.RepeatableWidgetsLegacy)(r).encode(t.items)})()||[];return{content:{primary:r.content,items:i.map(t=>t.content),variation:t.variation},types:{[n.keyOfType]:"SharedSlice",...r.types,...i.reduce((t,n)=>({...t,...n.types}),{})}}});t.SharedSliceLegacy=c,t.SharedSliceContent=r.strict({__TYPE__:r.literal(t.SharedSliceContentType),variation:r.string,primary:r.record(r.string,o.NestableContent),items:a.RepeatableWidgets})}($2)),$2}var $5,$4={};function $9(){if($5)return $4;$5=1,Object.defineProperty($4,"__esModule",{value:!0}),$4.SimpleSliceLegacy=$4.isSimpleSliceContent=$4.SimpleSliceContent=void 0;let t=(0,oS.__importStar)(zr),n=$q(),r=$B();$4.SimpleSliceContent=t.union([r.NestableContent,n.GroupContent]);let i=t=>(0,r.isNestableContent)(t)||(0,n.isGroupContent)(t);$4.isSimpleSliceContent=i;let o=t=>({decode:"Group"===t.fieldType?(0,n.GroupLegacy)(t).decode.bind(null):(0,r.NestableLegacy)(t).decode.bind(null),encode:i=>"GroupContentType"===i.__TYPE__?(0,n.GroupLegacy)(t).encode(i):(0,r.NestableLegacy)(t).encode(i)});return $4.SimpleSliceLegacy=o,$4}function $6(){return $8||($8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SliceContent=t.SliceLegacy=void 0;let n=oS,r=(0,n.__importStar)(zr),i=$X(),o=$3(),a=$9(),u=t=>({decode:n=>(()=>{switch(t.fieldType){case"Slice":return(0,i.CompositeSliceLegacy)(t);case"SharedSlice":return(0,o.SharedSliceLegacy)(t);default:return(0,a.SimpleSliceLegacy)(t)}})().decode(n),encode(n){switch(n.__TYPE__){case"SharedSliceContent":return(0,o.SharedSliceLegacy)(t).encode(n);case"CompositeSliceContent":return(0,i.CompositeSliceLegacy)(t).encode(n);default:return(0,a.SimpleSliceLegacy)(t).encode(n)}}});t.SliceLegacy=u,t.SliceContent=r.union([i.CompositeSliceContent,o.SharedSliceContent,a.SimpleSliceContent]),(0,n.__exportStar)($X(),t),(0,n.__exportStar)($3(),t),(0,n.__exportStar)($9(),t)}($J)),$J}var $8,$7,Ve={};function Vt(){if($7)return Ve;$7=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.SlicesItemLegacy=Ve.SliceItemContent=void 0;let t=oS,n=(0,t.__importStar)(zr),r=$6(),i=$X(),o=$3(),a=$9();Ve.SliceItemContent=n.type({key:n.string,name:n.string,maybeLabel:n.union([n.string,n.undefined]),widget:r.SliceContent});let u=n.exact(n.intersection([n.type({key:n.string,value:n.unknown}),n.partial({label:(0,za.nullable)(n.string)})])),s=t=>new n.Type("SlicesItemLegacy",t=>((0,o.isSharedSliceContent)(t.widget),(0,i.isCompositeSliceContent)(t.widget),(0,a.isSimpleSliceContent)(t.widget)),(i,o)=>(0,L6.pipe)(u.decode(i),L3.either.chain(a=>{var u;let s=a.key.indexOf("$"),c=a.key.substring(0,s>0?s:void 0),l=(0,zI.getFieldCtx)(c,t),f=(0,r.SliceLegacy)(l).decode(a.value);return!f||(0,L5.isLeft)(f)?n.failure(i,o):n.success({key:a.key,name:c,maybeLabel:null!==(u=a.label)&&void 0!==u?u:void 0,widget:f.right})})),n=>{let i=(0,zI.getFieldCtx)(n.name,t),o=(0,r.SliceLegacy)(i).encode(n.widget);return{content:{key:n.key,label:n.maybeLabel,value:(null==o?void 0:o.content)||{}},types:(null==o?void 0:o.types)||{}}});return Ve.SlicesItemLegacy=s,Ve}var Vn,Vr={};function Vi(){return Vo||(Vo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)($6(),t),(0,n.__exportStar)(Vt(),t),(0,n.__exportStar)((Vn||(Vn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SlicesContent=t.SlicesLegacy=t.isSlicesContent=t.SlicesContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT(),o=Vt();t.SlicesContentType="SliceContentType";let a=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.SlicesContentType;t.isSlicesContent=a;let u=n=>{let i=r.array((0,o.SlicesItemLegacy)(n));return new r.Type("SlicesLegacy",t.isSlicesContent,n=>(0,L6.pipe)(i.decode(n),L3.either.map(n=>({__TYPE__:t.SlicesContentType,value:n}))),t=>{let r=i.encode(t.value);return{content:r.map(t=>t.content),types:r.reduce((t,n)=>({...t,...n.types}),{[n.keyOfType]:"Slices"})}})};t.SlicesLegacy=u,t.SlicesContent=r.type({__TYPE__:r.literal(t.SlicesContentType),value:r.array(o.SliceItemContent)})}(Vr)),Vr),t)}($Z)),$Z}var Vo,Va,Vu={};function Vs(){return Va||(Va=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UIDContent=t.UIDLegacy=t.isUIDContent=t.UIDContentType=void 0;let n=oS,r=(0,n.__importStar)(zr),i=zT();t.UIDContentType="UIDContent";let o=n=>(0,i.hasContentType)(n)&&n.__TYPE__===t.UIDContentType;t.isUIDContent=o;let a=n=>new r.Type("UIDLegacy",t.isUIDContent,n=>(0,L6.pipe)(r.string.decode(n),L3.either.map(n=>t.UIDContent.encode({value:n,__TYPE__:t.UIDContentType}))),t=>({content:t.value,types:{[n.keyOfType]:"UID"}}));t.UIDLegacy=a,t.UIDContent=r.type({__TYPE__:r.literal(t.UIDContentType),value:r.string})}(Vu)),Vu}var Vc,Vl={};function Vf(){return i||(i=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(zw(),t),(0,n.__exportStar)($q(),t),(0,n.__exportStar)($B(),t),(0,n.__exportStar)(Vi(),t),(0,n.__exportStar)(Vs(),t),(0,n.__exportStar)(function(){if(Vc)return Vl;Vc=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.WidgetLegacy=Vl.isWidgetContent=Vl.WidgetContent=void 0;let t=(0,oS.__importStar)(zr),n=$q(),r=$B(),i=Vi(),o=Vs();Vl.WidgetContent=t.union([n.GroupContent,r.NestableContent,o.UIDContent,i.SlicesContent]);let a=t=>(0,n.isGroupContent)(t)||(0,r.isNestableContent)(t)||(0,o.isUIDContent)(t)||(0,i.isSlicesContent)(t);Vl.isWidgetContent=a;let u=t=>({decode(a){if(!t.fieldType)return;let u=(()=>{switch(t.fieldType){case"UID":return(0,o.UIDLegacy)(t);case"Group":return(0,n.GroupLegacy)(t);case"Choice":case"Slices":return(0,i.SlicesLegacy)(t);default:return(0,r.NestableLegacy)(t)}})();if(u)return u.decode(a)},encode(a){switch(a.__TYPE__){case o.UIDContentType:return(0,o.UIDLegacy)(t).encode(a);case n.GroupContentType:return(0,n.GroupLegacy)(t).encode(a);case i.SlicesContentType:return(0,i.SlicesLegacy)(t).encode(a);default:return(0,r.NestableLegacy)(t).encode(a)}}});return Vl.WidgetLegacy=u,Vl}(),t)}(zx)),zx}Object.defineProperty(oT,"__esModule",{value:!0}),oT.DocumentLegacy=oT.Document=void 0;let Vd=oS,Vp=(0,Vd.__importStar)(zr),Vh=Vf();oT.Document=Vp.record(zi.WidgetKey,Vh.WidgetContent);let Vm=Vp.record(zi.WidgetKey,Vp.unknown),Vg=t=>new Vp.Type("Document",t=>!!t&&"object"==typeof t,n=>(0,L6.pipe)(Vm.decode(n),L3.either.map(n=>Object.entries(n).reduce((n,[r,i])=>{let o=(0,zI.defaultCtx)(r,t),a=(0,Vh.WidgetLegacy)(o).decode(i);return!a||(0,L5.isLeft)(a)?n:{...n,[r]:a.right}},{}))),n=>Object.entries(n).reduce((n,[r,i])=>{let o=(0,zI.defaultCtx)(r,t),a=(0,Vh.WidgetLegacy)(o).encode(i);return a?{content:{...n.content,[r]:a.content},types:{...n.types,...a.types}}:n},{content:{},types:{}}));function Vy(t){let n=Object.entries(t),{types:r,widgets:i}=n.reduce((t,[n,r])=>{if(n.endsWith("_TYPE")){let i=zI.FieldOrSliceType.decode(r);if((0,L5.isRight)(i))return{...t,types:t.types.set(n.substring(0,n.length-5),i.right)}}return n.endsWith("_POSITION")||n.endsWith("_TYPE")?t:{...t,widgets:{...t.widgets,[n]:r}}},{types:new Map,widgets:{}}),o=t.slugs_INTERNAL||[],a=t.uid;return{widgets:i,types:r,uid:a,slugs:o}}function Vv(t){let n=(0,c.useRef)(t);return(0,c.useLayoutEffect)(()=>{n.current=t}),(0,c.useMemo)(()=>(...t)=>{var r;return null==(r=n.current)?void 0:r.call(n,...t)},[])}function Vb(){let[t,n]=(0,c.useState)({});return(0,c.useCallback)(()=>n({}),[])}function Vx(t,n,r){(0,c.useEffect)(()=>{let i=setTimeout(()=>r(t),n);return()=>clearTimeout(i)},[r,n,t])}function V_(t){var n;return(null==(n=t.config)?void 0:n.label)??("Boolean"===t.type||"Separator"===t.type?void 0:t.fieldset)??t.type}function VS(t,n){var r,i,o;return"Boolean"===t.type?(n?null==(r=t.config)?void 0:r.placeholder_true:null==(i=t.config)?void 0:i.placeholder_false)??"...":"GeoPoint"===t.type?"TODO":(null==(o=t.config)?void 0:o.placeholder)??"..."}oT.DocumentLegacy={_codec:Vg,extractMetadata:Vy,parse:function(t){let n=(0,L6.pipe)(Vp.record(zi.WidgetKey,Vp.unknown).decode(t),L3.either.chain(t=>{let{types:n,widgets:r}=Vy(t);return Vg(n).decode(r)}));return(0,L5.isLeft)(n)?void 0:n.right},encode:function(t){let n=Vg().encode(t);return{...n.content,...n.types}}},function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(oT,t),(0,n.__exportStar)(Vf(),t),(0,n.__exportStar)(zI,t)}(o_);let VT=({content:t,field:n,id:r,onContentChange:i,readOnly:o})=>{var a;let u=(null==t?void 0:t.value)??(null==(a=n.config)?void 0:a.default_value)??!1;return v.jsxs(l.gN,{children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"toggleOff"})}),v.jsx(l.Qy,{htmlFor:r,children:V_(n)}),v.jsxs(l.JO,{children:[v.jsx(l.xv,{children:VS(n,u)}),v.jsx(l.rs,{checked:u,id:r,onCheckedChange(t){var n;o||i((n=t,{__TYPE__:"BooleanContent",value:n}))}})]})]})},Vw=t=>void 0===t?void 0:{__TYPE__:"FieldContent",type:"Color",value:t},VO=({id:t,field:n,content:r,onContentChange:i})=>v.jsxs(l.gN,{children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"colorLens"})}),v.jsx(l.Qy,{id:t,children:V_(n)}),v.jsx(l.JO,{children:v.jsx(v.Fragment,{children:v.jsx(l.xu,{padding:{left:4},alignItems:"center",children:v.jsx(l.TC,{onValueChange:t=>i(Vw(t)),value:null==r?void 0:r.value,"aria-labelledby":t,placeholder:VS(n)})})})})]}),VI=t=>void 0===t?void 0:{__TYPE__:"FieldContent",type:"Date",value:t},Vk=({id:t,readOnly:n,field:r,content:i,onContentChange:o})=>v.jsxs(l.gN,{children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"dateRange"})}),v.jsx(l.Qy,{id:t,children:V_(r)}),v.jsx(l.JO,{children:v.jsx(v.Fragment,{children:v.jsx(l.xu,{padding:{left:4,right:12},width:"100%",flexDirection:"column",justifyContent:"center",children:v.jsx(l.Wr,{mode:"date","aria-labelledby":t,readOnly:n,value:null==i?void 0:i.value,onValueChange:t=>o(VI(t))})})})})]});function VM(t){return null!=t}async function VC(t,n){let{okType:r,signal:i,headers:o,body:a,timeout:u=1e4,...s}=n,c=new Headers(o);c.has("Content-Type")||c.set("Content-Type","application/json"),"multipart/form-data"===c.get("Content-Type")&&c.delete("Content-Type");let l=VE();l&&c.set("Authorization",`Bearer ${l}`);let f="application/json"===c.get("Content-Type")?JSON.stringify(a):a,d=!1;try{let p=new AbortController,h=function(t){let n=new AbortController;function r(){for(let i of(n.abort(),t))i.removeEventListener("abort",r)}for(let i of t){if(i.aborted){r();break}i.addEventListener("abort",r)}return n.signal}([p.signal,i].filter(VM));setTimeout(()=>{d=!0,p.abort()},u);let m=await fetch(t,{...s,body:f,headers:c,signal:h}),{status:g}=m,y=m.clone(),v=await m.json().catch(t=>y.text());if(m.ok){let b=r.safeParse(v);if(!b.success)throw new VR({type:"validation",status:g,cause:b.error});return b.data}throw new VR({type:"http",status:g,body:v})}catch(S){var x,_;throw(x=S,x instanceof VR)?S:new VR((_=S,_ instanceof DOMException&&"AbortError"===_.name)?{type:d?"timeout":"abort"}:{type:"unknown",cause:S})}}class VR extends Error{constructor(t){super(JSON.stringify(t,null,2)),this.detail=t,this.name="RequestError"}}let VE=()=>"",VA=t=>"dev"===t?"same-origin":"include";function Vj(t,n){(function(t,n){let r=Vb();(0,c.useEffect)(()=>{let i=VP.getFetcherConfig(t).revalidationStrategy;if((null==i?void 0:i.type)!=="never"&&null!=i&&i.onFocus)return document.addEventListener("visibilitychange",o),()=>document.removeEventListener("visibilitychange",o);function o(){if("hidden"===document.visibilityState)return;let i=VP.get(t,n);if(!i||"fetched"!==i.state)return;let o=t(...n);i.ok?VP.set(t,n,{state:"revalidating",promise:o,ok:!0,body:i.body}):VP.set(t,n,{state:"revalidating",promise:o,ok:!1,error:i.error}),VN(t,n,o).then(r).catch(t=>console.error(t))}})})(t,n),function(t,n){let r=Vb(),i=VF(t,n);(0,c.useEffect)(()=>{function n(n,o){if(t!==n)return;let a=VF(t,o);i===a&&r()}return VL.push(n),()=>{let t=VL.indexOf(n);VL.splice(t,1)}},[t,r,i])}(t,n),function(t,n){let r=(0,c.useContext)(VD);if(!r){console.warn("It is not recommended to use editor-support->Suspense without a editor-ui->ErrorBoundary above it.");return}r.registerRequest(t,n)}(t,n);let r=VP.get(t,n);if(!r){let i=t(...n);throw VP.set(t,n,{state:"fetching",promise:i}),VN(t,n,i).catch(t=>console.error(t)),i}if("fetching"===r.state)throw r.promise;if(r.ok)return r.body;throw r.error}function VN(t,n,r){return r.then(r=>VP.set(t,n,{state:"fetched",ok:!0,body:r})).catch(r=>VP.set(t,n,{state:"fetched",ok:!1,error:r}))}let VP=function(){let t=new Map,n=new Map,r={cacheCapacity:500,revalidationStrategy:{type:"swr",onFocus:!0}};function i(n){return t.get(n)??r}return{get(t,r){let i=VF(t,r),o=n.get(t);if(!o||!o.has(i))return;let a=o.get(i);return o.delete(i),void 0!==a&&o.set(i,a),a},set(t,r,o){let a=n.get(t);a||(a=new Map,n.set(t,a));let u=i(t),s=VF(t,r);a.size!==u.cacheCapacity||a.has(s)||a.delete(a.keys().next().value),a.set(s,o)},getFetcherConfig:i,registerFetcherConfig(n,r){t.set(n,r)},clear(t,r){let i=n.get(t);if(!i)return;let o=VF(t,r);i.delete(o)},clearAll(){n.clear()}}}();function VF(t,n){let r=t.length-n.length;if(0===r)return n.join(`
`);let i=[...n];for(let o=0;o<r;o++)i.push(void 0);return i.join(`
`)}let VL=[],VD=(0,c.createContext)(void 0);function VW(t){try{return new URL(t)}catch{return}}(erP=o||(o={})).assertEqual=t=>t,erP.assertIs=function(t){},erP.assertNever=function(t){throw Error()},erP.arrayToEnum=t=>{let n={};for(let r of t)n[r]=r;return n},erP.getValidEnumValues=t=>{let n=erP.objectKeys(t).filter(n=>"number"!=typeof t[t[n]]),r={};for(let i of n)r[i]=t[i];return erP.objectValues(r)},erP.objectValues=t=>erP.objectKeys(t).map(function(n){return t[n]}),erP.objectKeys="function"==typeof Object.keys?t=>Object.keys(t):t=>{let n=[];for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(r);return n},erP.find=(t,n)=>{for(let r of t)if(n(r))return r},erP.isInteger="function"==typeof Number.isInteger?t=>Number.isInteger(t):t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t,erP.joinValues=function(t,n=" | "){return t.map(t=>"string"==typeof t?`'${t}'`:t).join(n)},erP.jsonStringifyReplacer=(t,n)=>"bigint"==typeof n?n.toString():n,(erF=a||(a={})).mergeShapes=(t,n)=>({...t,...n});let VU=o.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vz=t=>{switch(typeof t){case"undefined":return VU.undefined;case"string":return VU.string;case"number":return isNaN(t)?VU.nan:VU.number;case"boolean":return VU.boolean;case"function":return VU.function;case"bigint":return VU.bigint;case"symbol":return VU.symbol;case"object":return Array.isArray(t)?VU.array:null===t?VU.null:t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch?VU.promise:"u">typeof Map&&t instanceof Map?VU.map:"u">typeof Set&&t instanceof Set?VU.set:"u">typeof Date&&t instanceof Date?VU.date:VU.object;default:return VU.unknown}},VB=o.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Vq=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class VK extends Error{constructor(t){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){let n=t||function(t){return t.message},r={_errors:[]},i=t=>{for(let o of t.issues)if("invalid_union"===o.code)o.unionErrors.map(i);else if("invalid_return_type"===o.code)i(o.returnTypeError);else if("invalid_arguments"===o.code)i(o.argumentsError);else if(0===o.path.length)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){let s=o.path[u];u===o.path.length-1?(a[s]=a[s]||{_errors:[]},a[s]._errors.push(n(o))):a[s]=a[s]||{_errors:[]},a=a[s],u++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,o.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=t=>t.message){let n={},r=[];for(let i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}VK.create=t=>new VK(t);let V$=(t,n)=>{let r;switch(t.code){case VB.invalid_type:r=t.received===VU.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case VB.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,o.jsonStringifyReplacer)}`;break;case VB.unrecognized_keys:r=`Unrecognized key(s) in object: ${o.joinValues(t.keys,", ")}`;break;case VB.invalid_union:r="Invalid input";break;case VB.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${o.joinValues(t.options)}`;break;case VB.invalid_enum_value:r=`Invalid enum value. Expected ${o.joinValues(t.options)}, received '${t.received}'`;break;case VB.invalid_arguments:r="Invalid function arguments";break;case VB.invalid_return_type:r="Invalid function return type";break;case VB.invalid_date:r="Invalid date";break;case VB.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:o.assertNever(t.validation):r="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case VB.too_small:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case VB.too_big:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case VB.custom:r="Invalid input";break;case VB.invalid_intersection_types:r="Intersection results could not be merged";break;case VB.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case VB.not_finite:r="Number must be finite";break;default:r=n.defaultError,o.assertNever(t)}return{message:r}},VV=V$;function VH(t){VV=t}function VZ(){return VV}let VJ=t=>{let{data:n,path:r,errorMaps:i,issueData:o}=t,a=[...r,...o.path||[]],u={...o,path:a},s="",c=i.filter(t=>!!t).slice().reverse();for(let l of c)s=l(u,{data:n,defaultError:s}).message;return{...o,path:a,message:o.message||s}};function VG(t,n){let r=VJ({issueData:n,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,VV,V$].filter(t=>!!t)});t.common.issues.push(r)}class VY{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let i of n){if("aborted"===i.status)return VQ;"dirty"===i.status&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){let r=[];for(let i of n)r.push({key:await i.key,value:await i.value});return VY.mergeObjectSync(t,r)}static mergeObjectSync(t,n){let r={};for(let i of n){let{key:o,value:a}=i;if("aborted"===o.status||"aborted"===a.status)return VQ;"dirty"===o.status&&t.dirty(),"dirty"===a.status&&t.dirty(),("u">typeof a.value||i.alwaysSet)&&(r[o.value]=a.value)}return{status:t.value,value:r}}}let VQ=Object.freeze({status:"aborted"}),VX=t=>({status:"dirty",value:t}),V0=t=>({status:"valid",value:t}),V1=t=>"aborted"===t.status,V2=t=>"dirty"===t.status,V3=t=>"valid"===t.status,V5=t=>"u">typeof Promise&&t instanceof Promise;(erL=u||(u={})).errToObj=t=>"string"==typeof t?{message:t}:t||{},erL.toString=t=>"string"==typeof t?t:null==t?void 0:t.message;class V4{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let V9=(t,n)=>{if(V3(n))return{success:!0,data:n.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new VK(t.common.issues);return this._error=r,this._error}}};function V6(t){if(!t)return{};let{errorMap:n,invalid_type_error:r,required_error:i,description:o}=t;if(n&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return n?{errorMap:n,description:o}:{errorMap:(t,n)=>"invalid_type"!==t.code?{message:n.defaultError}:typeof n.data>"u"?{message:i??n.defaultError}:{message:r??n.defaultError},description:o}}class V8{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Vz(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Vz(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new VY,ctx:{common:t.parent.common,data:t.data,parsedType:Vz(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(V5(n))throw Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let i={common:{issues:[],async:null!==(r=null==n?void 0:n.async)&&void 0!==r&&r,contextualErrorMap:null==n?void 0:n.errorMap},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vz(t)},o=this._parseSync({data:t,path:i.path,parent:i});return V9(i,o)}async parseAsync(t,n){let r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){let r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vz(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await (V5(i)?i:Promise.resolve(i));return V9(r,o)}refine(t,n){let r=t=>"string"==typeof n||typeof n>"u"?{message:n}:"function"==typeof n?n(t):n;return this._refinement((n,i)=>{let o=t(n),a=()=>i.addIssue({code:VB.custom,...r(n)});return"u">typeof Promise&&o instanceof Promise?o.then(t=>!!t||(a(),!1)):!!o||(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>!!t(r)||(i.addIssue("function"==typeof n?n(r,i):n),!1))}_refinement(t){return new HW({schema:this,typeName:s.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return HU.create(this,this._def)}nullable(){return Hz.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return HS.create(this,this._def)}promise(){return HD.create(this,this._def)}or(t){return Hw.create([this,t],this._def)}and(t){return Hk.create(this,t,this._def)}transform(t){return new HW({...V6(this._def),schema:this,typeName:s.ZodEffects,effect:{type:"transform",transform:t}})}default(t){return new HB({...V6(this._def),innerType:this,defaultValue:"function"==typeof t?t:()=>t,typeName:s.ZodDefault})}brand(){return new HV({typeName:s.ZodBranded,type:this,...V6(this._def)})}catch(t){return new Hq({...V6(this._def),innerType:this,catchValue:"function"==typeof t?t:()=>t,typeName:s.ZodCatch})}describe(t){let n=this.constructor;return new n({...this._def,description:t})}pipe(t){return HH.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let V7=/^c[^\s-]{8,}$/i,He=/^[a-z][a-z0-9]*$/,Ht=/[0-9A-HJKMNP-TV-Z]{26}/,Hn=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Hr=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Hi=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Ho=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ha=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Hu=t=>t.precision?t.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):0===t.precision?t.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Hs(t,n){return!!(("v4"===n||!n)&&Ho.test(t)||("v6"===n||!n)&&Ha.test(t))}class Hc extends V8{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(n=>t.test(n),{validation:n,code:VB.invalid_string,...u.errToObj(r)}),this.nonempty=t=>this.min(1,u.errToObj(t)),this.trim=()=>new Hc({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Hc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Hc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==VU.string){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.string,received:n.parsedType}),VQ}let r=new VY,i;for(let a of this._def.checks)if("min"===a.kind)t.data.length<a.value&&(VG(i=this._getOrReturnCtx(t,i),{code:VB.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("max"===a.kind)t.data.length>a.value&&(VG(i=this._getOrReturnCtx(t,i),{code:VB.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("length"===a.kind){let u=t.data.length>a.value,s=t.data.length<a.value;(u||s)&&(i=this._getOrReturnCtx(t,i),u?VG(i,{code:VB.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&VG(i,{code:VB.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if("email"===a.kind)Hr.test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{validation:"email",code:VB.invalid_string,message:a.message}),r.dirty());else if("emoji"===a.kind)Hi.test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{validation:"emoji",code:VB.invalid_string,message:a.message}),r.dirty());else if("uuid"===a.kind)Hn.test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{validation:"uuid",code:VB.invalid_string,message:a.message}),r.dirty());else if("cuid"===a.kind)V7.test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{validation:"cuid",code:VB.invalid_string,message:a.message}),r.dirty());else if("cuid2"===a.kind)He.test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{validation:"cuid2",code:VB.invalid_string,message:a.message}),r.dirty());else if("ulid"===a.kind)Ht.test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{validation:"ulid",code:VB.invalid_string,message:a.message}),r.dirty());else if("url"===a.kind)try{new URL(t.data)}catch{VG(i=this._getOrReturnCtx(t,i),{validation:"url",code:VB.invalid_string,message:a.message}),r.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{validation:"regex",code:VB.invalid_string,message:a.message}),r.dirty())):"trim"===a.kind?t.data=t.data.trim():"includes"===a.kind?t.data.includes(a.value,a.position)||(VG(i=this._getOrReturnCtx(t,i),{code:VB.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):"toLowerCase"===a.kind?t.data=t.data.toLowerCase():"toUpperCase"===a.kind?t.data=t.data.toUpperCase():"startsWith"===a.kind?t.data.startsWith(a.value)||(VG(i=this._getOrReturnCtx(t,i),{code:VB.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):"endsWith"===a.kind?t.data.endsWith(a.value)||(VG(i=this._getOrReturnCtx(t,i),{code:VB.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):"datetime"===a.kind?Hu(a).test(t.data)||(VG(i=this._getOrReturnCtx(t,i),{code:VB.invalid_string,validation:"datetime",message:a.message}),r.dirty()):"ip"===a.kind?Hs(t.data,a.version)||(VG(i=this._getOrReturnCtx(t,i),{validation:"ip",code:VB.invalid_string,message:a.message}),r.dirty()):o.assertNever(a);return{status:r.value,value:t.data}}_addCheck(t){return new Hc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...u.errToObj(t)})}url(t){return this._addCheck({kind:"url",...u.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...u.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...u.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...u.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...u.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...u.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...u.errToObj(t)})}datetime(t){var n;return"string"==typeof t?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(null==t?void 0:t.precision)>"u"?null:null==t?void 0:t.precision,offset:null!==(n=null==t?void 0:t.offset)&&void 0!==n&&n,...u.errToObj(null==t?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...u.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:null==n?void 0:n.position,...u.errToObj(null==n?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...u.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...u.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...u.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...u.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...u.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>"datetime"===t.kind)}get isEmail(){return!!this._def.checks.find(t=>"email"===t.kind)}get isURL(){return!!this._def.checks.find(t=>"url"===t.kind)}get isEmoji(){return!!this._def.checks.find(t=>"emoji"===t.kind)}get isUUID(){return!!this._def.checks.find(t=>"uuid"===t.kind)}get isCUID(){return!!this._def.checks.find(t=>"cuid"===t.kind)}get isCUID2(){return!!this._def.checks.find(t=>"cuid2"===t.kind)}get isULID(){return!!this._def.checks.find(t=>"ulid"===t.kind)}get isIP(){return!!this._def.checks.find(t=>"ip"===t.kind)}get minLength(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}}function Hl(t,n){let r=(t.toString().split(".")[1]||"").length,i=(n.toString().split(".")[1]||"").length,o=r>i?r:i,a=parseInt(t.toFixed(o).replace(".","")),u=parseInt(n.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}Hc.create=t=>{var n;return new Hc({checks:[],typeName:s.ZodString,coerce:null!==(n=null==t?void 0:t.coerce)&&void 0!==n&&n,...V6(t)})};class Hf extends V8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==VU.number){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.number,received:n.parsedType}),VQ}let r,i=new VY;for(let a of this._def.checks)"int"===a.kind?o.isInteger(t.data)||(VG(r=this._getOrReturnCtx(t,r),{code:VB.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):"min"===a.kind?(a.inclusive?t.data<a.value:t.data<=a.value)&&(VG(r=this._getOrReturnCtx(t,r),{code:VB.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):"max"===a.kind?(a.inclusive?t.data>a.value:t.data>=a.value)&&(VG(r=this._getOrReturnCtx(t,r),{code:VB.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):"multipleOf"===a.kind?0!==Hl(t.data,a.value)&&(VG(r=this._getOrReturnCtx(t,r),{code:VB.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):"finite"===a.kind?Number.isFinite(t.data)||(VG(r=this._getOrReturnCtx(t,r),{code:VB.not_finite,message:a.message}),i.dirty()):o.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,u.toString(n))}gt(t,n){return this.setLimit("min",t,!1,u.toString(n))}lte(t,n){return this.setLimit("max",t,!0,u.toString(n))}lt(t,n){return this.setLimit("max",t,!1,u.toString(n))}setLimit(t,n,r,i){return new Hf({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:u.toString(i)}]})}_addCheck(t){return new Hf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:u.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:u.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:u.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:u.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:u.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:u.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:u.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:u.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:u.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>"int"===t.kind||"multipleOf"===t.kind&&o.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===n||r.value>n)&&(n=r.value):"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Hf.create=t=>new Hf({checks:[],typeName:s.ZodNumber,coerce:(null==t?void 0:t.coerce)||!1,...V6(t)});class Hd extends V8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==VU.bigint){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.bigint,received:n.parsedType}),VQ}let r,i=new VY;for(let a of this._def.checks)"min"===a.kind?(a.inclusive?t.data<a.value:t.data<=a.value)&&(VG(r=this._getOrReturnCtx(t,r),{code:VB.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):"max"===a.kind?(a.inclusive?t.data>a.value:t.data>=a.value)&&(VG(r=this._getOrReturnCtx(t,r),{code:VB.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):"multipleOf"===a.kind?t.data%a.value!==BigInt(0)&&(VG(r=this._getOrReturnCtx(t,r),{code:VB.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):o.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,u.toString(n))}gt(t,n){return this.setLimit("min",t,!1,u.toString(n))}lte(t,n){return this.setLimit("max",t,!0,u.toString(n))}lt(t,n){return this.setLimit("max",t,!1,u.toString(n))}setLimit(t,n,r,i){return new Hd({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:u.toString(i)}]})}_addCheck(t){return new Hd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:u.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:u.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:u.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:u.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:u.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return t}}Hd.create=t=>{var n;return new Hd({checks:[],typeName:s.ZodBigInt,coerce:null!==(n=null==t?void 0:t.coerce)&&void 0!==n&&n,...V6(t)})};class Hp extends V8{_parse(t){if(this._def.coerce&&(t.data=Boolean(t.data)),this._getType(t)!==VU.boolean){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.boolean,received:n.parsedType}),VQ}return V0(t.data)}}Hp.create=t=>new Hp({typeName:s.ZodBoolean,coerce:(null==t?void 0:t.coerce)||!1,...V6(t)});class Hh extends V8{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==VU.date){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.date,received:n.parsedType}),VQ}if(isNaN(t.data.getTime())){let r=this._getOrReturnCtx(t);return VG(r,{code:VB.invalid_date}),VQ}let i=new VY,a;for(let u of this._def.checks)"min"===u.kind?t.data.getTime()<u.value&&(VG(a=this._getOrReturnCtx(t,a),{code:VB.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),i.dirty()):"max"===u.kind?t.data.getTime()>u.value&&(VG(a=this._getOrReturnCtx(t,a),{code:VB.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),i.dirty()):o.assertNever(u);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hh({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:u.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:u.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)"min"===n.kind&&(null===t||n.value>t)&&(t=n.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return null!=t?new Date(t):null}}Hh.create=t=>new Hh({checks:[],coerce:(null==t?void 0:t.coerce)||!1,typeName:s.ZodDate,...V6(t)});class Hm extends V8{_parse(t){if(this._getType(t)!==VU.symbol){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.symbol,received:n.parsedType}),VQ}return V0(t.data)}}Hm.create=t=>new Hm({typeName:s.ZodSymbol,...V6(t)});class Hg extends V8{_parse(t){if(this._getType(t)!==VU.undefined){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.undefined,received:n.parsedType}),VQ}return V0(t.data)}}Hg.create=t=>new Hg({typeName:s.ZodUndefined,...V6(t)});class Hy extends V8{_parse(t){if(this._getType(t)!==VU.null){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.null,received:n.parsedType}),VQ}return V0(t.data)}}Hy.create=t=>new Hy({typeName:s.ZodNull,...V6(t)});class Hv extends V8{constructor(){super(...arguments),this._any=!0}_parse(t){return V0(t.data)}}Hv.create=t=>new Hv({typeName:s.ZodAny,...V6(t)});class Hb extends V8{constructor(){super(...arguments),this._unknown=!0}_parse(t){return V0(t.data)}}Hb.create=t=>new Hb({typeName:s.ZodUnknown,...V6(t)});class Hx extends V8{_parse(t){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.never,received:n.parsedType}),VQ}}Hx.create=t=>new Hx({typeName:s.ZodNever,...V6(t)});class H_ extends V8{_parse(t){if(this._getType(t)!==VU.undefined){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.void,received:n.parsedType}),VQ}return V0(t.data)}}H_.create=t=>new H_({typeName:s.ZodVoid,...V6(t)});class HS extends V8{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==VU.array)return VG(n,{code:VB.invalid_type,expected:VU.array,received:n.parsedType}),VQ;if(null!==i.exactLength){let o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(VG(n,{code:o?VB.too_big:VB.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&n.data.length<i.minLength.value&&(VG(n,{code:VB.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&n.data.length>i.maxLength.value&&(VG(n,{code:VB.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((t,r)=>i.type._parseAsync(new V4(n,t,n.path,r)))).then(t=>VY.mergeArray(r,t));let u=[...n.data].map((t,r)=>i.type._parseSync(new V4(n,t,n.path,r)));return VY.mergeArray(r,u)}get element(){return this._def.type}min(t,n){return new HS({...this._def,minLength:{value:t,message:u.toString(n)}})}max(t,n){return new HS({...this._def,maxLength:{value:t,message:u.toString(n)}})}length(t,n){return new HS({...this._def,exactLength:{value:t,message:u.toString(n)}})}nonempty(t){return this.min(1,t)}}HS.create=(t,n)=>new HS({type:t,minLength:null,maxLength:null,exactLength:null,typeName:s.ZodArray,...V6(n)});class HT extends V8{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let t=this._def.shape(),n=o.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==VU.object){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.object,received:n.parsedType}),VQ}let{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof Hx&&"strip"===this._def.unknownKeys))for(let s in i.data)a.includes(s)||u.push(s);let c=[];for(let l of a){let f=o[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:f._parse(new V4(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Hx){let p=this._def.unknownKeys;if("passthrough"===p)for(let h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if("strict"===p)u.length>0&&(VG(i,{code:VB.unrecognized_keys,keys:u}),r.dirty());else if("strip"!==p)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let m=this._def.catchall;for(let g of u){let y=i.data[g];c.push({key:{status:"valid",value:g},value:m._parse(new V4(i,y,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let t=[];for(let n of c){let r=await n.key;t.push({key:r,value:await n.value,alwaysSet:n.alwaysSet})}return t}).then(t=>VY.mergeObjectSync(r,t)):VY.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return u.errToObj,new HT({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(n,r)=>{var i,o,a,s;let c=null!==(a=null===(o=(i=this._def).errorMap)||void 0===o?void 0:o.call(i,n,r).message)&&void 0!==a?a:r.defaultError;return"unrecognized_keys"===n.code?{message:null!==(s=u.errToObj(t).message)&&void 0!==s?s:c}:{message:c}}}:{}})}strip(){return new HT({...this._def,unknownKeys:"strip"})}passthrough(){return new HT({...this._def,unknownKeys:"passthrough"})}extend(t){return new HT({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new HT({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:s.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new HT({...this._def,catchall:t})}pick(t){let n={};return o.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new HT({...this._def,shape:()=>n})}omit(t){let n={};return o.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new HT({...this._def,shape:()=>n})}deepPartial(){return function t(n){if(!(n instanceof HT))return n instanceof HS?new HS({...n._def,type:t(n.element)}):n instanceof HU?HU.create(t(n.unwrap())):n instanceof Hz?Hz.create(t(n.unwrap())):n instanceof HM?HM.create(n.items.map(n=>t(n))):n;{let r={};for(let i in n.shape){let o=n.shape[i];r[i]=HU.create(t(o))}return new HT({...n._def,shape:()=>r})}}(this)}partial(t){let n={};return o.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new HT({...this._def,shape:()=>n})}required(t){let n={};return o.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof HU;)i=i._def.innerType;n[r]=i}}),new HT({...this._def,shape:()=>n})}keyof(){return HP(o.objectKeys(this.shape))}}HT.create=(t,n)=>new HT({shape:()=>t,unknownKeys:"strip",catchall:Hx.create(),typeName:s.ZodObject,...V6(n)}),HT.strictCreate=(t,n)=>new HT({shape:()=>t,unknownKeys:"strict",catchall:Hx.create(),typeName:s.ZodObject,...V6(n)}),HT.lazycreate=(t,n)=>new HT({shape:t,unknownKeys:"strip",catchall:Hx.create(),typeName:s.ZodObject,...V6(n)});class Hw extends V8{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;if(n.common.async)return Promise.all(r.map(async t=>{let r={...n,common:{...n.common,issues:[]},parent:null};return{result:await t._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(function(t){for(let r of t)if("valid"===r.result.status)return r.result;for(let i of t)if("dirty"===i.result.status)return n.common.issues.push(...i.ctx.common.issues),i.result;let o=t.map(t=>new VK(t.ctx.common.issues));return VG(n,{code:VB.invalid_union,unionErrors:o}),VQ});{let i,o=[];for(let a of r){let u={...n,common:{...n.common,issues:[]},parent:null},s=a._parseSync({data:n.data,path:n.path,parent:u});if("valid"===s.status)return s;"dirty"!==s.status||i||(i={result:s,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;let c=o.map(t=>new VK(t));return VG(n,{code:VB.invalid_union,unionErrors:c}),VQ}}get options(){return this._def.options}}Hw.create=(t,n)=>new Hw({options:t,typeName:s.ZodUnion,...V6(n)});let HO=t=>t instanceof Hj?HO(t.schema):t instanceof HW?HO(t.innerType()):t instanceof HN?[t.value]:t instanceof HF?t.options:t instanceof HL?Object.keys(t.enum):t instanceof HB?HO(t._def.innerType):t instanceof Hg?[void 0]:t instanceof Hy?[null]:null;class HI extends V8{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==VU.object)return VG(n,{code:VB.invalid_type,expected:VU.object,received:n.parsedType}),VQ;let r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(VG(n,{code:VB.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),VQ)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let i=new Map;for(let o of n){let a=HO(o.shape[t]);if(!a)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let u of a){if(i.has(u))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);i.set(u,o)}}return new HI({typeName:s.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...V6(r)})}}class Hk extends V8{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),i=(t,i)=>{if(V1(t)||V1(i))return VQ;let a=function t(n,r){let i=Vz(n),a=Vz(r);if(n===r)return{valid:!0,data:n};if(i===VU.object&&a===VU.object){let u=o.objectKeys(r),s=o.objectKeys(n).filter(t=>-1!==u.indexOf(t)),c={...n,...r};for(let l of s){let f=t(n[l],r[l]);if(!f.valid)return{valid:!1};c[l]=f.data}return{valid:!0,data:c}}if(i!==VU.array||a!==VU.array)return i===VU.date&&a===VU.date&&+n==+r?{valid:!0,data:n}:{valid:!1};{if(n.length!==r.length)return{valid:!1};let d=[];for(let p=0;p<n.length;p++){let h=n[p],m=r[p],g=t(h,m);if(!g.valid)return{valid:!1};d.push(g.data)}return{valid:!0,data:d}}}(t.value,i.value);return a.valid?((V2(t)||V2(i))&&n.dirty(),{status:n.value,value:a.data}):(VG(r,{code:VB.invalid_intersection_types}),VQ)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([t,n])=>i(t,n)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Hk.create=(t,n,r)=>new Hk({left:t,right:n,typeName:s.ZodIntersection,...V6(r)});class HM extends V8{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==VU.array)return VG(r,{code:VB.invalid_type,expected:VU.array,received:r.parsedType}),VQ;if(r.data.length<this._def.items.length)return VG(r,{code:VB.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),VQ;!this._def.rest&&r.data.length>this._def.items.length&&(VG(r,{code:VB.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let i=[...r.data].map((t,n)=>{let i=this._def.items[n]||this._def.rest;return i?i._parse(new V4(r,t,r.path,n)):null}).filter(t=>!!t);return r.common.async?Promise.all(i).then(t=>VY.mergeArray(n,t)):VY.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new HM({...this._def,rest:t})}}HM.create=(t,n)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new HM({items:t,typeName:s.ZodTuple,rest:null,...V6(n)})};class HC extends V8{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==VU.object)return VG(r,{code:VB.invalid_type,expected:VU.object,received:r.parsedType}),VQ;let i=[],o=this._def.keyType,a=this._def.valueType;for(let u in r.data)i.push({key:o._parse(new V4(r,u,r.path,u)),value:a._parse(new V4(r,r.data[u],r.path,u))});return r.common.async?VY.mergeObjectAsync(n,i):VY.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return new HC(n instanceof V8?{keyType:t,valueType:n,typeName:s.ZodRecord,...V6(r)}:{keyType:Hc.create(),valueType:t,typeName:s.ZodRecord,...V6(n)})}}class HR extends V8{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==VU.map)return VG(r,{code:VB.invalid_type,expected:VU.map,received:r.parsedType}),VQ;let i=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([t,n],a)=>({key:i._parse(new V4(r,t,r.path,[a,"key"])),value:o._parse(new V4(r,n,r.path,[a,"value"]))}));if(r.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let t of a){let r=await t.key,i=await t.value;if("aborted"===r.status||"aborted"===i.status)return VQ;("dirty"===r.status||"dirty"===i.status)&&n.dirty(),u.set(r.value,i.value)}return{status:n.value,value:u}})}{let s=new Map;for(let c of a){let l=c.key,f=c.value;if("aborted"===l.status||"aborted"===f.status)return VQ;("dirty"===l.status||"dirty"===f.status)&&n.dirty(),s.set(l.value,f.value)}return{status:n.value,value:s}}}}HR.create=(t,n,r)=>new HR({valueType:n,keyType:t,typeName:s.ZodMap,...V6(r)});class HE extends V8{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==VU.set)return VG(r,{code:VB.invalid_type,expected:VU.set,received:r.parsedType}),VQ;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(VG(r,{code:VB.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(VG(r,{code:VB.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());let o=this._def.valueType;function a(t){let r=new Set;for(let i of t){if("aborted"===i.status)return VQ;"dirty"===i.status&&n.dirty(),r.add(i.value)}return{status:n.value,value:r}}let u=[...r.data.values()].map((t,n)=>o._parse(new V4(r,t,r.path,n)));return r.common.async?Promise.all(u).then(t=>a(t)):a(u)}min(t,n){return new HE({...this._def,minSize:{value:t,message:u.toString(n)}})}max(t,n){return new HE({...this._def,maxSize:{value:t,message:u.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}HE.create=(t,n)=>new HE({valueType:t,minSize:null,maxSize:null,typeName:s.ZodSet,...V6(n)});class HA extends V8{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==VU.function)return VG(n,{code:VB.invalid_type,expected:VU.function,received:n.parsedType}),VQ;function r(t,r){return VJ({data:t,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,VV,V$].filter(t=>!!t),issueData:{code:VB.invalid_arguments,argumentsError:r}})}function i(t,r){return VJ({data:t,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,VV,V$].filter(t=>!!t),issueData:{code:VB.invalid_return_type,returnTypeError:r}})}let o={errorMap:n.common.contextualErrorMap},a=n.data;return this._def.returns instanceof HD?V0(async(...t)=>{let n=new VK([]),u=await this._def.args.parseAsync(t,o).catch(i=>{throw n.addIssue(r(t,i)),n}),s=await a(...u);return await this._def.returns._def.type.parseAsync(s,o).catch(t=>{throw n.addIssue(i(s,t)),n})}):V0((...t)=>{let n=this._def.args.safeParse(t,o);if(!n.success)throw new VK([r(t,n.error)]);let u=a(...n.data),s=this._def.returns.safeParse(u,o);if(!s.success)throw new VK([i(u,s.error)]);return s.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new HA({...this._def,args:HM.create(t).rest(Hb.create())})}returns(t){return new HA({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new HA({args:t||HM.create([]).rest(Hb.create()),returns:n||Hb.create(),typeName:s.ZodFunction,...V6(r)})}}class Hj extends V8{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Hj.create=(t,n)=>new Hj({getter:t,typeName:s.ZodLazy,...V6(n)});class HN extends V8{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return VG(n,{received:n.data,code:VB.invalid_literal,expected:this._def.value}),VQ}return{status:"valid",value:t.data}}get value(){return this._def.value}}function HP(t,n){return new HF({values:t,typeName:s.ZodEnum,...V6(n)})}HN.create=(t,n)=>new HN({value:t,typeName:s.ZodLiteral,...V6(n)});class HF extends V8{_parse(t){if("string"!=typeof t.data){let n=this._getOrReturnCtx(t),r=this._def.values;return VG(n,{expected:o.joinValues(r),received:n.parsedType,code:VB.invalid_type}),VQ}if(-1===this._def.values.indexOf(t.data)){let i=this._getOrReturnCtx(t),a=this._def.values;return VG(i,{received:i.data,code:VB.invalid_enum_value,options:a}),VQ}return V0(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t){return HF.create(t)}exclude(t){return HF.create(this.options.filter(n=>!t.includes(n)))}}HF.create=HP;class HL extends V8{_parse(t){let n=o.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==VU.string&&r.parsedType!==VU.number){let i=o.objectValues(n);return VG(r,{expected:o.joinValues(i),received:r.parsedType,code:VB.invalid_type}),VQ}if(-1===n.indexOf(t.data)){let a=o.objectValues(n);return VG(r,{received:r.data,code:VB.invalid_enum_value,options:a}),VQ}return V0(t.data)}get enum(){return this._def.values}}HL.create=(t,n)=>new HL({values:t,typeName:s.ZodNativeEnum,...V6(n)});class HD extends V8{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==VU.promise&&!1===n.common.async)return VG(n,{code:VB.invalid_type,expected:VU.promise,received:n.parsedType}),VQ;let r=n.parsedType===VU.promise?n.data:Promise.resolve(n.data);return V0(r.then(t=>this._def.type.parseAsync(t,{path:n.path,errorMap:n.common.contextualErrorMap})))}}HD.create=(t,n)=>new HD({type:t,typeName:s.ZodPromise,...V6(n)});class HW extends V8{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===s.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null;if("preprocess"===i.type){let a=i.transform(r.data);return r.common.async?Promise.resolve(a).then(t=>this._def.schema._parseAsync({data:t,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}let u={addIssue(t){VG(r,t),t.fatal?n.abort():n.dirty()},get path(){return r.path}};if(u.addIssue=u.addIssue.bind(u),"refinement"===i.type){let s=t=>{let n=i.refinement(t,u);if(r.common.async)return Promise.resolve(n);if(n instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(t=>"aborted"===t.status?VQ:("dirty"===t.status&&n.dirty(),s(t.value).then(()=>({status:n.value,value:t.value}))));{let c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===c.status?VQ:("dirty"===c.status&&n.dirty(),s(c.value),{status:n.value,value:c.value})}}if("transform"===i.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(t=>V3(t)?Promise.resolve(i.transform(t.value,u)).then(t=>({status:n.value,value:t})):t);{let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!V3(l))return l;let f=i.transform(l.value,u);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:f}}}o.assertNever(i)}}HW.create=(t,n,r)=>new HW({schema:t,typeName:s.ZodEffects,effect:n,...V6(r)}),HW.createWithPreprocess=(t,n,r)=>new HW({schema:n,effect:{type:"preprocess",transform:t},typeName:s.ZodEffects,...V6(r)});class HU extends V8{_parse(t){return this._getType(t)===VU.undefined?V0(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}HU.create=(t,n)=>new HU({innerType:t,typeName:s.ZodOptional,...V6(n)});class Hz extends V8{_parse(t){return this._getType(t)===VU.null?V0(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hz.create=(t,n)=>new Hz({innerType:t,typeName:s.ZodNullable,...V6(n)});class HB extends V8{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===VU.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}HB.create=(t,n)=>new HB({innerType:t,typeName:s.ZodDefault,defaultValue:"function"==typeof n.default?n.default:()=>n.default,...V6(n)});class Hq extends V8{_parse(t){let{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return V5(i)?i.then(t=>({status:"valid",value:"valid"===t.status?t.value:this._def.catchValue({get error(){return new VK(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new VK(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hq.create=(t,n)=>new Hq({innerType:t,typeName:s.ZodCatch,catchValue:"function"==typeof n.catch?n.catch:()=>n.catch,...V6(n)});class HK extends V8{_parse(t){if(this._getType(t)!==VU.nan){let n=this._getOrReturnCtx(t);return VG(n,{code:VB.invalid_type,expected:VU.nan,received:n.parsedType}),VQ}return{status:"valid",value:t.data}}}HK.create=t=>new HK({typeName:s.ZodNaN,...V6(t)});let H$=Symbol("zod_brand");class HV extends V8{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class HH extends V8{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{let t=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===t.status?VQ:"dirty"===t.status?(n.dirty(),VX(t.value)):this._def.out._parseAsync({data:t.value,path:r.path,parent:r})})();{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?VQ:"dirty"===i.status?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new HH({in:t,out:n,typeName:s.ZodPipeline})}}let HZ=(t,n={},r)=>t?Hv.create().superRefine((i,o)=>{var a,u;if(!t(i)){let s="function"==typeof n?n(i):"string"==typeof n?{message:n}:n,c=null===(u=null!==(a=s.fatal)&&void 0!==a?a:r)||void 0===u||u;o.addIssue({code:"custom",..."string"==typeof s?{message:s}:s,fatal:c})}}):Hv.create(),HJ={object:HT.lazycreate};(erD=s||(s={})).ZodString="ZodString",erD.ZodNumber="ZodNumber",erD.ZodNaN="ZodNaN",erD.ZodBigInt="ZodBigInt",erD.ZodBoolean="ZodBoolean",erD.ZodDate="ZodDate",erD.ZodSymbol="ZodSymbol",erD.ZodUndefined="ZodUndefined",erD.ZodNull="ZodNull",erD.ZodAny="ZodAny",erD.ZodUnknown="ZodUnknown",erD.ZodNever="ZodNever",erD.ZodVoid="ZodVoid",erD.ZodArray="ZodArray",erD.ZodObject="ZodObject",erD.ZodUnion="ZodUnion",erD.ZodDiscriminatedUnion="ZodDiscriminatedUnion",erD.ZodIntersection="ZodIntersection",erD.ZodTuple="ZodTuple",erD.ZodRecord="ZodRecord",erD.ZodMap="ZodMap",erD.ZodSet="ZodSet",erD.ZodFunction="ZodFunction",erD.ZodLazy="ZodLazy",erD.ZodLiteral="ZodLiteral",erD.ZodEnum="ZodEnum",erD.ZodEffects="ZodEffects",erD.ZodNativeEnum="ZodNativeEnum",erD.ZodOptional="ZodOptional",erD.ZodNullable="ZodNullable",erD.ZodDefault="ZodDefault",erD.ZodCatch="ZodCatch",erD.ZodPromise="ZodPromise",erD.ZodBranded="ZodBranded",erD.ZodPipeline="ZodPipeline";let HG=(t,n={message:`Input not instance of ${t.name}`})=>HZ(n=>n instanceof t,n),HY=Hc.create,HQ=Hf.create,HX=HK.create,H0=Hd.create,H1=Hp.create,H2=Hh.create,H3=Hm.create,H5=Hg.create,H4=Hy.create,H9=Hv.create,H6=Hb.create,H8=Hx.create,H7=H_.create,Ze=HS.create,Zt=HT.create,Zn=HT.strictCreate,Zr=Hw.create,Zi=HI.create,Zo=Hk.create,Za=HM.create,Zu=HC.create,Zs=HR.create,Zc=HE.create,Zl=HA.create,Zf=Hj.create,Zd=HN.create,Zp=HF.create,Zh=HL.create,Zm=HD.create,Zg=HW.create,Zy=HU.create,Zv=Hz.create,Zb=HW.createWithPreprocess,Zx=HH.create,Z_=()=>HY().optional(),ZS=()=>HQ().optional(),ZT=()=>H1().optional();var Zw=Object.freeze({__proto__:null,defaultErrorMap:V$,setErrorMap:VH,getErrorMap:VZ,makeIssue:VJ,EMPTY_PATH:[],addIssueToContext:VG,ParseStatus:VY,INVALID:VQ,DIRTY:VX,OK:V0,isAborted:V1,isDirty:V2,isValid:V3,isAsync:V5,get util(){return o},get objectUtil(){return a},ZodParsedType:VU,getParsedType:Vz,ZodType:V8,ZodString:Hc,ZodNumber:Hf,ZodBigInt:Hd,ZodBoolean:Hp,ZodDate:Hh,ZodSymbol:Hm,ZodUndefined:Hg,ZodNull:Hy,ZodAny:Hv,ZodUnknown:Hb,ZodNever:Hx,ZodVoid:H_,ZodArray:HS,ZodObject:HT,ZodUnion:Hw,ZodDiscriminatedUnion:HI,ZodIntersection:Hk,ZodTuple:HM,ZodRecord:HC,ZodMap:HR,ZodSet:HE,ZodFunction:HA,ZodLazy:Hj,ZodLiteral:HN,ZodEnum:HF,ZodNativeEnum:HL,ZodPromise:HD,ZodEffects:HW,ZodTransformer:HW,ZodOptional:HU,ZodNullable:Hz,ZodDefault:HB,ZodCatch:Hq,ZodNaN:HK,BRAND:H$,ZodBranded:HV,ZodPipeline:HH,custom:HZ,Schema:V8,ZodSchema:V8,late:HJ,get ZodFirstPartyTypeKind(){return s},coerce:{string:t=>Hc.create({...t,coerce:!0}),number:t=>Hf.create({...t,coerce:!0}),boolean:t=>Hp.create({...t,coerce:!0}),bigint:t=>Hd.create({...t,coerce:!0}),date:t=>Hh.create({...t,coerce:!0})},any:H9,array:Ze,bigint:H0,boolean:H1,date:H2,discriminatedUnion:Zi,effect:Zg,enum:Zp,function:Zl,instanceof:HG,intersection:Zo,lazy:Zf,literal:Zd,map:Zs,nan:HX,nativeEnum:Zh,never:H8,null:H4,nullable:Zv,number:HQ,object:Zt,oboolean:ZT,onumber:ZS,optional:Zy,ostring:Z_,pipeline:Zx,preprocess:Zb,promise:Zm,record:Zu,set:Zc,strictObject:Zn,string:HY,symbol:H3,transformer:Zg,tuple:Za,undefined:H5,union:Zr,unknown:H6,void:H7,NEVER:VQ,ZodIssueCode:VB,quotelessJson:Vq,ZodError:VK});function ZO(t){let{id:n,readOnly:r,field:i,content:o,onContentChange:a}=t,[u,s]=(0,c.useState)((null==o?void 0:o.embed_url)??"");function f(t){s(t),VW(t)||a(void 0)}let[d,p]=(0,c.useState)(u),h=(0,c.useCallback)(t=>(0,c.startTransition)(()=>p(t)),[]);return Vx(u,300,h),v.jsxs(l.gN,{footer:VW(u)&&v.jsx(l.mS,{children:v.jsx(ZI,{debouncedUrl:d,content:o,onContentChange:a})}),children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"cloud"})}),v.jsx(l.Qy,{htmlFor:n,children:V_(i)}),v.jsx(l.JO,{children:v.jsx(l.oi,{id:n,readOnly:r,placeholder:VS(i),value:u,onValueChange:f,variant:VW(u)?"link":"normal",endAdornment:v.jsx(l.zx,{startIcon:v.jsx(l.I5,{name:"close"}),variant:"secondary",size:"small",disabled:!u,onClick:()=>f("")})})})]})}function ZI(t){var n;let{debouncedUrl:r,content:i,onContentChange:o}=t,a=(0,c.useRef)(null),[u,s]=(0,c.useState)(!1),[f,d]=(0,c.useState)(r);return f!==r&&(d(r),u&&(s(!1),null==(n=a.current)||n.reset())),r===(null==i?void 0:i.embed_url)?v.jsx(ZM,{content:i}):v.jsx(l.SV,{ref:a,renderError:Zk,onError:function(){s(!0),o(void 0)},children:v.jsx(c.Suspense,{fallback:i&&v.jsx(ZM,{content:i}),children:v.jsx(ZC,{url:r,onContentChange:o})})})}function Zk(){return v.jsx(l.yO,{title:"There is no embed data available."})}function ZM(t){let{content:n}=t;return v.jsx(l.fu,{...function(t){let n="";switch(t.type){case"video":n=t.title??"";break;case"photo":n="View this post"+(t.provider_name?` on ${t.provider_name}`:"");break;default:n="Open"+(t.provider_name?` on ${t.provider_name}`:"")}return{url:t.embed_url,thumbnail:{url:t.thumbnail_url??"",aspectRatio:"video"===t.type?"16:9":"1:1"},provider:t.provider_name??"",author:t.author_name??"",subtitle:n}}(n)})}function ZC(t){let{url:n,onContentChange:r}=t,i=function(t){let{url:n,onContentChange:r}=t,{embeds:i}=iX(),o=Vj(ZR,[n,i.url]),a=Vv(r);return(0,c.useEffect)(()=>{let t=setTimeout(()=>a(o));return()=>{clearTimeout(t)}},[o,a]),o}({url:n,onContentChange:r});return v.jsx(ZM,{content:i})}function ZR(t,n){var r;let i=new URL(n);return i.search=new URLSearchParams({url:t}).toString(),VC(i.toString(),{okType:(r=t,Zw.object({type:Zw.string(),version:Zw.string().or(Zw.number()).nullish(),title:Zw.string().nullish(),author_name:Zw.string().nullish(),author_url:Zw.string().nullish(),provider_name:Zw.string().nullish(),provider_url:Zw.string().nullish(),cache_age:Zw.string().or(Zw.number()).nullish(),thumbnail_url:Zw.string().nullish(),thumbnail_width:Zw.number().nullish(),thumbnail_height:Zw.number().nullish(),html:Zw.string().nullish()}).passthrough().transform(t=>{let n={embed_url:r};return{...n,__TYPE__:"EmbedContent",type:t.type,version:t.version,title:t.title,author_name:t.author_name,author_url:t.author_url,provider_name:t.provider_name,provider_url:t.provider_url,cache_age:t.cache_age,thumbnail_url:t.thumbnail_url,thumbnail_width:t.thumbnail_width,thumbnail_height:t.thumbnail_height,html:t.html,all:{...n,...t}}}))})}function ZE(t){let{content:n,field:r,id:i}=t,[o,a]=(0,c.useState)(!1),[u,s]=(0,c.useState)(!1);return Vx(o,300,()=>s(o)),v.jsxs(l.gN,{onMouseOverChange:a,children:[v.jsx(l.u,{title:"Coming soon",content:"This feature is currently in development and will be available soon. Stay tuned for updates!",side:"bottom",open:u,children:v.jsx(ZA,{})}),v.jsx(l.fw,{disabled:!0,children:v.jsx(l.I5,{name:"notes"})}),v.jsx(l.Qy,{htmlFor:i,children:V_(r)}),v.jsx(l.JO,{disabled:!0,children:v.jsx(l.Kx,{id:i,onChange(){},placeholder:VS(r),readOnly:!0,value:null!=n&&n.position?`${n.position.lat}, ${n.position.lng}`:""})})]})}let ZA=(0,c.forwardRef)(function(t,n){return v.jsx("div",{ref:n,style:{width:50,position:"absolute",top:40,left:30}})}),Zj="__MAIN_THUMBNAIL__";function ZN(t,n,r){let i=t.name===Zj?void 0:t.name,o;return o=n?VM(r)?[r.width,r.height]:VM(t.width)||VM(t.height)?[t.width??void 0,t.height??void 0]:[n.origin.width,n.origin.height]:void 0,[i,o?`${o[0]??"auto"}x${o[1]??"auto"}px`:void 0]}function ZP(t,n){let{width:r,height:i}=n??{};return r&&i?[r,i]:r?[r,Math.round(t.height*(r/t.width))]:i?[Math.round(t.width*(i/t.height)),i]:[t.width,t.height]}function ZF(t,n,r,i,o){let a=new URL(t);if(o){let{x:u,y:s,width:c,height:l}=n;a.searchParams.set("rect",[u,s,c,l].join(",")),a.searchParams.set("w",r.toString()),a.searchParams.set("h",i.toString())}return a.toString()}function ZL(t){let n=new URL(t);return n.searchParams.delete("q"),n.searchParams.set("w","800"),n.searchParams.set("h","800"),n.searchParams.set("auto","compress,format"),n.searchParams.set("fit","max"),n.toString()}function ZD(t){let n=new URL(t);return n.searchParams.delete("q"),n.searchParams.delete("fm"),n.searchParams.set("w","300"),n.searchParams.set("auto","compress,format"),n.toString()}let ZW=({contentView:t,constraints:n,croppedImage:r})=>{let[i,o]=ZP(t.origin,n),a=ZF(t.origin.url,r,i,o,!0);return{...t,width:i,height:o,url:a,edit:{...t.edit,zoom:r.zoom,crop:{x:r.x,y:r.y}}}},ZU=({field:t,content:n,thumbnail:r,croppedImage:i})=>{var o,a,u,s;if(r===Zj){let c=ZW({contentView:n,constraints:null==(o=t.config)?void 0:o.constraint,croppedImage:i});return c.url===n.url?n:{...n,...c}}let l=null==(u=null==(a=t.config)?void 0:a.thumbnails)?void 0:u.find(t=>t.name===r),f=null==(s=n.thumbnails)?void 0:s[r];if(!l||!f)return n;let d=ZW({contentView:f,constraints:l,croppedImage:i});return d.url===f.url?n:{...n,thumbnails:{...n.thumbnails,[r]:d}}},Zz=({initialSize:t,constraints:n})=>{let r=null!=n&&n.width&&null!=n&&n.height?n.width/n.height:t.width/t.height,[i,o]=t.width<t.height?[t.width,Math.round(t.width/r)]:[Math.round(t.height*r),t.height],a=Math.max(i/t.width,o/t.height,1);return{width:Math.round(i/a),height:Math.round(o/a)}},ZB=({contentView:t,constraints:n})=>{let r=Zz({initialSize:t.origin,constraints:n}),i=t.edit.zoom??1,o=Math.round(r.width/i),a=Math.round(r.height/i);return{...t.edit.crop,width:o,height:a,zoom:i}},Zq={x:0,y:0,width:0,height:0,zoom:1},ZK=({selectedImage:{thumbnail:t,contentView:n}})=>t.width&&t.height?t.width/t.height:n?n.origin.width/n.origin.height:1,Z$=({trigger:t,initialImages:n,initialOption:r,onClose:i})=>{var o;let[a,u]=c.useState({}),[s,f]=c.useState({}),[d,p]=c.useState(!1),[h,m]=c.useState(!1),[g,y]=c.useState(r),b=n[g],x=t=>{if(!b)return;let n=b.thumbnail.name,r=a[n]??Zq;u({...a,[n]:{...r,zoom:t}})},_=t=>{if(!b)return;let n=b.thumbnail.name,r=a[n]??Zq;u({...a,[n]:{...r,...t}})},S=t=>{if(!b)return;let n=b.thumbnail.name,r=s[n];f({...s,[n]:{...r,crop:t}})},T=t=>{if(!b)return;let n=b.thumbnail.name,r=s[n]??{};f({...s,[n]:{...r,aspectRatio:t}})},w=a[(null==b?void 0:b.thumbnail.name)??""],O=d?w??((null==b?void 0:b.contentView)&&ZB({contentView:b.contentView,constraints:b.thumbnail})):void 0,I=s[(null==b?void 0:b.thumbnail.name)??""];return v.jsxs(l.Vq,{trigger:t,onAnimationEnd:()=>m(!0),open:d,onOpenChange(t){t?(y(r),u({}),f({})):(m(!1),i({option:g,croppedImages:a})),p(t)},children:[v.jsx(l.fK,{icon:"photo",title:"Image editor"}),v.jsx(l.Zp,{value:String(g),onValueChange:t=>y(Number(t)),children:n.map((t,n)=>v.jsx(l.T9,{value:String(n),icon:"photo",title:t.labels[0]??"Main",subtitle:t.labels[1]??""},t.thumbnail.name))}),b&&v.jsx(l.cZ,{children:h&&v.jsx(l.tP,{image:(null==(o=b.contentView)?void 0:o.origin.url)??"",crop:(null==I?void 0:I.crop)??{x:0,y:0},onCropChange:S,zoom:(null==w?void 0:w.zoom)??1,onZoomChange:x,aspectRatio:ZK({selectedImage:b,cropper:I}),onAspectRatioChange:T,initialCroppedArea:O,onCropAreaChange:_},b.thumbnail.name)})]})},ZV=Zt({id:HY(),kind:HY(),extension:HY(),filename:HY(),width:HQ().optional(),height:HQ().optional(),last_modified:HQ(),url:HY()}),ZH=Zt({total:HQ(),cursor:HY().optional(),items:Ze(ZV)});function ZZ(t,n,r,i){let o=new URLSearchParams({assetType:"image",limit:"30",...i&&{cursor:i}});return VC(`${t}?${o.toString()}`,{headers:{repository:n},credentials:VA(r),okType:ZH})}function ZJ(t){let{onFilesSelected:n}=t,[r,i]=(0,c.useTransition)(),[o,a]=(0,c.useState)(!1);return Vx(r,100,()=>a(r)),v.jsx(l.SV,{renderError:Z1,children:v.jsx(c.Suspense,{children:v.jsxs(l.Zz,{onFilesSelected:n,overlay:v.jsx(ZQ,{}),children:[v.jsx(ZG,{...t,startTransition:i}),v.jsx(l.xu,{position:"relative",width:"100%",justifyContent:"center",children:v.jsx(l.FN,{anchor:v.jsx(l.xu,{position:"fixed",bottom:72}),loadingIndicator:!0,open:o,title:"Loading media ...",seconds:1})})]})})})}function ZG(t){let{uploadingFiles:n,onFilesSelected:r,onSuccessFiles:i,onFailedFiles:o,onTryAgain:a,onMediaSelected:u,startTransition:s}=t,{media:f,limit:d,onHasReachedBottom:p,response:h,updateMedia:m}=function(){let{env:t,assets:n}=iX(),[r,i]=(0,c.useState)(),[o,a]=(0,c.useState)([]),[u,s]=(0,c.useState)(o);if(!n)throw Error("Missing EditorConfig.assets");let{url:l,repository:f}=n,d=Vj(ZZ,[l,f,t,r]);return u!==d.items&&(s(d.items),a(t=>[...t,...d.items])),{media:o,limit:30,onHasReachedBottom:function(){0!==d.total&&i(d.cursor)},response:d,updateMedia:function(n){let i=[...n,...o];a([]),function(t,n,r,i){let{notify:o=!0}=(void 0)??{};VP.set(t,n,{state:"fetched",ok:!0,body:r}),o&&VL.forEach(r=>r(t,n))}(ZZ,[l,f,t,r],{total:i.length,items:i,cursor:void 0})}}}();return(0,c.useEffect)(()=>{let t=n.filter(t=>"success"===t.status).map(t=>t.response),r=n.filter(t=>"failed"===t.status);t.length>0&&(m(t),i()),r.length>0&&o(r)},[o,i,m,n]),0===f.length?v.jsx(ZY,{onFilesSelected:r}):v.jsxs(ZX,{onScrollToBottom(){h.total===d&&s(p)},children:[v.jsx(l.xu,{flexDirection:"column",gap:6,children:n.map((t,n)=>v.jsx(l.tK,{file:t.file,failed:"failed"===t.status,onTryAgain:()=>a(t)},`${t.file.name}${n}`))}),v.jsx(l.Rk,{items:f,getItemInfo:Z0,children:t=>v.jsx(c.Suspense,{fallback:v.jsx(l.Od,{width:"100%",height:"100%"}),children:v.jsx(l.P0,{url:ZD(t.url),onClick:()=>u({...t,width:t.width??2e3,height:t.height??2e3})})})})]})}function ZY(t){let{onFilesSelected:n}=t;return v.jsx(l.xu,{justifyContent:"center",flexDirection:"column",height:"100%",padding:24,children:v.jsx(l.xu,{justifyContent:"center",flexDirection:"column",height:"100%",backgroundColor:"grey2",borderRadius:4,padding:{inline:80},children:v.jsxs(l.R$,{children:[v.jsx(l.av,{name:"cloudUpload",lineColor:"purple10",backgroundColor:"purple12"}),v.jsx(l._T,{size:"big",children:"Drop files here or"}),v.jsx(l.nf,{children:v.jsxs(l.xv,{color:"grey11",align:"center",variant:"normal",children:["Explore our documentation to find out the"," ",v.jsx(l.hh,{underline:!0,color:"grey11",href:" https://prismic.io/docs/guides/manage-images#maximum-file-size",children:"maximum size"})," ","and"," ",v.jsx(l.hh,{underline:!0,color:"grey11",href:" https://prismic.io/docs/guides/manage-images#supported-media",children:"supported image formats"})," ","for uploads in the media library."]})}),v.jsx(l.Qj,{children:v.jsx(l.ZD,{title:"Upload Media",onFilesSelected:n})})]})})})}function ZQ(){return v.jsx(l.xu,{justifyContent:"center",flexDirection:"column",height:"100%",children:v.jsxs(l.R$,{children:[v.jsx(l.av,{name:"cloudUpload",lineColor:"purple10",backgroundColor:"purple12"}),v.jsx(l._T,{size:"big",children:"Drop files here"}),v.jsx(l.nf,{children:"Drop your files to upload them instantly to your media library"})]})})}function ZX(t){let{children:n,onScrollToBottom:r}=t;return v.jsx(l.xr,{style:{height:"100%",paddingInline:l.TV.space[24],paddingBlock:l.TV.space[16],gap:l.TV.space[16]},onScrollToBottom:r,children:n})}function Z0(t){return{key:t.id,aspectRatio:(t.width??2e3)/(t.height??2e3)}}function Z1(){return v.jsx(l.xu,{height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",children:v.jsx(l.Iq,{title:"Request failed",description:"An error occurred while searching for your image.",errorImageSrc:l.Os})})}VP.registerFetcherConfig(ZZ,{cacheCapacity:100,revalidationStrategy:{type:"never"}});let Z2,Z3=new Uint8Array(16);function Z5(){if(!Z2&&!(Z2="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Z2(Z3)}let Z4=[];for(let Z9=0;Z9<256;++Z9)Z4.push((Z9+256).toString(16).slice(1));let Z6="u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Z8={randomUUID:Z6},Z7=Zt({id:HY(),width:HQ(),height:HQ(),urls:Zt({full:HY(),small:HY().transform(ZD)})}),Je=Zt({results:Ze(Z7)}).transform(t=>t.results);function Jt(t,n){let r=new URLSearchParams({page:"1",per_page:"30",query:n});return VC(`${t}/search/photos?${r.toString()}`,{okType:Je})}VP.registerFetcherConfig(Jt,{cacheCapacity:5,revalidationStrategy:{type:"never"}});let Jn=t=>{let{onMediaSelected:n}=t,[r,i]=(0,c.useState)(""),[o,a]=(0,c.useState)(r),[u,s]=(0,c.useTransition)(),f=(0,c.useCallback)(t=>s(()=>a(t)),[]);return Vx(r,200,f),v.jsxs(v.Fragment,{children:[v.jsx(l.xu,{padding:{inline:24,top:16},flexDirection:"column",children:v.jsx(l.Mj,{value:r,placeholder:"Search on Unsplash.com",onValueChange:i})}),v.jsx(Ji,{children:v.jsx(l.SV,{renderError:Ja,children:v.jsx(c.Suspense,{fallback:v.jsx(l.DW,{}),children:v.jsx(Jr,{term:o,isUpdating:u,onMediaSelected:n})})})})]})},Jr=t=>{var n,r,i;let{term:o,isUpdating:a,onMediaSelected:u}=t,s=iX(),c=Vj(Jt,[n=s.unsplash.url,o||"fruit"]),f=(i=a,{opacity:i?.4:1,transitionProperty:i?"opacity":"none",transitionDuration:l.TV.transitionDuration[300],transitionTimingFunction:l.TV.transitionTimingFunction.easeInOut});return c.length?v.jsx(l.Rk,{items:c,getItemInfo:Jo,style:f,children:t=>v.jsx(l.P0,{url:t.urls.small,onClick:()=>u({id:t.id,url:t.urls.full,width:t.width,height:t.height})})}):v.jsxs(l.R$,{style:{marginTop:"auto",marginBottom:"auto",...f},children:[v.jsx(l.u2,{children:v.jsx("img",{src:l.Os,alt:"No results"})}),v.jsx(l._T,{size:"big",children:"Oh no ..."}),v.jsx(l.nf,{children:"The search returned no result."})]})},Ji=({children:t})=>v.jsx(l.xr,{style:{height:"100%",paddingInline:l.TV.space[24],paddingTop:l.TV.space[4]},children:t});function Jo(t){return{key:t.id,aspectRatio:t.width/t.height}}function Ja(){return v.jsx(l.xu,{height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",children:v.jsx(l.Iq,{title:"Request failed",description:"An error occurred while searching for your image.",errorImageSrc:l.Os})})}function Ju(t){let{trigger:n,onMediaSelected:r}=t,i=iX(),{onFilesSelected:o,uploadingFiles:a,onSuccessFiles:u,onFailedFiles:s,onTryAgain:f}=function(){let[t,n]=(0,c.useState)([]),r=iX();function i(t){t.forEach(t=>{var i,o;return(function(t){let{file:n,url:r,repository:i,env:o}=t,a=new FormData;return a.append(n.name,n),VC(r,{headers:{repository:i,"Content-Type":"multipart/form-data"},method:"POST",body:a,credentials:VA(o),okType:ZV})})({file:t.file,url:(null==(i=r.assets)?void 0:i.url)??"",repository:(null==(o=r.assets)?void 0:o.repository)??"",env:r.env}).then(r=>{n(n=>n.map(n=>n.id===t.id?{...n,status:"success",response:r}:n))}).catch(()=>{n(n=>n.map(n=>n.id===t.id?{...n,status:"failed"}:n))})})}let{onFailedFiles:o,onTryAgain:a}=function(t){let{setUploadingFiles:n,tryPostMedia:r}=t,i=(0,c.useRef)();return{onTryAgain:function(t){clearTimeout(i.current),n(n=>n.map(n=>n.id===t.id?{...t,status:"loading"}:n)),r([t])},onFailedFiles:function(t){let r=()=>n(n=>n.filter(n=>!t.includes(n)));i.current=window.setTimeout(r,3e3)}}}({setUploadingFiles:n,tryPostMedia:i});return{onFilesSelected:function(t){let r=t.map(t=>({id:function(t,n,r){if(Z8.randomUUID&&!n&&!t)return Z8.randomUUID();t=t||{};let i=t.random||(t.rng||Z5)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){r=r||0;for(let o=0;o<16;++o)n[r+o]=i[o];return n}return function(t,n=0){return(Z4[t[n+0]]+Z4[t[n+1]]+Z4[t[n+2]]+Z4[t[n+3]]+"-"+Z4[t[n+4]]+Z4[t[n+5]]+"-"+Z4[t[n+6]]+Z4[t[n+7]]+"-"+Z4[t[n+8]]+Z4[t[n+9]]+"-"+Z4[t[n+10]]+Z4[t[n+11]]+Z4[t[n+12]]+Z4[t[n+13]]+Z4[t[n+14]]+Z4[t[n+15]]).toLowerCase()}(i)}(),file:t,status:"loading"}));n(t=>[...t,...r]),i(r)},uploadingFiles:t,onSuccessFiles:function(){n(t=>t.filter(t=>"success"!==t.status))},onFailedFiles:o,onTryAgain:a}}(),[d,p]=(0,c.useState)(!1),[h,m]=(0,c.useState)(i.assets?"media":"unsplash"),g=t=>{if("media"!==t&&"unsplash"!==t)throw Error(`Invalid option ${t}.`);m(t)};return v.jsxs(l.Vq,{trigger:n,open:d,onOpenChange:p,children:[v.jsx(l.fK,{icon:"folder",title:"Add an image"}),v.jsxs(l.Zp,{value:h,onValueChange:g,children:[i.assets&&v.jsx(l.T9,{value:"media",title:"Media library",subtitle:"From Prismic",icon:"photo"}),v.jsx(l.T9,{value:"unsplash",title:"Unsplash",subtitle:"Source of free images",icon:"unsplash"}),i.assets&&v.jsx(l.xu,{flexDirection:"column",justifyContent:"end",flexGrow:1,animation:"fadeIn",children:v.jsx(l.ZD,{startIcon:v.jsx(l.I5,{name:"cloudUpload"}),title:"Upload media",onFilesSelected:o})})]}),v.jsx(l.cZ,{children:v.jsx(Js,{option:h,uploadingFiles:a,onSuccessFiles:u,onFailedFiles:s,onFilesSelected:o,onTryAgain:f,onMediaSelected(t){p(!1),null==r||r(t)}})})]})}function Js(t){let{option:n,onMediaSelected:r,...i}=t,o=iX();switch(n){case"media":return o.assets?v.jsx(ZJ,{onMediaSelected:r,...i}):null;case"unsplash":return v.jsx(Jn,{onMediaSelected:r})}}function Jc(t,n){let{width:r,height:i,rect:o}=function(t,n){let[r,i]=ZP(t,n),o=Math.max(r/t.width,i/t.height),a=Math.round((t.width-r/o)/2),u=Math.round((t.height-i/o)/2);return{width:r,height:i,rect:{x:a,y:u,width:Math.round(r/o),height:Math.round(i/o)}}}(t,n),a=Boolean((null==n?void 0:n.width)||(null==n?void 0:n.height));return{url:ZF(t.url,o,r,i,a),origin:{id:t.id,url:t.url,width:t.width,height:t.height},width:r,height:i,edit:{background:"transparent",zoom:1,crop:{x:o.x,y:o.y}}}}let Jl=({content:t,field:n,id:r,onContentChange:i,readOnly:o})=>{var a,u,s;let[f,d]=(0,c.useState)(0),[p,h]=(0,c.useTransition)(),m=(s=n,(0,c.useMemo)(()=>{var t,n,r;return[{...null==(n=s.config)?void 0:n.constraint,name:Zj}].concat((null==(r=s.config)?void 0:r.thumbnails)??[])},[s])),g=m[f],y=t?function(t,n){var r,i;let{__TYPE__:o,thumbnails:a,...u}=n,s=null==(i=null==(r=t.config)?void 0:r.thumbnails)?void 0:i.map(({name:t})=>null==a?void 0:a[t]);return[u,...s??[]]}(n,t):void 0,b=null==y?void 0:y[f],x=V_(n),_=g?ZN(g,t,b).filter(VM):[];function S(r){if(!g)return;let o=function(t,n,r,i){var o,a,u,s,c,l;if(!r){let f=null==(o=n.config)?void 0:o.thumbnails,d=f&&Object.fromEntries(f.map(t=>[t.name,Jc(i,t)]));return{__TYPE__:"ImageContent",...Jc(i,null==(a=n.config)?void 0:a.constraint),thumbnails:d}}if(t===Zj){let p=Jc(i,null==(u=n.config)?void 0:u.constraint);return p.url===r.url?r:{...r,...p}}let h=null==(c=null==(s=n.config)?void 0:s.thumbnails)?void 0:c.find(n=>n.name===t);if(!h)return r;let m=null==(l=r.thumbnails)?void 0:l[t],g=Jc(i,h);return g.url===(null==m?void 0:m.url)?r:{...r,thumbnails:function(t,n){let r={};for(let i in t)r[i]=n(t[i],i);return r}(r.thumbnails??{},(n,r)=>r===t?g:n)}}(g.name,n,t,r);o!==t&&h(()=>i(o))}let T=m.map((n,r)=>{let i=null==y?void 0:y[r];return{thumbnail:n,contentView:i,labels:ZN(n,t,i)}}),w=({option:r,croppedImages:o})=>{if(d(r),!t)return;let a=Object.entries(o).reduce((t,[r,i])=>ZU({field:n,content:t,thumbnail:r,croppedImage:i}),t);a!==t&&h(()=>i(a))},O=(null==(u=null==(a=null==b?void 0:b.url)?void 0:a.split("?")[0])?void 0:u.slice(-4))===".svg";return v.jsxs(l.Zb,{color:"grey2",variant:"dashed",children:[v.jsxs(l.Ol,{children:[v.jsxs(l.wP,{children:[x,0!==_.length&&v.jsx(l.xv,{color:"grey11",component:"span",children:`  ${_.join("  ")}`})]}),v.jsxs(l.Pf,{style:{visibility:t&&!o?"visible":"hidden"},children:[v.jsx(Z$,{trigger:v.jsx(l.zx,{startIcon:v.jsx(l.I5,{name:"crop"}),disabled:O,children:"Crop & Resize"}),initialImages:T,initialOption:f,onClose:w}),v.jsx(Ju,{trigger:v.jsx(l.zx,{startIcon:v.jsx(l.I5,{name:"imageSearch"}),children:"Replace"}),onMediaSelected:S}),v.jsx(l.zx,{onClick(){d(0),i(void 0)},startIcon:v.jsx(l.I5,{name:"delete"}),children:"Clear"})]})]}),v.jsx(c.Suspense,{fallback:v.jsx("div",{style:{height:466}}),children:g&&t&&y?v.jsx(Jf,{allContentViews:y,content:t,contentView:b,id:r,onContentChange:i,onPageChange:function(t){h(()=>d(t))},page:f,readOnly:o,thumbnailName:g.name,isUpdating:p}):v.jsx(Jd,{onMediaSelected:S,readOnly:o,isUpdating:p})})]})},Jf=t=>{let{allContentViews:n,content:r,contentView:i,id:o,onContentChange:a,onPageChange:u,page:s,readOnly:c,thumbnailName:f,isUpdating:d}=t;return v.jsxs(l.aY,{children:[v.jsx(l.lr,{getItemSource:Jp,items:n,onPageChange:u,page:s,style:{height:400},children:t=>(null==t?void 0:t.url)&&v.jsx(l.d$,{src:ZL(t.url),alt:t.alt??void 0,isUpdating:d},`${f}_${t.url}`)}),v.jsxs(l.gN,{labelPosition:"side",children:[v.jsx(l.Qy,{htmlFor:o,children:"Alt text"}),v.jsx(l.JO,{children:v.jsx(l.oi,{id:o,onValueChange(t){i&&a(function(t,n,r,i){let o=0===i.length?void 0:i;return t===Zj?{...n,alt:o}:{...n,thumbnails:{...n.thumbnails,[t]:{...r,alt:o}}}}(f,r,i,t))},placeholder:"Short description for the visually impaired",readOnly:c||!i,value:(null==i?void 0:i.alt)??""})})]})]})},Jd=({onMediaSelected:t,readOnly:n,isUpdating:r})=>v.jsx(l.aY,{children:v.jsx(l.Zb,{color:"grey3",variant:"outlined",children:v.jsx(l.aY,{style:{paddingBlock:parseFloat(l.TV.space[48])},children:v.jsxs(l.R$,{children:[v.jsx(l.av,{name:"cloudUpload"}),v.jsx(l._T,{children:r?"Preparing your image...":"You haven't selected an image"}),!n&&v.jsx(l.Qj,{children:v.jsx(Ju,{trigger:v.jsx(l.zx,{disabled:r,children:"Select image"}),onMediaSelected:t})})]})})})});function Jp(t){return null!=t&&t.url?ZL(t.url):void 0}function Jh(t){let{content:n,field:r,id:i,onContentChange:o,readOnly:a}=t;return v.jsxs(l.gN,{children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"notes"})}),v.jsx(l.Qy,{htmlFor:i,children:V_(r)}),v.jsx(l.JO,{children:v.jsx(l.Kx,{id:i,placeholder:VS(r),readOnly:a,value:(null==n?void 0:n.value)??"",onChange(t){var n;o((n=t,0===n.length?void 0:{__TYPE__:"FieldContent",type:"Text",value:n}))}})})]})}function Jm(t){return t.charAt(0).toUpperCase()+t.slice(1)}let Jg={unclassified:["unclassified","published"],archived:["unclassified","published"],release:["release","published"],published:["published"]};VP.registerFetcherConfig(Jx,{cacheCapacity:500,revalidationStrategy:{type:"never"}});let Jy=Zi("status",[Zt({status:Zd("unclassified")}),Zt({status:Zd("published")}),Zt({status:Zd("release"),release_id:HY()}),Zt({status:Zd("archived")})]).and(Zt({version_id:HY(),tags:Ze(HY()),custom_type_label:HY(),preview_summary:HY().optional(),preview_image:HY().optional()})),Jv=Zt({id:HY(),custom_type_id:HY(),title:HY(),versions:Ze(Jy)}),Jb=Zt({total:HQ(),cursor:HY().optional(),results:Ze(Jv)});function Jx(t,n,r,i){if(!t)throw Error("Missing EditorConfig.documents");let o=new URLSearchParams({limit:30..toString(),...n&&{cursor:n}});return VC(`${t}?${o.toString()}&${i}`,{credentials:VA(r),okType:Jb})}function J_(t){let{onSelectDocument:n,...r}=t,{documents:i}=iX(),[o,a]=(0,c.useState)(""),[u,s]=(0,c.useState)("");Vx(o,300,()=>s(o));let[f,d]=(0,c.useTransition)(),[p,h]=(0,c.useState)(!1);return Vx(f,100,()=>h(f)),v.jsx(l.Vq,{size:{height:727,width:656},hasClose:!1,...r,children:v.jsx(l.cZ,{children:v.jsxs(l.xu,{flexDirection:"column",height:"100%",children:[v.jsxs(l.xu,{padding:16,flexDirection:"column",gap:12,children:[v.jsx(l.yt,{value:o,onValueChange:a,placeholder:"Search a page",icon:"search"}),v.jsx(l.xv,{variant:"smallBold",color:"grey11",children:"Link to a document"})]}),i?v.jsx(l.SV,{renderError:JS,children:v.jsx(c.Suspense,{children:v.jsx(JT,{searchTerm:u,tagsFilter:[],typesFilter:[],startTransition:d,onSelectDocument:n})})}):v.jsx(Jw,{message:"You can't select a document. No mock data can be rendered for this field."}),v.jsx(l.FN,{anchor:v.jsx(l.xu,{position:"relative",width:"100%",justifyContent:"center",bottom:72}),loadingIndicator:!0,open:p,title:"Loading more results ...",seconds:1})]})})})}function JS(){return v.jsx(l.xu,{height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",children:v.jsx(l.Iq,{title:"Request failed",description:"An error occurred while fetching documents.",errorImageSrc:l.Os})})}function JT(t){let{searchTerm:n,tagsFilter:r,typesFilter:i,startTransition:o,onSelectDocument:a}=t,{documents:u,onHasReachedBottom:s}=function(t){var n,r,i;let{searchTerm:o,tagsFilter:a,typesFilter:u}=t,{documents:s,env:l,status:f}=iX(),[d,p]=(0,c.useState)(""),[h,m]=(0,c.useState)([]),[g,y]=(0,c.useState)(""),v=[{name:"tags",values:a},{name:"customTypes",values:u},{name:"status",values:Jg[f]},{name:"term",values:[o]}],b=new URLSearchParams((i=v,i.reduce((t,n)=>{let r=n.values.map(t=>[n.name,t]);return t.concat(r)},[]))).toString(),x=Vj(Jx,[null==s?void 0:s.url,b===g?d:"",l,b]);return b!==g?(y(b),p(""),m(x.results)):x.results.length>0&&(null==(n=h.at(-1))?void 0:n.id)!==(null==(r=x.results.at(-1))?void 0:r.id)&&m(t=>t.concat(x.results)),{documents:h,onHasReachedBottom:function(){x.cursor&&p(x.cursor)},response:x}}({searchTerm:n,tagsFilter:r,typesFilter:i});return v.jsx(l.xr,{onScrollToBottom:()=>o(s),style:{height:"100%",gap:l.TV.space[16],padding:l.TV.space[16]},children:v.jsxs(l.xu,{flexDirection:"column",gap:12,children:[0===u.length&&v.jsx(Jw,{}),u.map(t=>{var n,r,i,o,u,s;return v.jsx(l.z4,{documentType:(null==(n=t.versions[0])?void 0:n.custom_type_label)??"",description:null==(r=t.versions[0])?void 0:r.preview_summary,tags:(null==(i=t.versions[0])?void 0:i.tags)??[],title:t.title,previewImageUrl:null==(o=t.versions[0])?void 0:o.preview_image,onSelect:()=>a(t.id),status:null==(u=t.versions[0])?void 0:u.status},`${t.id}-${(null==(s=t.versions[0])?void 0:s.status)??""}`)})]})})}function Jw(t){let{message:n="There are no versions matching this request"}=t;return v.jsxs(l.xu,{justifyContent:"center",flexDirection:"column",alignItems:"center",gap:16,children:[v.jsx(l.xu,{height:56,width:56,backgroundColor:"purple12",alignItems:"center",justifyContent:"center",borderRadius:"100%",children:v.jsx(l.I5,{name:"close",size:"large",color:"purple10"})}),v.jsx(l.xu,{maxWidth:204,children:v.jsx(l.xv,{color:"grey11",align:"center",children:n})})]})}function JO(t){let{hasLink:n,onUnlink:r,selectEnabled:i,selectedType:o,onValueChange:a}=t;return v.jsxs(v.Fragment,{children:[v.jsxs(l.Ph,{value:o,variant:"secondary",size:"small",icon:function(t){if(t)switch(t){case"document":return"description";case"web":return"public";case"media":return"image"}}(o),disabled:!i,onValueChange:a,placeholder:"Choose link type",children:[v.jsx(l.Ql,{value:"web",icon:"public",children:"Link to web page"}),v.jsx(l.Ql,{value:"document",icon:"description",children:"Link to Prismic page"})]}),v.jsx(l.zx,{startIcon:v.jsx(l.I5,{name:"close"}),variant:"secondary",size:"small",disabled:!n,onClick:r})]})}let JI={DocumentLink:"document",ExternalLink:"web",FileLink:"media",ImageLink:"media"},Jk={document:"DocumentLink",web:"ExternalLink",media:"FileLink"},JM=Zt({id:HY(),title:HY()});function JC(t,n,r){if(!t)throw Error("Missing EditorConfig.documents");return VC(`${t}/${r}`,{credentials:VA(n),okType:JM})}function JR(t){var n;let{content:r,field:i,id:o,onContentChange:a,readOnly:u}=t,[s,f]=(0,c.useState)(!1),[d,p]=(0,c.useState)(!1),[h,m]=(0,c.useState)(!1),{contentType:g,selectType:y,isUnsupportedField:b,fieldValue:x,onValueChange:_,onTypeChange:S,placeholder:T,errorBoundaryRef:w,isTypeSelectEnabled:O,onDocumentSelected:I,onError:k}=function(t){var n,r,i;let{field:o,content:a,onContentChange:u}=t,s=a?"DocumentLink"===a.value.__TYPE__?a.value.id:"ExternalLink"===a.value.__TYPE__?a.value.url:a.value.name:"",[l,f]=(0,c.useState)(()=>{var t,n;return null!=(t=o.config)&&t.select?Jk[null==(n=o.config)?void 0:n.select]:null==a?void 0:a.value.__TYPE__}),[d,p]=(0,c.useState)(!1),[h,m]=(0,c.useState)(s),g=(0,c.useRef)(null);h!==s&&(m(s),d&&(p(!1),null==(i=g.current)||i.reset()));let y=l?JI[l]:void 0,v=(null==a?void 0:a.value.__TYPE__)&&["FileLink","ImageLink"].includes(null==a?void 0:a.value.__TYPE__),b=(null==(n=o.config)?void 0:n.select)&&"media"===o.config.select;function x(t){if(!t)return u(void 0);switch(l){case"ExternalLink":return u({__TYPE__:"LinkContent",value:{__TYPE__:"ExternalLink",url:t}});case"DocumentLink":return u({__TYPE__:"LinkContent",value:{__TYPE__:"DocumentLink",id:t}});default:return u(void 0)}}function _(t){x(t)}function S(t){x(t)}let T=!(null!=(r=o.config)&&r.select);return{contentType:l,selectType:y,isUnsupportedField:b||v,fieldValue:s,onValueChange:_,onTypeChange:function(t){f(Jk[t]),x("")},placeholder:VS(o),isTypeSelectEnabled:T,onDocumentSelected:S,onError:function(){p(!0)},errorBoundaryRef:g}}({content:r,field:i,onContentChange:a});if(b)return v.jsx(Jj,{id:o,field:i,content:r});let M=VW(x),C=(s||d)&&Boolean(M),R={id:o,contentType:g,isTypeSelectEnabled:O,onBlur:()=>f(!1),onFocus(){f(!0),"DocumentLink"===g&&m(!0)},onTypeChange:S,onValueChange:_,readOnly:u||!g,textType:M?"link":"normal",value:x,placeholder:T,selectType:y};return v.jsxs(v.Fragment,{children:[v.jsx(l.lc,{url:M,title:M?(n=M,n.host.split(".").slice(0,-1).filter(t=>"www"!==t).map(Jm).join("")):"",open:C,align:"start",sideOffset:-3,openDelay:100,closeDelay:200,onMouseOverChange:p,anchor:v.jsxs(l.gN,{onMouseOverChange:f,children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"link"})}),v.jsx(l.Qy,{htmlFor:o,children:V_(i)}),v.jsx(l.JO,{children:"DocumentLink"===g&&""!==x?v.jsx(c.Suspense,{fallback:v.jsx(JE,{...R,value:"..."}),children:v.jsx(l.SV,{ref:w,onError:k,renderError(){var t;return t=R,v.jsx(JE,{...t,textType:"link"})},children:v.jsx(JA,{...R,documentId:x,openDocumentListModal:()=>m(!0)})})}):v.jsx(JE,{...R})})]})}),v.jsx(J_,{open:h,onOpenChange:m,onSelectDocument(t){m(!1),I(t)}})]})}function JE(t){let{id:n,onValueChange:r,placeholder:i,readOnly:o,value:a,textType:u,onFocus:s,onBlur:c,contentType:f,isTypeSelectEnabled:d,selectType:p,onTypeChange:h}=t;return v.jsx(l.oi,{id:n,onValueChange:r,placeholder:i,readOnly:o||"DocumentLink"===f,value:a,variant:u,onFocus:s,onBlur:c,cursor:"DocumentLink"===f?"pointer":"text",endAdornment:v.jsx(JO,{hasLink:Boolean(a),onUnlink:()=>r(""),selectEnabled:d,selectedType:p,onValueChange:h})})}function JA(t){let{id:n,documentId:r,openDocumentListModal:i,onValueChange:o,isTypeSelectEnabled:a,selectType:u,onTypeChange:s}=t,c=function(t){let{env:n,documents:r}=iX();return Vj(JC,[null==r?void 0:r.url,n,t]).title}(r);return v.jsx(l.oi,{id:n,readOnly:!0,value:c,variant:"link",onFocus:i,cursor:"pointer",endAdornment:v.jsx(JO,{hasLink:!0,onUnlink:()=>o(""),selectEnabled:a,selectedType:u,onValueChange:s})})}function Jj({id:t,field:n,content:r}){let[i,o]=(0,c.useState)(!1),[a,u]=(0,c.useState)(!1);Vx(i,300,()=>u(i));let s=(null==r?void 0:r.value.__TYPE__)==="DocumentLink"?null==r?void 0:r.value.id:null==r?void 0:r.value.url;return v.jsxs(l.gN,{onMouseOverChange:o,children:[v.jsx(l.u,{title:"Coming soon",content:"This feature is currently in development and will be available soon. Stay tuned for updates!",side:"bottom",open:a,children:v.jsx(JN,{})}),v.jsx(l.fw,{disabled:!0,children:v.jsx(l.I5,{name:"link"})}),v.jsx(l.Qy,{htmlFor:t,children:V_(n)}),v.jsx(l.JO,{disabled:!0,children:v.jsx(l.Kx,{id:t,onChange(){},placeholder:VS(n),readOnly:!0,value:s})})]})}let JN=(0,c.forwardRef)(function(t,n){return v.jsx("div",{ref:n,style:{width:50,position:"absolute",top:40,left:30}})}),JP=({content:t,field:n,id:r,onContentChange:i,readOnly:o})=>{var a,u;let s=Number(null==t?void 0:t.value),c=Number.isFinite(s)?s:void 0;return v.jsxs(l.gN,{children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"pin"})}),v.jsx(l.Qy,{htmlFor:r,children:V_(n)}),v.jsx(l.JO,{children:v.jsx(l.Y2,{id:r,value:c,min:null==(a=n.config)?void 0:a.min,max:null==(u=n.config)?void 0:u.max,placeholder:VS(n),readOnly:o,onValueChange(t){var n;return i((n=t,void 0===n?void 0:{__TYPE__:"FieldContent",type:"Number",value:String(n)}))}})})]})};function JF(t){this.content=t}JF.prototype={constructor:JF,find:function(t){for(var n=0;n<this.content.length;n+=2)if(this.content[n]===t)return n;return -1},get:function(t){var n=this.find(t);return -1==n?void 0:this.content[n+1]},update:function(t,n,r){var i=r&&r!=t?this.remove(r):this,o=i.find(t),a=i.content.slice();return -1==o?a.push(r||t,n):(a[o+1]=n,r&&(a[o]=r)),new JF(a)},remove:function(t){var n=this.find(t);if(-1==n)return this;var r=this.content.slice();return r.splice(n,2),new JF(r)},addToStart:function(t,n){return new JF([t,n].concat(this.remove(t).content))},addToEnd:function(t,n){var r=this.remove(t).content.slice();return r.push(t,n),new JF(r)},addBefore:function(t,n,r){var i=this.remove(n),o=i.content.slice(),a=i.find(t);return o.splice(-1==a?o.length:a,0,n,r),new JF(o)},forEach:function(t){for(var n=0;n<this.content.length;n+=2)t(this.content[n],this.content[n+1])},prepend:function(t){return(t=JF.from(t)).size?new JF(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=JF.from(t)).size?new JF(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var n=this;t=JF.from(t);for(var r=0;r<t.content.length;r+=2)n=n.remove(t.content[r]);return n},toObject:function(){var t={};return this.forEach(function(n,r){t[n]=r}),t},get size(){return this.content.length>>1}},JF.from=function(t){if(t instanceof JF)return t;var n=[];if(t)for(var r in t)n.push(r,t[r]);return new JF(n)};class JL{constructor(t,n){if(this.content=t,this.size=n||0,null==n)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let a=0,u=0;u<n;a++){let s=this.content[a],c=u+s.nodeSize;if(c>t&&!1!==r(s,i+u,o||null,a)&&s.content.size){let l=u+1;s.nodesBetween(Math.max(0,t-l),Math.min(s.content.size,n-l),r,i+l)}u=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",a=!0;return this.nodesBetween(t,n,(u,s)=>{u.isText?(o+=u.text.slice(Math.max(t,s)-s,n-s),a=!r):u.isLeaf?(i?o+="function"==typeof i?i(u):i:u.type.spec.leafText&&(o+=u.type.spec.leafText(u)),a=!r):!a&&u.isBlock&&(o+=r,a=!0)},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new JL(i,this.size+t.size)}cut(t,n=this.size){if(0==t&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,a=0;a<n;o++){let u=this.content[o],s=a+u.nodeSize;s>t&&((a<t||s>n)&&(u=u.isText?u.cut(Math.max(0,t-a),Math.min(u.text.length,n-a)):u.cut(Math.max(0,t-a-1),Math.min(u.content.size,n-a-1))),r.push(u),i+=u.nodeSize),a=s}return new JL(r,i)}cutByIndex(t,n){return t==n?JL.empty:0==t&&n==this.content.length?this:new JL(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new JL(i,o)}addToStart(t){return new JL([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new JL(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return function t(n,r,i){for(let o=0;;o++){if(o==n.childCount||o==r.childCount)return n.childCount==r.childCount?null:i;let a=n.child(o),u=r.child(o);if(a==u){i+=a.nodeSize;continue}if(!a.sameMarkup(u))return i;if(a.isText&&a.text!=u.text){for(let s=0;a.text[s]==u.text[s];s++)i++;return i}if(a.content.size||u.content.size){let c=t(a.content,u.content,i+1);if(null!=c)return c}i+=a.nodeSize}}(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return function t(n,r,i,o){for(let a=n.childCount,u=r.childCount;;){if(0==a||0==u)return a==u?null:{a:i,b:o};let s=n.child(--a),c=r.child(--u),l=s.nodeSize;if(s==c){i-=l,o-=l;continue}if(!s.sameMarkup(c))return{a:i,b:o};if(s.isText&&s.text!=c.text){let f=0,d=Math.min(s.text.length,c.text.length);for(;f<d&&s.text[s.text.length-f-1]==c.text[c.text.length-f-1];)f++,i--,o--;return{a:i,b:o}}if(s.content.size||c.content.size){let p=t(s.content,c.content,i-1,o-1);if(p)return p}i-=l,o-=l}}(this,t,n,r)}findIndex(t,n=-1){if(0==t)return JW(0,t);if(t==this.size)return JW(this.content.length,t);if(t>this.size||t<0)throw RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=i+this.child(r).nodeSize;if(o>=t)return o==t||n>0?JW(r+1,o):JW(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return JL.empty;if(!Array.isArray(n))throw RangeError("Invalid input for Fragment.fromJSON");return new JL(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return JL.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new JL(n||t,r)}static from(t){if(!t)return JL.empty;if(t instanceof JL)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new JL([t],t.nodeSize);throw RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}JL.empty=new JL([],0);let JD={index:0,offset:0};function JW(t,n){return JD.index=t,JD.offset=n,JD}function JU(t,n){if(t===n)return!0;if(!(t&&"object"==typeof t)||!(n&&"object"==typeof n))return!1;let r=Array.isArray(t);if(Array.isArray(n)!=r)return!1;if(r){if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!JU(t[i],n[i]))return!1}else{for(let o in t)if(!(o in n)||!JU(t[o],n[o]))return!1;for(let a in n)if(!(a in t))return!1}return!0}let Jz=class t{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&JU(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(n){if(!n||Array.isArray(n)&&0==n.length)return t.none;if(n instanceof t)return[n];let r=n.slice();return r.sort((t,n)=>t.type.rank-n.type.rank),r}};Jz.none=[];class JB extends Error{}class Jq{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=function t(n,r,i,o){let{index:a,offset:u}=n.findIndex(r),s=n.maybeChild(a);if(u==r||s.isText)return o&&!o.canReplace(a,a,i)?null:n.cut(0,r).append(i).append(n.cut(r));let c=t(s.content,r-u-1,i);return c&&n.replaceChild(a,s.copy(c))}(this.content,t+this.openStart,n);return r&&new Jq(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Jq(function t(n,r,i){let{index:o,offset:a}=n.findIndex(r),u=n.maybeChild(o),{index:s,offset:c}=n.findIndex(i);if(a==r||u.isText){if(c!=i&&!n.child(s).isText)throw RangeError("Removing non-flat range");return n.cut(0,r).append(n.cut(i))}if(o!=s)throw RangeError("Removing non-flat range");return n.replaceChild(o,u.copy(t(u.content,r-a-1,i-a-1)))}(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Jq.empty;let r=n.openStart||0,i=n.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw RangeError("Invalid input for Slice.fromJSON");return new Jq(JL.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new Jq(t,r,i)}}function JK(t,n){if(!n.type.compatibleContent(t.type))throw new JB("Cannot join "+n.type.name+" onto "+t.type.name)}function J$(t,n,r){let i=t.node(r);return JK(i,n.node(r)),i}function JV(t,n){let r=n.length-1;r>=0&&t.isText&&t.sameMarkup(n[r])?n[r]=t.withText(n[r].text+t.text):n.push(t)}function JH(t,n,r,i){let o=(n||t).node(r),a=0,u=n?n.index(r):o.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(JV(t.nodeAfter,i),a++));for(let s=a;s<u;s++)JV(o.child(s),i);n&&n.depth==r&&n.textOffset&&JV(n.nodeBefore,i)}function JZ(t,n){return t.type.checkContent(n),t.copy(n)}function JJ(t,n,r){let i=[];return JH(null,t,r,i),t.depth>r&&JV(JZ(J$(t,n,r+1),JJ(t,n,r+1)),i),JH(n,null,r,i),new JL(i)}Jq.empty=new Jq(JL.empty,0,0);class JG{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):0==t?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[3*n],i=0==n?0:this.path[3*n-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(0==t.content.size)return Jz.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let o=r;r=i,i=o}let a=r.marks;for(var u=0;u<a.length;u++)!1!==a[u].type.spec.inclusive||i&&a[u].isInSet(i.marks)||(a=a[u--].removeFromSet(a));return a}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)!1!==r[o].type.spec.inclusive||i&&r[o].isInSet(i.marks)||(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new J0(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=t;;){let{index:u,offset:s}=a.content.findIndex(o),c=o-s;if(r.push(a,u,i+s),!c||(a=a.child(u)).isText)break;o=c-1,i+=s+1}return new JG(n,r,o)}static resolveCached(t,n){for(let r=0;r<JY.length;r++){let i=JY[r];if(i.pos==n&&i.doc==t)return i}let o=JY[JQ]=JG.resolve(t,n);return JQ=(JQ+1)%JX,o}}let JY=[],JQ=0,JX=12;class J0{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}let J1=Object.create(null),J2=class t{constructor(t,n,r,i=Jz.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||JL.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&JU(this.attrs,n||t.defaultAttrs||J1)&&Jz.sameSet(this.marks,r||Jz.none)}copy(n=null){return n==this.content?this:new t(this.type,this.attrs,n,this.marks)}mark(n){return n==this.marks?this:new t(this.type,this.attrs,this.content,n)}cut(t,n=this.content.size){return 0==t&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Jq.empty;let i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),u=i.start(a),s=i.node(a).content.cut(i.pos-u,o.pos-u);return new Jq(s,i.depth-a,o.depth-a)}replace(t,n,r){return function(t,n,r){if(r.openStart>t.depth)throw new JB("Inserted content deeper than insertion position");if(t.depth-r.openStart!=n.depth-r.openEnd)throw new JB("Inconsistent open depths");return function t(n,r,i,o){let a=n.index(o),u=n.node(o);if(a==r.index(o)&&o<n.depth-i.openStart){let s=t(n,r,i,o+1);return u.copy(u.content.replaceChild(a,s))}if(!i.content.size)return JZ(u,JJ(n,r,o));if(i.openStart||i.openEnd||n.depth!=o||r.depth!=o){let{start:c,end:l}=function(t,n){let r=n.depth-t.openStart,i=n.node(r).copy(t.content);for(let o=r-1;o>=0;o--)i=n.node(o).copy(JL.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}(i,n);return JZ(u,function t(n,r,i,o,a){let u=n.depth>a&&J$(n,r,a+1),s=o.depth>a&&J$(i,o,a+1),c=[];return JH(null,n,a,c),u&&s&&r.index(a)==i.index(a)?(JK(u,s),JV(JZ(u,t(n,r,i,o,a+1)),c)):(u&&JV(JZ(u,JJ(n,r,a+1)),c),JH(r,i,a,c),s&&JV(JZ(s,JJ(i,o,a+1)),c)),JH(o,null,a,c),new JL(c)}(n,c,l,r,o))}{let f=n.parent,d=f.content;return JZ(f,d.cut(0,n.parentOffset).append(i.content).append(d.cut(r.parentOffset)))}}(t,n,r,0)}(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(!(n=n.maybeChild(r)))return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return JG.resolveCached(this,t)}resolveNoCache(t){return JG.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,t=>(r.isInSet(t.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),J5(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=JL.empty,i=0,o=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,o),u=a&&a.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let s=i;s<o;s++)if(!this.type.allowsMarks(r.child(s).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return!!a&&a.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=Jz.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!Jz.sameSet(t,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,n){if(!n)throw RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if("text"==n.type){if("string"!=typeof n.text)throw RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=JL.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}};J2.prototype.text=void 0;class J3 extends J2{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):J5(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new J3(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new J3(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return 0==t&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function J5(t,n){for(let r=t.length-1;r>=0;r--)n=t[r].type.name+"("+n+")";return n}class J4{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){var r;let i=new J9(t,n);if(null==i.next)return J4.empty;let o=J6(i);i.next&&i.err("Unexpected trailing text");let a,u=(r=function(t){let n=[[]];return o(a(t,0),r()),n;function r(){return n.push([])-1}function i(t,r,i){let o={term:i,to:r};return n[t].push(o),o}function o(t,n){t.forEach(t=>t.to=n)}function a(t,n){if("choice"==t.type)return t.exprs.reduce((t,r)=>t.concat(a(r,n)),[]);if("seq"==t.type)for(let u=0;;u++){let s=a(t.exprs[u],n);if(u==t.exprs.length-1)return s;o(s,n=r())}else if("star"==t.type){let c=r();return i(n,c),o(a(t.expr,c),c),[i(c)]}else if("plus"==t.type){let l=r();return o(a(t.expr,n),l),o(a(t.expr,l),l),[i(l)]}else{if("opt"==t.type)return[i(n)].concat(a(t.expr,n));if("range"==t.type){let f=n;for(let d=0;d<t.min;d++){let p=r();o(a(t.expr,f),p),f=p}if(-1==t.max)o(a(t.expr,f),f);else for(let h=t.min;h<t.max;h++){let m=r();i(f,m),o(a(t.expr,f),m),f=m}return[i(f)]}if("name"==t.type)return[i(n,void 0,t.value)];throw Error("Unknown expr type")}}}(o),a=Object.create(null),function t(n){let i=[];n.forEach(t=>{r[t].forEach(({term:t,to:n})=>{if(!t)return;let o;for(let a=0;a<i.length;a++)i[a][0]==t&&(o=i[a][1]);Gi(r,n).forEach(n=>{o||i.push([t,o=[]]),-1==o.indexOf(n)&&o.push(n)})})});let o=a[n.join(",")]=new J4(n.indexOf(r.length-1)>-1);for(let u=0;u<i.length;u++){let s=i[u][1].sort(Gr);o.next.push({type:i[u][0],next:a[s.join(",")]||t(s)})}return o}(Gi(r,0)));return function(t,n){for(let r=0,i=[t];r<i.length;r++){let o=i[r],a=!o.validEnd,u=[];for(let s=0;s<o.next.length;s++){let{type:c,next:l}=o.next[s];u.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),-1==i.indexOf(l)&&i.push(l)}a&&n.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(u,i),u}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];return function o(a,u){let s=a.matchFragment(t,r);if(s&&(!n||s.validEnd))return JL.from(u.map(t=>t.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:l,next:f}=a.next[c];if(!(l.isText||l.hasRequiredAttrs())&&-1==i.indexOf(f)){i.push(f);let d=o(f,u.concat(l));if(d)return d}}return null}(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let u=i;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let s=0;s<o.next.length;s++){let{type:c,next:l}=o.next[s];c.isLeaf||c.hasRequiredAttrs()||c.name in n||i.type&&!l.validEnd||(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function n(r){t.push(r);for(let i=0;i<r.next.length;i++)-1==t.indexOf(r.next[i].next)&&n(r.next[i].next)}(this),t.map((n,r)=>{let i=r+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+t.indexOf(n.next[o].next);return i}).join(`
`)}}J4.empty=new J4(!0);class J9{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw SyntaxError(t+" (in content expression '"+this.string+"')")}}function J6(t){let n=[];do n.push(J8(t));while(t.eat("|"));return 1==n.length?n[0]:{type:"choice",exprs:n}}function J8(t){let n=[];do n.push(J7(t));while(t.next&&")"!=t.next&&"|"!=t.next);return 1==n.length?n[0]:{type:"seq",exprs:n}}function J7(t){let n=Gn(t);for(;;)if(t.eat("+"))n={type:"plus",expr:n};else if(t.eat("*"))n={type:"star",expr:n};else if(t.eat("?"))n={type:"opt",expr:n};else if(t.eat("{"))n=Gt(t,n);else break;return n}function Ge(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let n=Number(t.next);return t.pos++,n}function Gt(t,n){let r=Ge(t),i=r;return t.eat(",")&&(i="}"!=t.next?Ge(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:i,expr:n}}function Gn(t){if(t.eat("(")){let n=J6(t);return t.eat(")")||t.err("Missing closing paren"),n}if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let r=(function(t,n){let r=t.nodeTypes,i=r[n];if(i)return[i];let o=[];for(let a in r){let u=r[a];u.groups.indexOf(n)>-1&&o.push(u)}return 0==o.length&&t.err("No node type or group '"+n+"' found"),o})(t,t.next).map(n=>(null==t.inline?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,1==r.length?r[0]:{type:"choice",exprs:r}}}function Gr(t,n){return n-t}function Gi(t,n){let r=[];return function n(i){let o=t[i];if(1==o.length&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:u,to:s}=o[a];u||-1!=r.indexOf(s)||n(s)}}(n),r.sort(Gr)}function Go(t){let n=Object.create(null);for(let r in t){let i=t[r];if(!i.hasDefault)return null;n[r]=i.default}return n}function Ga(t,n){let r=Object.create(null);for(let i in t){let o=n&&n[i];if(void 0===o){let a=t[i];if(a.hasDefault)o=a.default;else throw RangeError("No value supplied for attribute "+i)}r[i]=o}return r}function Gu(t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Gc(t[r]);return n}let Gs=class t{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Gu(r.attrs),this.defaultAttrs=Go(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==J4.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Ga(this.attrs,t)}create(t=null,n,r){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new J2(this,this.computeAttrs(t),JL.from(n),Jz.setFrom(r))}createChecked(t=null,n,r){return n=JL.from(n),this.checkContent(n),new J2(this,this.computeAttrs(t),n,Jz.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),(n=JL.from(n)).size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let o=this.contentMatch.matchFragment(n),a=o&&o.fillBefore(JL.empty,!0);return a?new J2(this,t,n.append(a),Jz.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Jz.none:t}static compile(n,r){let i=Object.create(null);n.forEach((n,o)=>i[n]=new t(n,r,o));let o=r.spec.topNode||"doc";if(!i[o])throw RangeError("Schema is missing its top node type ('"+o+"')");if(!i.text)throw RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw RangeError("The text node type should not have attributes");return i}};class Gc{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class Gl{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=Gu(i.attrs),this.excluded=null;let o=Go(this.attrs);this.instance=o?new Jz(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Jz(this,Ga(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((t,o)=>r[t]=new Gl(t,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class Gf{constructor(t){this.cached=Object.create(null);let n=this.spec={};for(let r in t)n[r]=t[r];n.nodes=JF.from(t.nodes),n.marks=JF.from(t.marks||{}),this.nodes=Gs.compile(this.spec.nodes,this),this.marks=Gl.compile(this.spec.marks,this);let i=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw RangeError(o+" can not be both a node and a mark");let a=this.nodes[o],u=a.spec.content||"",s=a.spec.marks;a.contentMatch=i[u]||(i[u]=J4.parse(u,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet="_"==s?null:s?Gd(this,s.split(" ")):""!=s&&a.inlineContent?null:[]}for(let c in this.marks){let l=this.marks[c],f=l.spec.excludes;l.excluded=null==f?[l]:""==f?[]:Gd(this,f.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if("string"==typeof t)t=this.nodeType(t);else if(t instanceof Gs){if(t.schema!=this)throw RangeError("Node type from different schema used ("+t.name+")")}else throw RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new J3(r,r.defaultAttrs,t,Jz.setFrom(n))}mark(t,n){return"string"==typeof t&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return J2.fromJSON(this,t)}markFromJSON(t){return Jz.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw RangeError("Unknown node type: "+t);return n}}function Gd(t,n){let r=[];for(let i=0;i<n.length;i++){let o=n[i],a=t.marks[o],u=a;if(a)r.push(a);else for(let s in t.marks){let c=t.marks[s];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&r.push(u=c)}if(!u)throw SyntaxError("Unknown mark type: '"+n[i]+"'")}return r}class Gp{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let r=t.nodes[n.node];return r.contentMatch.matchType(r)})}parse(t,n={}){let r=new Gb(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new Gb(this,n,!0);return r.addAll(t,n.from,n.to),Jq.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Gx(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(!1===a)continue;o.attrs=a||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],u=a.style;if(!(0!=u.indexOf(t)||a.context&&!r.matchesContext(a.context)||u.length>t.length&&(61!=u.charCodeAt(t.length)||u.slice(t.length+1)!=n))){if(a.getAttrs){let s=a.getAttrs(n);if(!1===s)continue;a.attrs=s||void 0}return a}}}static schemaRules(t){let n=[];function r(t){let r=null==t.priority?50:t.priority,i=0;for(;i<n.length;i++){let o=n[i];if((null==o.priority?50:o.priority)<r)break}n.splice(i,0,t)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(t=>{r(t=G_(t)),t.mark||t.ignore||t.clearMark||(t.mark=i)})}for(let a in t.nodes){let u=t.nodes[a].spec.parseDOM;u&&u.forEach(t=>{r(t=G_(t)),t.node||t.ignore||t.mark||(t.node=a)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Gp(t,Gp.schemaRules(t)))}}let Gh={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gm={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Gg={ol:!0,ul:!0};function Gy(t,n,r){return null!=n?(n?1:0)|("full"===n?2:0):t&&"pre"==t.whitespace?3:-5&r}class Gv{constructor(t,n,r,i,o,a,u){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=u,this.content=[],this.activeMarks=Jz.none,this.stashMarks=[],this.match=a||(4&u?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(JL.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}let i=JL.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(JL.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):GS(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Gh.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Gb{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,a=Gy(null,n.preserveWhitespace,0)|(r?4:0);o=i?new Gv(i.type,i.attrs,Jz.none,Jz.none,!0,n.topMatch||i.type.contentMatch,a):r?new Gv(null,null,Jz.none,Jz.none,!0,null,a):new Gv(t.schema.topNodeType,null,Jz.none,Jz.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let n=t.getAttribute("style");if(n){let r=this.readStyles(function(t){let n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r,i=[];for(;r=n.exec(t);)i.push(r[1],r[2].trim());return i}(n));if(!r)return;let[i,o]=r,a=this.top;for(let u=0;u<o.length;u++)this.removePendingMark(o[u],a);for(let s=0;s<i.length;s++)this.addPendingMark(i[s]);this.addElement(t);for(let c=0;c<i.length;c++)this.removePendingMark(i[c],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}else this.addElement(t)}}addTextNode(t){let n=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(1&r.options)n=2&r.options?n.replace(/\r\n?/g,`
`):n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=t.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;Gg.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(let n=t.firstChild,r=null;n;n=n.nextSibling){let i=1==n.nodeType?n.nodeName.toLowerCase():null;i&&Gg.hasOwnProperty(i)&&r?(r.appendChild(n),n=r):"li"==i?r=n:i&&(r=null)}}(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(o?o.ignore:Gm.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let a,u=this.top,s=this.needsBlock;if(Gh.hasOwnProperty(r))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),a=!0,u.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),a&&this.sync(u),this.needsBlock=s}else this.addElementByRule(t,o,!1===o.consuming?i:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Jz.none,r=Jz.none;e:for(let i=0;i<t.length;i+=2)for(let o;;){let a=this.parser.matchStyle(t[i],t[i+1],this,o);if(!a)continue e;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.forEach(t=>{a.clearMark(t)&&(r=t.addToSet(r))}):n=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(n),!1===a.consuming)o=a;else break}return[n,r]}addElementByRule(t,n,r){let i,o,a;n.node?(o=this.parser.schema.nodes[n.node]).isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):i=this.enter(o,n.attrs||null,n.preserveWhitespace):(a=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(a));let u=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(t=>this.insertNode(t));else{let s=t;"string"==typeof n.contentElement?s=t.querySelector(n.contentElement):"function"==typeof n.contentElement?s=n.contentElement(t):n.contentElement&&(s=n.contentElement),this.findAround(t,s,!0),this.addAll(s)}i&&this.sync(u)&&this.open--,a&&this.removePendingMark(a,u)}addAll(t,n,r){let i=n||0;for(let o=n?t.childNodes[n]:t.firstChild,a=null==r?null:t.childNodes[r];o!=a;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(t);if(a&&(!n||n.length>a.length)&&(n=a,r=o,!a.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let u=0;u<n.length;u++)this.enterInner(n[u],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));let i=r.activeMarks;for(let o=0;o<t.marks.length;o++)(!r.type||r.type.allowsMarkType(t.marks[o].type))&&(i=t.marks[o].addToSet(i));return r.content.push(t.mark(i)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let a=Gy(t,i,o.options);4&o.options&&0==o.content.length&&(a|=4),this.nodes.push(new Gv(t,n,o.activeMarks,o.pendingMarks,r,null,a)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(t,u)=>{for(;t>=0;t--){let s=n[t];if(""==s){if(t==n.length-1||0==t)continue;for(;u>=o;u--)if(a(t-1,u))return!0;return!1}{let c=u>0||0==u&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!c||c.name!=s&&-1==c.groups.indexOf(s))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let i in this.parser.schema.nodes){let o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}}addPendingMark(t){let n=function(t,n){for(let r=0;r<n.length;r++)if(t.eq(n[r]))return n[r]}(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function Gx(t,n){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,n)}function G_(t){let n={};for(let r in t)n[r]=t[r];return n}function GS(t,n){let r=n.schema.nodes;for(let i in r){let o=r[i];if(!o.allowsMarkType(t))continue;let a=[],u=t=>{a.push(t);for(let r=0;r<t.edgeCount;r++){let{type:i,next:o}=t.edge(r);if(i==n||0>a.indexOf(o)&&u(o))return!0}};if(u(o.contentMatch))return!0}}class GT{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=GO(n).createDocumentFragment());let i=r,o=[];return t.forEach(t=>{if(o.length||t.marks.length){let r=0,a=0;for(;r<o.length&&a<t.marks.length;){let u=t.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[r][0])||!1===u.type.spec.spanning)break;r++,a++}for(;r<o.length;)i=o.pop()[1];for(;a<t.marks.length;){let s=t.marks[a++],c=this.serializeMark(s,t.isInline,n);c&&(o.push([s,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(t,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=GT.renderSpec(GO(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&GT.renderSpec(GO(r),i(t,n))}static renderSpec(t,n,r=null){if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let a,u=r?t.createElementNS(r,i):t.createElement(i),s=n[1],c=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){for(let l in c=2,s)if(null!=s[l]){let f=l.indexOf(" ");f>0?u.setAttributeNS(l.slice(0,f),l.slice(f+1),s[l]):u.setAttribute(l,s[l])}}for(let d=c;d<n.length;d++){let p=n[d];if(0===p){if(d<n.length-1||d>c)throw RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}{let{dom:h,contentDOM:m}=GT.renderSpec(t,p,r);if(u.appendChild(h),m){if(a)throw RangeError("Multiple content holes");a=m}}}return{dom:u,contentDOM:a}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new GT(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=Gw(t.nodes);return n.text||(n.text=t=>t.text),n}static marksFromSchema(t){return Gw(t.marks)}}function Gw(t){let n={};for(let r in t){let i=t[r].spec.toDOM;i&&(n[r]=i)}return n}function GO(t){return t.document||window.document}function GI(t,n){return t+65536*n}function Gk(t){return 65535&t}class GM{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class GC{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&GC.empty)return GC.empty}recover(t){var n;let r=0,i=Gk(t);if(!this.inverted)for(let o=0;o<i;o++)r+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*i]+r+(t-(65535&t))/65536}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let s=this.ranges[u]-(this.inverted?i:0);if(s>t)break;let c=this.ranges[u+o],l=this.ranges[u+a],f=s+c;if(t<=f){let d=c?t==s?-1:t==f?1:n:n,p=s+i+(d<0?0:l);if(r)return p;let h=t==(n<0?s:f)?null:GI(u/3,t-s),m=t==s?2:t==f?1:4;return(n<0?t!=s:t!=f)&&(m|=8),new GM(p,m,h)}i+=l-c}return r?t+i:new GM(t+i,0,null)}touches(t,n){let r=0,i=Gk(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let s=this.ranges[u]-(this.inverted?r:0);if(s>t)break;let c=this.ranges[u+o];if(t<=s+c&&u==3*i)return!0;r+=this.ranges[u+a]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],u=a-(this.inverted?o:0),s=a+(this.inverted?0:o),c=this.ranges[i+n],l=this.ranges[i+r];t(u,u+c,s,s+l),o+=l-c}}invert(){return new GC(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?GC.empty:new GC(t<0?[0,-t,0]:[0,0,t])}}GC.empty=new GC([]);class GR{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new GR(this.maps,this.mirror,t,n)}copy(){return new GR(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),null!=n&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],null!=i&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),null!=i&&i>n?r-i-1:void 0)}}invert(){let t=new GR;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o].mapResult(t,n);if(null!=a.recover){let u=this.getMirror(o);if(null!=u&&u>o&&u<this.to){o=u,t=this.maps[u].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new GM(t,i,null)}}let GE=Object.create(null);class GA{getMap(){return GC.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw RangeError("Invalid input for Step.fromJSON");let r=GE[n.stepType];if(!r)throw RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in GE)throw RangeError("Duplicate use of step JSON ID "+t);return GE[t]=n,n.prototype.jsonID=t,n}}class Gj{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Gj(t,null)}static fail(t){return new Gj(null,t)}static fromReplace(t,n,r,i){try{return Gj.ok(t.replace(n,r,i))}catch(o){if(o instanceof JB)return Gj.fail(o.message);throw o}}}function GN(t,n,r){let i=[];for(let o=0;o<t.childCount;o++){let a=t.child(o);a.content.size&&(a=a.copy(GN(a.content,n,a))),a.isInline&&(a=n(a,r,o)),i.push(a)}return JL.fromArray(i)}class GP extends GA{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Jq(GN(n.content,(t,n)=>t.isAtom&&n.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t,i),n.openStart,n.openEnd);return Gj.fromReplace(t,this.from,this.to,o)}invert(){return new GF(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new GP(n.pos,r.pos,this.mark)}merge(t){return t instanceof GP&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new GP(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new GP(n.from,n.to,t.markFromJSON(n.mark))}}GA.jsonID("addMark",GP);class GF extends GA{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Jq(GN(n.content,t=>t.mark(this.mark.removeFromSet(t.marks)),t),n.openStart,n.openEnd);return Gj.fromReplace(t,this.from,this.to,r)}invert(){return new GP(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new GF(n.pos,r.pos,this.mark)}merge(t){return t instanceof GF&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new GF(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new GF(n.from,n.to,t.markFromJSON(n.mark))}}GA.jsonID("removeMark",GF);class GL extends GA{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Gj.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Gj.fromReplace(t,this.pos,this.pos+1,new Jq(JL.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new GL(this.pos,n.marks[i]);return new GL(this.pos,this.mark)}}return new GD(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new GL(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if("number"!=typeof n.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new GL(n.pos,t.markFromJSON(n.mark))}}GA.jsonID("addNodeMark",GL);class GD extends GA{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Gj.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Gj.fromReplace(t,this.pos,this.pos+1,new Jq(JL.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return n&&this.mark.isInSet(n.marks)?new GL(this.pos,this.mark):this}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new GD(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if("number"!=typeof n.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new GD(n.pos,t.markFromJSON(n.mark))}}GA.jsonID("removeNodeMark",GD);class GW extends GA{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&Gz(t,this.from,this.to)?Gj.fail("Structure replace would overwrite content"):Gj.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new GC([this.from,this.to-this.from,this.slice.size])}invert(t){return new GW(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new GW(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof GW)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let n=this.slice.size+t.slice.size==0?Jq.empty:new Jq(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new GW(t.from,this.to,n,this.structure)}}{let r=this.slice.size+t.slice.size==0?Jq.empty:new Jq(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new GW(this.from,this.to+(t.to-t.from),r,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new GW(n.from,n.to,Jq.fromJSON(t,n.slice),!!n.structure)}}GA.jsonID("replace",GW);class GU extends GA{constructor(t,n,r,i,o,a,u=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=u}apply(t){if(this.structure&&(Gz(t,this.from,this.gapFrom)||Gz(t,this.gapTo,this.to)))return Gj.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Gj.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Gj.fromReplace(t,this.from,this.to,r):Gj.fail("Content does not fit in gap")}getMap(){return new GC([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new GU(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new GU(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new GU(n.from,n.to,n.gapFrom,n.gapTo,Jq.fromJSON(t,n.slice),n.insert,!!n.structure)}}function Gz(t,n,r){let i=t.resolve(n),o=r-n,a=i.depth;for(;o>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,o--;if(o>0){let u=i.node(a).maybeChild(i.indexAfter(a));for(;o>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,o--}}return!1}function GB(t,n,r){return(0==n||t.canReplace(n,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Gq(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,a,n))return r;if(0==r||i.type.spec.isolating||!GB(i,o,a))break}return null}function GK(t,n,r=null,i=t){let o=function(t,n){let{parent:r,startIndex:i,endIndex:o}=t,a=r.contentMatchAt(i).findWrapping(n);if(!a)return null;let u=a.length?a[0]:n;return r.canReplaceWith(i,o,u)?a:null}(t,n),a=o&&function(t,n){let{parent:r,startIndex:i,endIndex:o}=t,a=r.child(i),u=n.contentMatch.findWrapping(a.type);if(!u)return null;let s=(u.length?u[u.length-1]:n).contentMatch;for(let c=i;s&&c<o;c++)s=s.matchType(r.child(c).type);return s&&s.validEnd?u:null}(i,n);return a?o.map(G$).concat({type:n,attrs:r}).concat(a.map(G$)):null}function G$(t){return{type:t,attrs:null}}function GV(t,n,r=1,i){let o=t.resolve(n),a=o.depth-r,u=i&&i[i.length-1]||o.parent;if(a<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!u.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let s=o.depth-1,c=r-2;s>a;s--,c--){let l=o.node(s),f=o.index(s);if(l.type.spec.isolating)return!1;let d=l.content.cutByIndex(f,l.childCount),p=i&&i[c+1];p&&(d=d.replaceChild(0,p.type.create(p.attrs)));let h=i&&i[c]||l;if(!l.canReplace(f+1,l.childCount)||!h.type.validContent(d))return!1}let m=o.indexAfter(a),g=i&&i[0];return o.node(a).canReplaceWith(m,m,g?g.type:o.node(a+1).type)}function GH(t,n){let r=t.resolve(n),i=r.index();return GZ(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(i,i+1)}function GZ(t,n){return!!(t&&n&&!t.isLeaf&&t.canAppend(n))}function GJ(t,n,r=-1){let i=t.resolve(n);for(let o=i.depth;;o--){let a,u,s=i.index(o);if(o==i.depth?(a=i.nodeBefore,u=i.nodeAfter):r>0?(a=i.node(o+1),s++,u=i.node(o).maybeChild(s)):(a=i.node(o).maybeChild(s-1),u=i.node(o+1)),a&&!a.isTextblock&&GZ(a,u)&&i.node(o).canReplace(s,s+1))return n;if(0==o)break;n=r<0?i.before(o):i.after(o)}}function GG(t,n,r=n,i=Jq.empty){if(n==r&&!i.size)return null;let o=t.resolve(n),a=t.resolve(r);return GY(o,a,i)?new GW(n,r,i):new GQ(o,a,i).fit()}function GY(t,n,r){return!r.openStart&&!r.openEnd&&t.start()==n.start()&&t.parent.canReplace(t.index(),n.index(),r.content)}GA.jsonID("replaceAround",GU);class GQ{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=JL.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let a=t.depth;a>0;a--)this.placed=JL.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(n<0?this.$to:i.doc.resolve(n));if(!o)return null;let a=this.placed,u=i.depth,s=o.depth;for(;u&&s&&1==a.childCount;)a=a.firstChild.content,u--,s--;let c=new Jq(a,u,s);return n>-1?new GU(i.pos,n,this.$to.pos,this.$to.end(),c,r):c.size||i.pos!=this.$to.pos?new GW(i.pos,o.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let a=1;a<=2;a++)for(let u=1==a?t:this.unplaced.openStart;u>=0;u--){let s,c=null,l=(u?(c=G1(this.unplaced.content,u-1).firstChild).content:this.unplaced.content).firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:p}=this.frontier[f],h,m=null;if(1==a&&(l?p.matchType(l.type)||(m=p.fillBefore(JL.from(l),!1)):c&&d.compatibleContent(c.type)))return{sliceDepth:u,frontierDepth:f,parent:c,inject:m};if(2==a&&l&&(h=p.findWrapping(l.type)))return{sliceDepth:u,frontierDepth:f,parent:c,wrap:h};if(c&&p.matchType(c.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=G1(t,n);return!!i.childCount&&!i.firstChild.isLeaf&&(this.unplaced=new Jq(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=G1(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new Jq(GX(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Jq(GX(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let a=0;a<o.length;a++)this.openFrontierNode(o[a]);let u=this.unplaced,s=r?r.content:u.content,c=u.openStart-t,l=0,f=[],{match:d,type:p}=this.frontier[n];if(i){for(let h=0;h<i.childCount;h++)f.push(i.child(h));d=d.matchFragment(i)}let m=s.size+t-(u.content.size-u.openEnd);for(;l<s.childCount;){let g=s.child(l),y=d.matchType(g.type);if(!y)break;(++l>1||0==c||g.content.size)&&(d=y,f.push(G2(g.mark(p.allowedMarks(g.marks)),1==l?c:0,l==s.childCount?m:-1)))}let v=l==s.childCount;v||(m=-1),this.placed=G0(this.placed,n,JL.from(f)),this.frontier[n].match=d,v&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,x=s;b<m;b++){let _=x.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),x=_.content}this.unplaced=v?0==t?Jq.empty:new Jq(GX(u.content,t-1,1),t-1,m<0?u.openEnd:t-1):new Jq(GX(u.content,t,l),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!G3(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return -1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=G3(t,n,i,r,o);if(a){for(let u=n-1;u>=0;u--){let{match:s,type:c}=this.frontier[u],l=G3(t,u,c,s,!0);if(!l||l.childCount)continue e}return{depth:n,fit:a,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=G0(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=G0(this.placed,this.depth,JL.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(JL.empty,!0);t.childCount&&(this.placed=G0(this.placed,this.frontier.length,t))}}function GX(t,n,r){return 0==n?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(GX(t.firstChild.content,n-1,r)))}function G0(t,n,r){return 0==n?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(G0(t.lastChild.content,n-1,r)))}function G1(t,n){for(let r=0;r<n;r++)t=t.firstChild.content;return t}function G2(t,n,r){if(n<=0)return t;let i=t.content;return n>1&&(i=i.replaceChild(0,G2(i.firstChild,n-1,1==i.childCount?r-1:0))),n>0&&(i=t.type.contentMatch.fillBefore(i).append(i),r<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(JL.empty,!0)))),t.copy(i)}function G3(t,n,r,i,o){let a=t.node(n),u=o?t.indexAfter(n):t.index(n);if(u==a.childCount&&!r.compatibleContent(a.type))return null;let s=i.fillBefore(a.content,!0,u);return s&&!function(t,n,r){for(let i=r;i<n.childCount;i++)if(!t.allowsMarks(n.child(i).marks))return!0;return!1}(r,a.content,u)?s:null}function G5(t){return t.spec.defining||t.spec.definingForContent}function G4(t,n,r,i,o){if(n<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(G4(a.content,n+1,r,i,a)))}if(n>i){let u=o.contentMatchAt(0),s=u.fillBefore(t).append(t);t=s.append(u.matchFragment(s).fillBefore(JL.empty,!0))}return t}function G9(t,n){let r=[],i=Math.min(t.depth,n.depth);for(let o=i;o>=0;o--){let a=t.start(o);if(a<t.pos-(t.depth-o)||n.end(o)>n.pos+(n.depth-o)||t.node(o).type.spec.isolating||n.node(o).type.spec.isolating)break;(a==n.start(o)||o==t.depth&&o==n.depth&&t.parent.inlineContent&&n.parent.inlineContent&&o&&n.start(o-1)==a-1)&&r.push(o)}return r}class G6 extends GA{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Gj.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Gj.fromReplace(t,this.pos,this.pos+1,new Jq(JL.from(o),0,n.isLeaf?0:1))}getMap(){return GC.empty}invert(t){return new G6(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new G6(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if("number"!=typeof n.pos||"string"!=typeof n.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new G6(n.pos,n.attr,n.value)}}GA.jsonID("attr",G6);let G8=class extends Error{};(G8=function t(n){let r=Error.call(this,n);return r.__proto__=t.prototype,r}).prototype=Object.create(Error.prototype),G8.prototype.constructor=G8,G8.prototype.name="TransformError";class G7{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new GR}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new G8(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Jq.empty){let i=GG(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Jq(JL.from(r),0,0))}delete(t,n){return this.replace(t,n,Jq.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return function(t,n,r,i){if(!i.size)return t.deleteRange(n,r);let o=t.doc.resolve(n),a=t.doc.resolve(r);if(GY(o,a,i))return t.step(new GW(n,r,i));let u=G9(o,t.doc.resolve(r));0==u[u.length-1]&&u.pop();let s=-(o.depth+1);u.unshift(s);for(let c=o.depth,l=o.pos-1;c>0;c--,l--){let f=o.node(c).type.spec;if(f.defining||f.definingAsContext||f.isolating)break;u.indexOf(c)>-1?s=c:o.before(c)==l&&u.splice(1,0,-c)}let d=u.indexOf(s),p=[],h=i.openStart;for(let m=i.content,g=0;;g++){let y=m.firstChild;if(p.push(y),g==i.openStart)break;m=y.content}for(let v=h-1;v>=0;v--){let b=p[v].type,x=G5(b);if(x&&o.node(d).type!=b)h=v;else if(x||!b.isTextblock)break}for(let _=i.openStart;_>=0;_--){let S=(_+h+1)%(i.openStart+1),T=p[S];if(T)for(let w=0;w<u.length;w++){let O=u[(w+d)%u.length],I=!0;O<0&&(I=!1,O=-O);let k=o.node(O-1),M=o.index(O-1);if(k.canReplaceWith(M,M,T.type,T.marks))return t.replace(o.before(O),I?a.after(O):r,new Jq(G4(i.content,0,i.openStart,S),S,i.openEnd))}}let C=t.steps.length;for(let R=u.length-1;R>=0&&(t.replace(n,r,i),!(t.steps.length>C));R--){let E=u[R];E<0||(n=o.before(E),r=a.after(E))}}(this,t,n,r),this}replaceRangeWith(t,n,r){return function(t,n,r,i){if(!i.isInline&&n==r&&t.doc.resolve(n).parent.content.size){let o=function(t,n,r){let i=t.resolve(n);if(i.parent.canReplaceWith(i.index(),i.index(),r))return n;if(0==i.parentOffset)for(let o=i.depth-1;o>=0;o--){let a=i.index(o);if(i.node(o).canReplaceWith(a,a,r))return i.before(o+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let u=i.depth-1;u>=0;u--){let s=i.indexAfter(u);if(i.node(u).canReplaceWith(s,s,r))return i.after(u+1);if(s<i.node(u).childCount)break}return null}(t.doc,n,i.type);null!=o&&(n=r=o)}t.replaceRange(n,r,new Jq(JL.from(i),0,0))}(this,t,n,r),this}deleteRange(t,n){return function(t,n,r){let i=t.doc.resolve(n),o=t.doc.resolve(r),a=G9(i,o);for(let u=0;u<a.length;u++){let s=a[u],c=u==a.length-1;if(c&&0==s||i.node(s).type.contentMatch.validEnd)return t.delete(i.start(s),o.end(s));if(s>0&&(c||i.node(s-1).canReplace(i.index(s-1),o.indexAfter(s-1))))return t.delete(i.before(s),o.after(s))}for(let l=1;l<=i.depth&&l<=o.depth;l++)if(n-i.start(l)==i.depth-l&&r>i.end(l)&&o.end(l)-r!=o.depth-l)return t.delete(i.before(l),r);t.delete(n,r)}(this,t,n),this}lift(t,n){return function(t,n,r){let{$from:i,$to:o,depth:a}=n,u=i.before(a+1),s=o.after(a+1),c=u,l=s,f=JL.empty,d=0;for(let p=a,h=!1;p>r;p--)h||i.index(p)>0?(h=!0,f=JL.from(i.node(p).copy(f)),d++):c--;let m=JL.empty,g=0;for(let y=a,v=!1;y>r;y--)v||o.after(y+1)<o.end(y)?(v=!0,m=JL.from(o.node(y).copy(m)),g++):l++;t.step(new GU(c,l,u,s,new Jq(f.append(m),d,g),f.size-d,!0))}(this,t,n),this}join(t,n=1){return function(t,n,r){let i=new GW(n-r,n+r,Jq.empty,!0);t.step(i)}(this,t,n),this}wrap(t,n){return function(t,n,r){let i=JL.empty;for(let o=r.length-1;o>=0;o--){if(i.size){let a=r[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=JL.from(r[o].type.create(r[o].attrs,i))}let u=n.start,s=n.end;t.step(new GU(u,s,u,s,new Jq(i,0,0),r.length,!0))}(this,t,n),this}setBlockType(t,n=t,r,i=null){return function(t,n,r,i,o){if(!i.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(n,r,(n,r)=>{var u,s,c;let l,f;if(n.isTextblock&&!n.hasMarkup(i,o)&&(u=t.doc,s=t.mapping.slice(a).map(r),c=i,l=u.resolve(s),f=l.index(),l.parent.canReplaceWith(f,f+1,c))){t.clearIncompatible(t.mapping.slice(a).map(r,1),i);let d=t.mapping.slice(a),p=d.map(r,1),h=d.map(r+n.nodeSize,1);return t.step(new GU(p,h,p+1,h-1,new Jq(JL.from(i.create(o,null,n.marks)),0,0),1,!0)),!1}})}(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return function(t,n,r,i,o){let a=t.doc.nodeAt(n);if(!a)throw RangeError("No node at given position");r||(r=a.type);let u=r.create(i,null,o||a.marks);if(a.isLeaf)return t.replaceWith(n,n+a.nodeSize,u);if(!r.validContent(a.content))throw RangeError("Invalid content for node type "+r.name);t.step(new GU(n,n+a.nodeSize,n+1,n+a.nodeSize-1,new Jq(JL.from(u),0,0),1,!0))}(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new G6(t,n,r)),this}addNodeMark(t,n){return this.step(new GL(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Jz)){let r=this.doc.nodeAt(t);if(!r)throw RangeError("No node at position "+t);if(!(n=n.isInSet(r.marks)))return this}return this.step(new GD(t,n)),this}split(t,n=1,r){return function(t,n,r=1,i){let o=t.doc.resolve(n),a=JL.empty,u=JL.empty;for(let s=o.depth,c=o.depth-r,l=r-1;s>c;s--,l--){a=JL.from(o.node(s).copy(a));let f=i&&i[l];u=JL.from(f?f.type.create(f.attrs,u):o.node(s).copy(u))}t.step(new GW(n,n,new Jq(a.append(u),r,r),!0))}(this,t,n,r),this}addMark(t,n,r){var i,o,a,u;let s,c,l,f;return i=this,s=[],c=[],i.doc.nodesBetween(t,n,(i,o,a)=>{if(!i.isInline)return;let u=i.marks;if(!r.isInSet(u)&&a.type.allowsMarkType(r.type)){let d=Math.max(o,t),p=Math.min(o+i.nodeSize,n),h=r.addToSet(u);for(let m=0;m<u.length;m++)u[m].isInSet(h)||(l&&l.to==d&&l.mark.eq(u[m])?l.to=p:s.push(l=new GF(d,p,u[m])));f&&f.to==d?f.to=p:c.push(f=new GP(d,p,r))}}),s.forEach(t=>i.step(t)),c.forEach(t=>i.step(t)),this}removeMark(t,n,r){var i,o,a,u;let s,c;return i=this,s=[],c=0,i.doc.nodesBetween(t,n,(i,o)=>{if(!i.isInline)return;c++;let a=null;if(r instanceof Gl){let u=i.marks,l;for(;l=r.isInSet(u);)(a||(a=[])).push(l),u=l.removeFromSet(u)}else r?r.isInSet(i.marks)&&(a=[r]):a=i.marks;if(a&&a.length){let f=Math.min(o+i.nodeSize,n);for(let d=0;d<a.length;d++){let p=a[d],h;for(let m=0;m<s.length;m++){let g=s[m];g.step==c-1&&p.eq(s[m].style)&&(h=g)}h?(h.to=f,h.step=c):s.push({style:p,from:Math.max(o,t),to:f,step:c})}}}),s.forEach(t=>i.step(new GF(t.from,t.to,t.style))),this}clearIncompatible(t,n,r){return function(t,n,r,i=r.contentMatch){let o=t.doc.nodeAt(n),a=[],u=n+1;for(let s=0;s<o.childCount;s++){let c=o.child(s),l=u+c.nodeSize,f=i.matchType(c.type);if(f){i=f;for(let d=0;d<c.marks.length;d++)r.allowsMarkType(c.marks[d].type)||t.step(new GF(u,l,c.marks[d]))}else a.push(new GW(u,l,Jq.empty));u=l}if(!i.validEnd){let p=i.fillBefore(JL.empty,!0);t.replace(u,u,new Jq(p,0,0))}for(let h=a.length-1;h>=0;h--)t.step(a[h])}(this,t,n,r),this}}let Ye=Object.create(null);class Yt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Yn(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Jq.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let a=t.steps.length,u=this.ranges;for(let s=0;s<u.length;s++){let{$from:c,$to:l}=u[s],f=t.mapping.slice(a);t.replaceRange(f.map(c.pos),f.map(l.pos),s?Jq.empty:n),0==s&&Yd(t,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:u}=i[o],s=t.mapping.slice(r),c=s.map(a.pos),l=s.map(u.pos);o?t.deleteRange(c,l):(t.replaceRangeWith(c,l,n),Yd(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Yo(t):Yf(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=n<0?Yf(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):Yf(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Yc(t.node(0))}static atStart(t){return Yf(t,t,0,0,1)||new Yc(t)}static atEnd(t){return Yf(t,t,t.content.size,t.childCount,-1)||new Yc(t)}static fromJSON(t,n){if(!n||!n.type)throw RangeError("Invalid input for Selection.fromJSON");let r=Ye[n.type];if(!r)throw RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Ye)throw RangeError("Duplicate use of selection JSON ID "+t);return Ye[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Yo.between(this.$anchor,this.$head).getBookmark()}}Yt.prototype.visible=!0;class Yn{constructor(t,n){this.$from=t,this.$to=n}}let Yr=!1;function Yi(t){Yr||t.parent.inlineContent||(Yr=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Yo extends Yt{constructor(t,n=t){Yi(t),Yi(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Yt.near(r);let i=t.resolve(n.map(this.anchor));return new Yo(i.parent.inlineContent?i:r,r)}replace(t,n=Jq.empty){if(super.replace(t,n),n==Jq.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Yo&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Ya(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new Yo(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Yt.findFrom(n,r,!0)||Yt.findFrom(n,-r,!0);if(!o)return Yt.near(n,r);n=o.$head}return t.parent.inlineContent||(0==i?t=n:(t=(Yt.findFrom(t,-r,!0)||Yt.findFrom(t,r,!0)).$anchor).pos<n.pos!=i<0&&(t=n)),new Yo(t,n)}}Yt.jsonID("text",Yo);class Ya{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Ya(t.map(this.anchor),t.map(this.head))}resolve(t){return Yo.between(t.resolve(this.anchor),t.resolve(this.head))}}class Yu extends Yt{constructor(t){let n=t.nodeAfter;super(t,t.node(0).resolve(t.pos+n.nodeSize)),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Yt.near(o):new Yu(o)}content(){return new Jq(JL.from(this.node),0,0)}eq(t){return t instanceof Yu&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ys(this.anchor)}static fromJSON(t,n){if("number"!=typeof n.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new Yu(t.resolve(n.anchor))}static create(t,n){return new Yu(t.resolve(n))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}Yu.prototype.visible=!1,Yt.jsonID("node",Yu);class Ys{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Ya(r,r):new Ys(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Yu.isSelectable(r)?new Yu(n):Yt.near(n)}}class Yc extends Yt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Jq.empty){if(n==Jq.empty){t.delete(0,t.doc.content.size);let r=Yt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Yc(t)}map(t){return new Yc(t)}eq(t){return t instanceof Yc}getBookmark(){return Yl}}Yt.jsonID("all",Yc);let Yl={map(){return this},resolve:t=>new Yc(t)};function Yf(t,n,r,i,o,a=!1){if(n.inlineContent)return Yo.create(t,r);for(let u=i-(o>0?0:1);o>0?u<n.childCount:u>=0;u+=o){let s=n.child(u);if(s.isAtom){if(!a&&Yu.isSelectable(s))return Yu.create(t,r-(o<0?s.nodeSize:0))}else{let c=Yf(t,s,r+o,o<0?s.childCount:0,o,a);if(c)return c}r+=s.nodeSize*o}return null}function Yd(t,n,r){let i=t.steps.length-1;if(i<n)return;let o=t.steps[i];if(!(o instanceof GW||o instanceof GU))return;let a;t.mapping.maps[i].forEach((t,n,r,i)=>{null==a&&(a=i)}),t.setSelection(Yt.near(t.doc.resolve(a),r))}class Yp extends G7{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return Jz.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,n){super.addStep(t,n),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Jz.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(null==n)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(null==r&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(Yt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta["string"==typeof t?t:t.key]=n,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function Yh(t,n){return n&&t?t.bind(n):t}class Ym{constructor(t,n,r){this.name=t,this.init=Yh(n.init,r),this.apply=Yh(n.apply,r)}}let Yg=[new Ym("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new Ym("selection",{init:(t,n)=>t.selection||Yt.atStart(n.doc),apply:t=>t.selection}),new Ym("storedMarks",{init:t=>t.storedMarks||null,apply:(t,n,r,i)=>i.selection.$cursor?t.storedMarks:null}),new Ym("scrollToSelection",{init:()=>0,apply:(t,n)=>t.scrolledIntoView?n+1:n})];class Yy{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Yg.slice(),n&&n.forEach(t=>{if(this.pluginsByKey[t.key])throw RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new Ym(t.key,t.spec.state,t))})}}class Yv{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let s=i?i[a].n:0,c=i?i[a].state:this,l=s<n.length&&u.spec.appendTransaction.call(u,s?n.slice(s):n,c,r);if(l&&r.filterTransaction(l,a)){if(l.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(l),r=r.applyInner(l),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let n=new Yv(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new Yp(this)}static create(t){let n=new Yy(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Yv(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Yy(this.schema,t.plugins),r=n.fields,i=new Yv(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(t=>t.toJSON())),t&&"object"==typeof t)for(let r in t){if("doc"==r||"selection"==r)throw RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw RangeError("Required config field 'schema' missing");let i=new Yy(t.schema,t.plugins),o=new Yv(i);return i.fields.forEach(i=>{if("doc"==i.name)o.doc=J2.fromJSON(t.schema,n.doc);else if("selection"==i.name)o.selection=Yt.fromJSON(o.doc,n.selection);else if("storedMarks"==i.name)n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let u=r[a],s=u.spec.state;if(u.key==i.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[i.name]=s.fromJSON.call(u,t,n[a],o);return}}o[i.name]=i.init(t,o)}}),o}}class Yb{constructor(t){this.spec=t,this.props={},t.props&&function t(n,r,i){for(let o in n){let a=n[o];a instanceof Function?a=a.bind(r):"handleDOMEvents"==o&&(a=t(a,r,{})),i[o]=a}return i}(t.props,this,this.props),this.key=t.key?t.key.key:Y_("plugin")}getState(t){return t[this.key]}}let Yx=Object.create(null);function Y_(t){return t in Yx?t+"$"+ ++Yx[t]:(Yx[t]=0,t+"$")}class YS{constructor(t="key"){this.key=Y_(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}let YT=function(t){for(var n=0;;n++)if(!(t=t.previousSibling))return n},Yw=function(t){let n=t.assignedSlot||t.parentNode;return n&&11==n.nodeType?n.host:n},YO=null,YI=function(t,n,r){let i=YO||(YO=document.createRange());return i.setEnd(t,r??t.nodeValue.length),i.setStart(t,n||0),i},Yk=function(t,n,r,i){return r&&(YC(t,n,r,i,-1)||YC(t,n,r,i,1))},YM=/^(img|br|input|textarea|hr)$/i;function YC(t,n,r,i,o){for(;;){if(t==r&&n==i)return!0;if(n==(o<0?0:YR(t))){let a=t.parentNode;if(!a||1!=a.nodeType||YE(t)||YM.test(t.nodeName)||"false"==t.contentEditable)return!1;n=YT(t)+(o<0?0:1),t=a}else{if(1!=t.nodeType||"false"==(t=t.childNodes[n+(o<0?-1:0)]).contentEditable)return!1;n=o<0?YR(t):0}}}function YR(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function YE(t){let n;for(let r=t;r&&!(n=r.pmViewDesc);r=r.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==t||n.contentDOM==t)}let YA=function(t){return t.focusNode&&Yk(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Yj(t,n){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=n,r}function YN(t,n,r){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(n,r);if(i)return{node:i.offsetNode,offset:i.offset}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(n,r);if(o)return{node:o.startContainer,offset:o.startOffset}}}let YP="u">typeof navigator?navigator:null,YF="u">typeof document?document:null,YL=YP&&YP.userAgent||"",YD=/Edge\/(\d+)/.exec(YL),YW=/MSIE \d/.exec(YL),YU=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(YL),Yz=!!(YW||YU||YD),YB=YW?document.documentMode:YU?+YU[1]:YD?+YD[1]:0,Yq=!Yz&&/gecko\/(\d+)/i.test(YL);Yq&&(/Firefox\/(\d+)/.exec(YL)||[0,0])[1];let YK=!Yz&&/Chrome\/(\d+)/.exec(YL),Y$=!!YK,YV=YK?+YK[1]:0,YH=!Yz&&!!YP&&/Apple Computer/.test(YP.vendor),YZ=YH&&(/Mobile\/\w+/.test(YL)||!!YP&&YP.maxTouchPoints>2),YJ=YZ||!!YP&&/Mac/.test(YP.platform),YG=!!YP&&/Win/.test(YP.platform),YY=/Android \d/.test(YL),YQ=!!YF&&"webkitFontSmoothing"in YF.documentElement.style,YX=YQ?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Y0(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Y1(t,n){return"number"==typeof t?t:t[n]}function Y2(t){let n=t.getBoundingClientRect(),r=n.width/t.offsetWidth||1,i=n.height/t.offsetHeight||1;return{left:n.left,right:n.left+t.clientWidth*r,top:n.top,bottom:n.top+t.clientHeight*i}}function Y3(t,n,r){let i=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let u=r||t.dom;u;u=Yw(u)){if(1!=u.nodeType)continue;let s=u,c=s==a.body,l=c?Y0(a):Y2(s),f=0,d=0;if(n.top<l.top+Y1(i,"top")?d=-(l.top-n.top+Y1(o,"top")):n.bottom>l.bottom-Y1(i,"bottom")&&(d=n.bottom-l.bottom+Y1(o,"bottom")),n.left<l.left+Y1(i,"left")?f=-(l.left-n.left+Y1(o,"left")):n.right>l.right-Y1(i,"right")&&(f=n.right-l.right+Y1(o,"right")),f||d){if(c)a.defaultView.scrollBy(f,d);else{let p=s.scrollLeft,h=s.scrollTop;d&&(s.scrollTop+=d),f&&(s.scrollLeft+=f);let m=s.scrollLeft-p,g=s.scrollTop-h;n={left:n.left-m,top:n.top-g,right:n.right-m,bottom:n.bottom-g}}}if(c)break}}function Y5(t){let n=[],r=t.ownerDocument;for(let i=t;i&&(n.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=r);i=Yw(i));return n}function Y4(t,n){for(let r=0;r<t.length;r++){let{dom:i,top:o,left:a}=t[r];i.scrollTop!=o+n&&(i.scrollTop=o+n),i.scrollLeft!=a&&(i.scrollLeft=a)}}let Y9=null;function Y6(t,n){return t.left>=n.left-1&&t.left<=n.right+1&&t.top>=n.top-1&&t.top<=n.bottom+1}function Y8(t){return t.top<t.bottom||t.left<t.right}function Y7(t,n){let r=t.getClientRects();if(r.length){let i=r[n<0?0:r.length-1];if(Y8(i))return i}return Array.prototype.find.call(r,Y8)||t.getBoundingClientRect()}let Qe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Qt(t,n,r){let{node:i,offset:o,atom:a}=t.docView.domFromPos(n,r<0?-1:1),u=YQ||Yq;if(3==i.nodeType){if(u&&(Qe.test(i.nodeValue)||(r<0?!o:o==i.nodeValue.length))){let s=Y7(YI(i,o,o),r);if(Yq&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){let c=Y7(YI(i,o-1,o-1),-1);if(c.top==s.top){let l=Y7(YI(i,o,o+1),-1);if(l.top!=s.top)return Qn(l,l.left<c.left)}}return s}{let f=o,d=o,p=r<0?1:-1;return r<0&&!o?(d++,p=-1):r>=0&&o==i.nodeValue.length?(f--,p=1):r<0?f--:d++,Qn(Y7(YI(i,f,d),p),p<0)}}if(!t.state.doc.resolve(n-(a||0)).parent.inlineContent){if(null==a&&o&&(r<0||o==YR(i))){let h=i.childNodes[o-1];if(1==h.nodeType)return Qr(h.getBoundingClientRect(),!1)}if(null==a&&o<YR(i)){let m=i.childNodes[o];if(1==m.nodeType)return Qr(m.getBoundingClientRect(),!0)}return Qr(i.getBoundingClientRect(),r>=0)}if(null==a&&o&&(r<0||o==YR(i))){let g=i.childNodes[o-1],y=3==g.nodeType?YI(g,YR(g)-(u?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(y)return Qn(Y7(y,1),!1)}if(null==a&&o<YR(i)){let v=i.childNodes[o];for(;v.pmViewDesc&&v.pmViewDesc.ignoreForCoords;)v=v.nextSibling;let b=v?3==v.nodeType?YI(v,0,u?0:1):1==v.nodeType?v:null:null;if(b)return Qn(Y7(b,-1),!0)}return Qn(Y7(3==i.nodeType?YI(i):i,-r),r>=0)}function Qn(t,n){if(0==t.width)return t;let r=n?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Qr(t,n){if(0==t.height)return t;let r=n?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function Qi(t,n,r){let i=t.state,o=t.root.activeElement;i!=n&&t.updateState(n),o!=t.dom&&t.focus();try{return r()}finally{i!=n&&t.updateState(i),o!=t.dom&&o&&o.focus()}}let Qo=/[\u0590-\u08ac]/,Qa=null,Qu=null,Qs=!1;class Qc{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}{let a,u;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((u=a.pmViewDesc)&&u.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(u):this.posAtEnd}}let s;if(t==this.dom&&this.contentDOM)s=n>YT(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==n)for(let c=t;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.previousSibling)break}if(null==s&&n==t.childNodes.length)for(let l=t;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node)){if(!r||!(a=o.nodeDOM)||(1==a.nodeType?a.contains(1==t.nodeType?t:t.parentNode):a==t))return o;r=!1}}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return -1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],u=o+a.size;if(u>t||a instanceof Qg){i=t-o;break}o=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Ql&&s.side>=0;r--);if(n<=0){let c,l=!0;for(;!(!(c=r?this.children[r-1]:null)||c.dom.parentNode==this.contentDOM);r--,l=!1);return c&&n&&l&&!c.border&&!c.domAtom?c.domFromPos(c.size,n):{node:this.contentDOM,offset:c?YT(c.dom)+1:0}}{let f,d=!0;for(;!(!(f=r<this.children.length?this.children[r]:null)||f.dom.parentNode==this.contentDOM);r++,d=!1);return f&&d&&!f.border&&!f.domAtom?f.domFromPos(0,n):{node:this.contentDOM,offset:f?YT(f.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,u=0;;u++){let s=this.children[u],c=a+s.size;if(-1==i&&t<=c){let l=a+s.border;if(t>=l&&n<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(t,n,l);t=a;for(let f=u;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=YT(d.dom)+1;break}t-=d.size}-1==i&&(i=0)}if(i>-1&&(c>n||u==this.children.length-1)){n=c;for(let p=u+1;p<this.children.length;p++){let h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=YT(h.dom);break}n+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return 0==n.size||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(1!=n.nodeType||r==n.childNodes.length)throw RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),a=Math.max(t,n);for(let u=0,s=0;u<this.children.length;u++){let c=this.children[u],l=s+c.size;if(o>s&&a<l)return c.setSelection(t-s-c.border,n-s-c.border,r,i);s=l}let f=this.domFromPos(t,t?-1:1),d=n==t?f:this.domFromPos(n,n?-1:1),p=r.getSelection(),h=!1;if((Yq||YH)&&t==n){let{node:m,offset:g}=f;if(3==m.nodeType){if((h=!!(g&&m.nodeValue[g-1]==`
`))&&g==m.nodeValue.length)for(let y=m,v;y;y=y.parentNode){if(v=y.nextSibling){"BR"==v.nodeName&&(f=d={node:v.parentNode,offset:YT(v)+1});break}let b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let x=m.childNodes[g-1];h=x&&("BR"==x.nodeName||"false"==x.contentEditable)}}if(Yq&&p.focusNode&&p.focusNode!=d.node&&1==p.focusNode.nodeType){let _=p.focusNode.childNodes[p.focusOffset];_&&"false"==_.contentEditable&&(i=!0)}if(!(i||h&&YH)&&Yk(f.node,f.offset,p.anchorNode,p.anchorOffset)&&Yk(d.node,d.offset,p.focusNode,p.focusOffset))return;let S=!1;if((p.extend||t==n)&&!h){p.collapse(f.node,f.offset);try{t!=n&&p.extend(d.node,d.offset),S=!0}catch{}}if(!S){if(t>n){let T=f;f=d,d=T}let w=document.createRange();w.setEnd(d.node,d.offset),w.setStart(f.node,f.offset),p.removeAllRanges(),p.addRange(w)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let u=r+o.border,s=a-o.border;if(t>=u&&n<=s){this.dirty=t==r||n==a?2:1,t==u&&n==s&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=3:o.markDirty(t-u,n-u);return}o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}r=a}this.dirty=2}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=1==t?2:1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Ql extends Qc{constructor(t,n,r,i){let o,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:i)),!n.type.spec.raw){if(1!=a.nodeType){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return!!n&&n(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Qf extends Qc{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class Qd extends Qc{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return a&&a.dom||(a=GT.renderSpec(document,n.type.spec.toDOM(n,r))),new Qd(t,n,a.dom,a.contentDOM||a.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),0!=this.dirty){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}slice(t,n,r){let i=Qd.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=QM(o,n,a,r)),t>0&&(o=QM(o,0,t,r));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}}class Qp extends Qc{constructor(t,n,r,i,o,a,u,s,c){super(t,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(t,n,r,i,o,a){let u=o.nodeViews[n.type.name],s,c=u&&u(n,o,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:a,r,i),l=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(l){if(3!=l.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else l=document.createTextNode(n.text)}else l||({dom:l,contentDOM:f}=GT.renderSpec(document,n.type.spec.toDOM(n)));f||n.isText||"BR"==l.nodeName||(l.hasAttribute("contenteditable")||(l.contentEditable="false"),n.type.spec.draggable&&(l.draggable=!0));let d=l;return l=QT(l,r,n),c?s=new Qy(t,n,r,i,l,f||null,d,c,o,a+1):n.isText?new Qm(t,n,r,i,l,d,o):new Qp(t,n,r,i,l,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM){if(this.contentLost){for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>JL.empty)}else t.contentElement=this.contentDOM}else t.getContent=()=>this.node.content;return t}matchesNode(t,n,r){return 0==this.dirty&&t.eq(this.node)&&Qw(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,a=o&&o.pos>-1?o:null,u=o&&o.pos<0,s=new QI(this,a&&a.node,t);(function(t,n,r,i){let o=n.locals(t),a=0;if(0==o.length){for(let u=0;u<t.childCount;u++){let s=t.child(u);i(s,o,n.forChild(a,s),u),a+=s.nodeSize}return}let c=0,l=[],f=null;for(let d=0;;){if(c<o.length&&o[c].to==a){let p=o[c++],h;for(;c<o.length&&o[c].to==a;)(h||(h=[p])).push(o[c++]);if(h){h.sort(Qk);for(let m=0;m<h.length;m++)r(h[m],d,!!f)}else r(p,d,!!f)}let g,y;if(f)y=-1,g=f,f=null;else if(d<t.childCount)y=d,g=t.child(d++);else break;for(let v=0;v<l.length;v++)l[v].to<=a&&l.splice(v--,1);for(;c<o.length&&o[c].from<=a&&o[c].to>a;)l.push(o[c++]);let b=a+g.nodeSize;if(g.isText){let x=b;c<o.length&&o[c].from<x&&(x=o[c].from);for(let _=0;_<l.length;_++)l[_].to<x&&(x=l[_].to);x<b&&(f=g.cut(x-a),g=g.cut(0,x-a),b=x,y=-1)}let S=g.isInline&&!g.isLeaf?l.filter(t=>!t.inline):l.slice();i(g,S,n.forChild(a,g),y),a=b}})(this.node,this.innerDeco,(n,o,a)=>{n.spec.marks?s.syncToMarks(n.spec.marks,r,t):n.type.side>=0&&!a&&s.syncToMarks(o==this.node.childCount?Jz.none:this.node.child(o).marks,r,t),s.placeWidget(n,t,i)},(n,a,c,l)=>{s.syncToMarks(n.marks,r,t);let f;s.findNodeMatch(n,a,c,l)||u&&t.state.selection.from>i&&t.state.selection.to<i+n.nodeSize&&(f=s.findIndexWithChild(o.node))>-1&&s.updateNodeAt(n,a,c,f,t)||s.updateNextNode(n,a,c,t,l,i)||s.addNode(n,a,c,t,i),i+=n.nodeSize}),s.syncToMarks([],r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(t,a),function t(n,r,i){let o=n.firstChild,a=!1;for(let u=0;u<r.length;u++){let s=r[u],c=s.dom;if(c.parentNode==n){for(;c!=o;)o=QO(o),a=!0;o=o.nextSibling}else a=!0,n.insertBefore(c,o);if(s instanceof Qd){let l=o?o.previousSibling:n.lastChild;t(s.contentDOM,s.children,i),o=l?l.nextSibling:n.firstChild}}for(;o;)o=QO(o),a=!0;a&&i.trackWrites==n&&(i.trackWrites=null)}(this.contentDOM,this.children,t),YZ&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let n=t.style.cssText;t.style.cssText=n+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=n}}(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Yo)||r<n||i>n+this.node.content.size)return null;let o=t.domSelectionRange(),a=function(t,n){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&n>0){if(t.childNodes.length>n&&3==t.childNodes[n].nodeType)return t.childNodes[n];n=YR(t=t.childNodes[n-1])}else{if(1!=t.nodeType||!(n<t.childNodes.length))return null;t=t.childNodes[n],n=0}}}(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(!this.node.inlineContent)return{node:a,pos:-1,text:""};{let u=a.nodeValue,s=function(t,n,r,i){for(let o=0,a=0;o<t.childCount&&a<=i;){let u=t.child(o++);if(a+=u.nodeSize,!u.isText)continue;let s=u.text;for(;o<t.childCount;){let c=t.child(o++);if(a+=c.nodeSize,!c.isText)break;s+=c.text}if(a>=r){let l=a<i?s.lastIndexOf(n,i-a-1):-1;if(l>=0&&l+n.length+a>=r)return a+l;if(r==i&&s.length>=i+n.length-a&&s.slice(i-a,i-a+n.length)==n)return i}}return -1}(this.node.content,u,r-n,i-n);return s<0?null:{node:a,pos:s,text:u}}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new Qf(this,o,n,i);t.input.compositionNodes.push(a),this.children=QM(this.children,r,r+i.length,t,a)}update(t,n,r,i){return!!(3!=this.dirty&&t.sameMarkup(this.node))&&(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(Qw(t,this.outerDeco))return;let n=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=Q_(this.dom,this.nodeDOM,Qx(this.outerDeco,this.node,n),Qx(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Qh(t,n,r,i,o){QT(i,n,t);let a=new Qp(void 0,t,n,r,i,i,i,o,0);return a.contentDOM&&a.updateChildren(o,0),a}class Qm extends Qp{constructor(t,n,r,i,o,a,u){super(t,n,r,i,o,null,a,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return!!(3!=this.dirty&&(0==this.dirty||this.inParent())&&t.sameMarkup(this.node))&&(this.updateOuterDeco(n),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new Qm(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(0==t||n==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class Qg extends Qc{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Qy extends Qp{constructor(t,n,r,i,o,a,u,s,c,l){super(t,n,r,i,o,a,u,c,l),this.spec=s}update(t,n,r,i){if(3==this.dirty)return!1;if(!this.spec.update)return(!!this.contentDOM||!!t.isLeaf)&&super.update(t,n,r,i);{let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}let Qv=function(t){t&&(this.nodeName=t)};Qv.prototype=Object.create(null);let Qb=[new Qv];function Qx(t,n,r){if(0==t.length)return Qb;let i=r?Qb[0]:new Qv,o=[i];for(let a=0;a<t.length;a++){let u=t[a].type.attrs;if(u)for(let s in u.nodeName&&o.push(i=new Qv(u.nodeName)),u){let c=u[s];null!=c&&(r&&1==o.length&&o.push(i=new Qv(n.isInline?"span":"div")),"class"==s?i.class=(i.class?i.class+" ":"")+c:"style"==s?i.style=(i.style?i.style+";":"")+c:"nodeName"!=s&&(i[s]=c))}}return o}function Q_(t,n,r,i){if(r==Qb&&i==Qb)return n;let o=n;for(let a=0;a<i.length;a++){let u=i[a],s=r[a];if(a){let c;s&&s.nodeName==u.nodeName&&o!=t&&(c=o.parentNode)&&c.nodeName.toLowerCase()==u.nodeName||((c=document.createElement(u.nodeName)).pmIsDeco=!0,c.appendChild(o),s=Qb[0]),o=c}QS(o,s||Qb[0],u)}return o}function QS(t,n,r){for(let i in n)"class"==i||"style"==i||"nodeName"==i||i in r||t.removeAttribute(i);for(let o in r)"class"!=o&&"style"!=o&&"nodeName"!=o&&r[o]!=n[o]&&t.setAttribute(o,r[o]);if(n.class!=r.class){let a=n.class?n.class.split(" ").filter(Boolean):[],u=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<a.length;s++)-1==u.indexOf(a[s])&&t.classList.remove(a[s]);for(let c=0;c<u.length;c++)-1==a.indexOf(u[c])&&t.classList.add(u[c]);0==t.classList.length&&t.removeAttribute("class")}if(n.style!=r.style){if(n.style){let l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,f;for(;f=l.exec(n.style);)t.style.removeProperty(f[1])}r.style&&(t.style.cssText+=r.style)}}function QT(t,n,r){return Q_(t,t,Qb,Qx(n,r,1!=t.nodeType))}function Qw(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(n[r].type))return!1;return!0}function QO(t){let n=t.nextSibling;return t.parentNode.removeChild(t),n}class QI{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,n){let r=n,i=r.children.length,o=t.childCount,a=new Map,u=[];e:for(;o>0;){let s;for(;;)if(i){let c=r.children[i-1];if(c instanceof Qd)r=c,i=c.children.length;else{s=c,i--;break}}else{if(r==n)break e;i=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=t.child(o-1))break;--o,a.set(s,o),u.push(s)}}return{index:o,matched:a,matches:u.reverse()}}(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let s=this.index;s<Math.min(this.index+3,this.top.children.length);s++){let c=this.top.children[s];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){u=s;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let l=Qd.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))o=this.top.children.indexOf(a,this.index);else for(let u=this.index,s=Math.min(this.top.children.length,u+5);u<s;u++){let c=this.top.children[u];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=u;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let a=this.top.children[i];return 3==a.dirty&&a.dom==a.contentDOM&&(a.dirty=2),!!a.update(t,n,r,o)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return -1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return -1}t=n}}updateNextNode(t,n,r,i,o,a){for(let u=this.index;u<this.top.children.length;u++){let s=this.top.children[u];if(s instanceof Qp){let c=this.preMatch.matched.get(s);if(null!=c&&c!=o)return!1;let l=s.dom,f,d=this.isLocked(l)&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&Qw(n,s.outerDeco));if(!d&&s.update(t,n,r,i))return this.destroyBetween(this.index,u),s.dom!=l&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(s,t,n,r,i,a)))return this.top.children[this.index]=f,f.dirty=2,f.updateChildren(i,a+1),f.dirty=0,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let u=Qp.create(this.top,n,r,i,o,a);if(!u.contentDOM)return null;for(let s of(u.children=t.children,t.children=[],t.destroy(),u.children))s.parent=u;return u}addNode(t,n,r,i,o){let a=Qp.create(this.top,t,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Ql(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Qd;)t=(n=t).children[n.children.length-1];(!t||!(t instanceof Qm)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((YH||Y$)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);"IMG"==t&&(r.className="ProseMirror-separator",r.alt=""),"BR"==t&&(r.className="ProseMirror-trailingBreak");let i=new Qg(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function Qk(t,n){return t.type.side-n.type.side}function QM(t,n,r,i,o){let a=[];for(let u=0,s=0;u<t.length;u++){let c=t[u],l=s+=c.size;s>=r||l<=n?a.push(c):(s<n&&a.push(c.slice(0,n-s,i)),o&&(a.push(o),o=void 0),l>r&&a.push(c.slice(r-s,c.size,i)))}return a}function QC(t,n=null){let r=t.domSelectionRange(),i=t.state.doc;if(!r.focusNode)return null;let o=t.docView.nearestDesc(r.focusNode),a=o&&0==o.size,u=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(u<0)return null;let s=i.resolve(u),c,l;if(YA(r)){for(c=s;o&&!o.node;)o=o.parent;let f=o.node;if(o&&f.isAtom&&Yu.isSelectable(f)&&o.parent&&!(f.isInline&&function(t,n,r){for(let i=0==n,o=n==YR(t);i||o;){if(t==r)return!0;let a=YT(t);if(!(t=t.parentNode))return!1;i=i&&0==a,o=o&&a==YR(t)}}(r.focusNode,r.focusOffset,o.dom))){let d=o.posBefore;l=new Yu(u==d?s:i.resolve(d))}}else{let p=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(p<0)return null;c=i.resolve(p)}if(!l){let h="pointer"==n||t.state.selection.head<s.pos&&!a?1:-1;l=QD(t,c,s,h)}return l}function QR(t){return t.editable?t.hasFocus():QU(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function QE(t,n=!1){let r=t.state.selection;if(QF(t,r),QR(t)){var i,o;if(!n&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Y$){let a=t.domSelectionRange(),u=t.domObserver.currentSelection;if(a.anchorNode&&u.anchorNode&&Yk(a.anchorNode,a.anchorOffset,u.anchorNode,u.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper){let s,c,l,f;i=t,s=i.domSelection(),c=document.createRange(),l=i.cursorWrapper.dom,f="IMG"==l.nodeName,f?c.setEnd(l.parentNode,YT(l)+1):c.setEnd(l,0),c.collapse(!1),s.removeAllRanges(),s.addRange(c),!f&&!i.state.selection.visible&&Yz&&YB<=11&&(l.disabled=!0,l.disabled=!1)}else{let{anchor:d,head:p}=r,h,m,g,y,v,b;!QA||r instanceof Yo||(r.$from.parent.inlineContent||(h=Qj(t,r.from)),r.empty||r.$from.parent.inlineContent||(m=Qj(t,r.to))),t.docView.setSelection(d,p,t.root,n),QA&&(h&&QP(h),m&&QP(m)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&(o=t,g=o.dom.ownerDocument,g.removeEventListener("selectionchange",o.input.hideSelectionGuard),y=o.domSelectionRange(),v=y.anchorNode,b=y.anchorOffset,g.addEventListener("selectionchange",o.input.hideSelectionGuard=()=>{(y.anchorNode!=v||y.anchorOffset!=b)&&(g.removeEventListener("selectionchange",o.input.hideSelectionGuard),setTimeout(()=>{(!QR(o)||o.state.selection.visible)&&o.dom.classList.remove("ProseMirror-hideselection")},20))})))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}let QA=YH||Y$&&YV<63;function Qj(t,n){let{node:r,offset:i}=t.docView.domFromPos(n,0),o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(YH&&o&&"false"==o.contentEditable)return QN(o);if((!o||"false"==o.contentEditable)&&(!a||"false"==a.contentEditable)){if(o)return QN(o);if(a)return QN(a)}}function QN(t){return t.contentEditable="true",YH&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function QP(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function QF(t,n){if(n instanceof Yu){let r=t.docView.descAt(n.from);r!=t.lastSelectedViewDesc&&(QL(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else QL(t)}function QL(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function QD(t,n,r,i){return t.someProp("createSelectionBetween",i=>i(t,n,r))||Yo.between(n,r,i)}function QW(t){return(!t.editable||!!t.hasFocus())&&QU(t)}function QU(t){let n=t.domSelectionRange();if(!n.anchorNode)return!1;try{return t.dom.contains(3==n.anchorNode.nodeType?n.anchorNode.parentNode:n.anchorNode)&&(t.editable||t.dom.contains(3==n.focusNode.nodeType?n.focusNode.parentNode:n.focusNode))}catch{return!1}}function Qz(t,n){let{$anchor:r,$head:i}=t.selection,o=n>0?r.max(i):r.min(i),a=o.parent.inlineContent?o.depth?t.doc.resolve(n>0?o.after():o.before()):null:o;return a&&Yt.findFrom(a,n)}function QB(t,n){return t.dispatch(t.state.tr.setSelection(n).scrollIntoView()),!0}function Qq(t,n,r){let i=t.state.selection;if(i instanceof Yo){if(!i.empty||r.indexOf("s")>-1)return!1;if(t.endOfTextblock(n>0?"forward":"backward")){let o=Qz(t.state,n);return!!o&&o instanceof Yu&&QB(t,o)}if(!(YJ&&r.indexOf("m")>-1)){let a=i.$head,u=a.textOffset?null:n<0?a.nodeBefore:a.nodeAfter,s;if(!u||u.isText)return!1;let c=n<0?a.pos-u.nodeSize:a.pos;return!!(u.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(Yu.isSelectable(u)?QB(t,new Yu(n<0?t.state.doc.resolve(a.pos-u.nodeSize):a)):!!YQ&&QB(t,new Yo(t.state.doc.resolve(n<0?c:c+u.nodeSize))))}}else{if(i instanceof Yu&&i.node.isInline)return QB(t,new Yo(n>0?i.$to:i.$from));{let l=Qz(t.state,n);return!!l&&QB(t,l)}}}function QK(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Q$(t){let n=t.pmViewDesc;return n&&0==n.size&&(t.nextSibling||"BR"!=t.nodeName)}function QV(t,n){return n<0?function(t){let n=t.domSelectionRange(),r=n.focusNode,i=n.focusOffset;if(!r)return;let o,a,u=!1;for(Yq&&1==r.nodeType&&i<QK(r)&&Q$(r.childNodes[i])&&(u=!0);;)if(i>0){if(1!=r.nodeType)break;{let s=r.childNodes[i-1];if(Q$(s))o=r,a=--i;else if(3==s.nodeType)i=(r=s).nodeValue.length;else break}}else{if(QZ(r))break;{let c=r.previousSibling;for(;c&&Q$(c);)o=r.parentNode,a=YT(c),c=c.previousSibling;if(c)i=QK(r=c);else{if((r=r.parentNode)==t.dom)break;i=0}}}u?QJ(t,r,i):o&&QJ(t,o,a)}(t):QH(t)}function QH(t){let n=t.domSelectionRange(),r=n.focusNode,i=n.focusOffset;if(!r)return;let o=QK(r),a,u;for(;;)if(i<o){if(1!=r.nodeType)break;if(Q$(r.childNodes[i]))a=r,u=++i;else break}else{if(QZ(r))break;{let s=r.nextSibling;for(;s&&Q$(s);)a=s.parentNode,u=YT(s)+1,s=s.nextSibling;if(s)i=0,o=QK(r=s);else{if((r=r.parentNode)==t.dom)break;i=o=0}}}a&&QJ(t,a,u)}function QZ(t){let n=t.pmViewDesc;return n&&n.node&&n.node.isBlock}function QJ(t,n,r){let i=t.domSelection();if(YA(i)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(n,r);t.domObserver.setCurSelection();let{state:a}=t;setTimeout(()=>{t.state==a&&QE(t)},50)}function QG(t,n){let r=t.state.doc.resolve(n);if(!(Y$||YG)&&r.parent.inlineContent){let i=t.coordsAtPos(n);if(n>r.start()){let o=t.coordsAtPos(n-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(n<r.end()){let u=t.coordsAtPos(n+1),s=(u.top+u.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(u.left-i.left)>1)return u.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function QY(t,n,r){let i=t.state.selection;if(i instanceof Yo&&!i.empty||r.indexOf("s")>-1||YJ&&r.indexOf("m")>-1)return!1;let{$from:o,$to:a}=i;if(!o.parent.inlineContent||t.endOfTextblock(n<0?"up":"down")){let u=Qz(t.state,n);if(u&&u instanceof Yu)return QB(t,u)}if(!o.parent.inlineContent){let s=n<0?o:a,c=i instanceof Yc?Yt.near(s,n):Yt.findFrom(s,n);return!!c&&QB(t,c)}return!1}function QQ(t,n){if(!(t.state.selection instanceof Yo))return!0;let{$head:r,$anchor:i,empty:o}=t.state.selection;if(!r.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(n>0?"forward":"backward"))return!0;let a=!r.textOffset&&(n<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let u=t.state.tr;return n<0?u.delete(r.pos-a.nodeSize,r.pos):u.delete(r.pos,r.pos+a.nodeSize),t.dispatch(u),!0}return!1}function QX(t,n,r){t.domObserver.stop(),n.contentEditable=r,t.domObserver.start()}function Q0(t,n){t.someProp("transformCopied",r=>{n=r(n,t)});let r=[],{content:i,openStart:o,openEnd:a}=n;for(;o>1&&a>1&&1==i.childCount&&1==i.firstChild.childCount;){o--,a--;let u=i.firstChild;r.push(u.type.name,u.attrs!=u.type.defaultAttrs?u.attrs:null),i=u.content}let s=t.someProp("clipboardSerializer")||GT.fromSchema(t.state.schema),c=Xe(),l=c.createElement("div");l.appendChild(s.serializeFragment(i,{document:c}));let f=l.firstChild,d,p=0;for(;f&&1==f.nodeType&&(d=Q8[f.nodeName.toLowerCase()]);){for(let h=d.length-1;h>=0;h--){let m=c.createElement(d[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),p++}f=l.firstChild}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",`${o} ${a}${p?` -${p}`:""} ${JSON.stringify(r)}`),{dom:l,text:t.someProp("clipboardTextSerializer",r=>r(n,t))||n.content.textBetween(0,n.content.size,`

`)}}function Q1(t,n,r,i,o){let a=o.parent.type.spec.code,u,s;if(!r&&!n)return null;let c=n&&(i||a||!r);if(c){if(t.someProp("transformPastedText",r=>{n=r(n,a||i,t)}),a)return n?new Jq(JL.from(t.state.schema.text(n.replace(/\r\n?/g,`
`))),0,0):Jq.empty;let l=t.someProp("clipboardTextParser",r=>r(n,o,i,t));if(l)s=l;else{let f=o.marks(),{schema:d}=t.state,p=GT.fromSchema(d);u=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach(t=>{let n=u.appendChild(document.createElement("p"));t&&n.appendChild(p.serializeNode(d.text(t,f)))})}}else t.someProp("transformPastedHTML",n=>{r=n(r,t)}),u=function(t){let n=/^(\s*<meta [^>]*>)*/.exec(t);n&&(t=t.slice(n[0].length));let r=Xe().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),o;if((o=i&&Q8[i[1].toLowerCase()])&&(t=o.map(t=>"<"+t+">").join("")+t+o.map(t=>"</"+t+">").reverse().join("")),r.innerHTML=t,o)for(let a=0;a<o.length;a++)r=r.querySelector(o[a])||r;return r}(r),YQ&&function(t){let n=t.querySelectorAll(Y$?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<n.length;r++){let i=n[r];1==i.childNodes.length&&"\xa0"==i.textContent&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let y=u.firstChild;for(;y&&1!=y.nodeType;)y=y.nextSibling;if(!y)break;u=y}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||Gp.fromSchema(t.state.schema)).parseSlice(u,{preserveWhitespace:!!(c||m),context:o,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Q2.test(t.parentNode.nodeName)?null:{ignore:!0}})),m)s=function(t,n){if(!t.size)return t;let r=t.content.firstChild.type.schema,i;try{i=JSON.parse(n)}catch{return t}let{content:o,openStart:a,openEnd:u}=t;for(let s=i.length-2;s>=0;s-=2){let c=r.nodes[i[s]];if(!c||c.hasRequiredAttrs())break;o=JL.from(c.create(i[s+1],o)),a++,u++}return new Jq(o,a,u)}(Q6(s,+m[1],+m[2]),m[4]);else if((s=Jq.maxOpen(function(t,n){if(t.childCount<2)return t;for(let r=n.depth;r>=0;r--){let i=n.node(r).contentMatchAt(n.index(r)),o,a=[];if(t.forEach(t=>{if(!a)return;let n=i.findWrapping(t.type),r;if(!n)return a=null;if(r=a.length&&o.length&&Q5(n,o,t,a[a.length-1],0))a[a.length-1]=r;else{a.length&&(a[a.length-1]=Q4(a[a.length-1],o.length));let u=Q3(t,n);a.push(u),i=i.matchType(u.type),o=n}}),a)return JL.from(a)}return t}(s.content,o),!0)).openStart||s.openEnd){let v=0,b=0;for(let x=s.content.firstChild;v<s.openStart&&!x.type.spec.isolating;v++,x=x.firstChild);for(let _=s.content.lastChild;b<s.openEnd&&!_.type.spec.isolating;b++,_=_.lastChild);s=Q6(s,v,b)}return t.someProp("transformPasted",n=>{s=n(s,t)}),s}let Q2=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Q3(t,n,r=0){for(let i=n.length-1;i>=r;i--)t=n[i].create(null,JL.from(t));return t}function Q5(t,n,r,i,o){if(o<t.length&&o<n.length&&t[o]==n[o]){let a=Q5(t,n,r,i.lastChild,o+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(o==t.length-1?r.type:t[o+1]))return i.copy(i.content.append(JL.from(Q3(r,t,o+1))))}}function Q4(t,n){if(0==n)return t;let r=t.content.replaceChild(t.childCount-1,Q4(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(JL.empty,!0);return t.copy(r.append(i))}function Q9(t,n,r,i,o,a){let u=n<0?t.firstChild:t.lastChild,s=u.content;return t.childCount>1&&(a=0),o<i-1&&(s=Q9(s,n,r,i,o+1,a)),o>=r&&(s=n<0?u.contentMatchAt(0).fillBefore(s,a<=o).append(s):s.append(u.contentMatchAt(u.childCount).fillBefore(JL.empty,!0))),t.replaceChild(n<0?0:t.childCount-1,u.copy(s))}function Q6(t,n,r){return n<t.openStart&&(t=new Jq(Q9(t.content,-1,n,t.openStart,0,t.openEnd),n,t.openEnd)),r<t.openEnd&&(t=new Jq(Q9(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}let Q8={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Q7=null;function Xe(){return Q7||(Q7=document.implementation.createHTMLDocument("title"))}let Xt={},Xn={},Xr={touchstart:!0,touchmove:!0};class Xi{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Xo(t,n){t.input.lastSelectionOrigin=n,t.input.lastSelectionTime=Date.now()}function Xa(t){t.someProp("handleDOMEvents",n=>{for(let r in n)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Xu(t,n))})}function Xu(t,n){return t.someProp("handleDOMEvents",r=>{let i=r[n.type];return!!i&&(i(t,n)||n.defaultPrevented)})}function Xs(t,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let r=n.target;r!=t.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(n))return!1;return!0}function Xc(t){return{left:t.clientX,top:t.clientY}}function Xl(t,n,r,i,o){if(-1==i)return!1;let a=t.state.doc.resolve(i);for(let u=a.depth+1;u>0;u--)if(t.someProp(n,n=>u>a.depth?n(t,r,a.nodeAfter,a.before(u),o,!0):n(t,r,a.node(u),a.before(u),o,!1)))return!0;return!1}function Xf(t,n,r){t.focused||t.focus();let i=t.state.tr.setSelection(n);"pointer"==r&&i.setMeta("pointer",!0),t.dispatch(i)}function Xd(t,n,r,i){return Xl(t,"handleDoubleClickOn",n,r,i)||t.someProp("handleDoubleClick",r=>r(t,n,i))}function Xp(t,n,r,i){return Xl(t,"handleTripleClickOn",n,r,i)||t.someProp("handleTripleClick",r=>r(t,n,i))||function(t,n,r){if(0!=r.button)return!1;let i=t.state.doc;if(-1==n)return!!i.inlineContent&&(Xf(t,Yo.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(n);for(let a=o.depth+1;a>0;a--){let u=a>o.depth?o.nodeAfter:o.node(a),s=o.before(a);if(u.inlineContent)Xf(t,Yo.create(i,s+1,s+1+u.content.size),"pointer");else{if(!Yu.isSelectable(u))continue;Xf(t,Yu.create(i,s),"pointer")}return!0}}(t,r,i)}Xn.keydown=(t,n)=>{if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!Xg(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(YY&&Y$&&13==n.keyCode))){if(229!=n.keyCode&&t.domObserver.forceFlush(),!YZ||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",r=>r(t,n))||function(t,n){var r;let i,o=n.keyCode,a=(i="",n.ctrlKey&&(i+="c"),n.metaKey&&(i+="m"),n.altKey&&(i+="a"),n.shiftKey&&(i+="s"),i);if(8==o||YJ&&72==o&&"c"==a)return QQ(t,-1)||QV(t,-1);if(46==o&&!n.shiftKey||YJ&&68==o&&"c"==a)return QQ(t,1)||QV(t,1);if(13==o||27==o)return!0;if(37==o||YJ&&66==o&&"c"==a){let u=37==o?"ltr"==QG(t,t.state.selection.from)?-1:1:-1;return Qq(t,u,a)||QV(t,u)}if(39==o||YJ&&70==o&&"c"==a){let s=39==o?"ltr"==QG(t,t.state.selection.from)?1:-1:1;return Qq(t,s,a)||QV(t,s)}return 38==o||YJ&&80==o&&"c"==a?QY(t,-1,a)||QV(t,-1):40==o||YJ&&78==o&&"c"==a?function(t){if(!YH||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:n,focusOffset:r}=t.domSelectionRange();if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){let i=n.firstChild;QX(t,i,"true"),setTimeout(()=>QX(t,i,"false"),20)}return!1}(t)||QY(t,1,a)||QH(t):a==(YJ?"m":"c")&&(66==o||73==o||89==o||90==o)}(t,n)?n.preventDefault():Xo(t,"key");else{let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",n=>n(t,Yj(13,"Enter"))),t.input.lastIOSEnter=0)},200)}}},Xn.keyup=(t,n)=>{16==n.keyCode&&(t.input.shiftKey=!1)},Xn.keypress=(t,n)=>{if(Xg(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||YJ&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Yo)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);/[\r\n]/.test(i)||t.someProp("handleTextInput",n=>n(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};let Xh=YJ?"metaKey":"ctrlKey";Xt.mousedown=(t,n)=>{var r,i,o;t.input.shiftKey=n.shiftKey;let a=Xx(t),u=Date.now(),s="singleClick",c,l;u-t.input.lastClick.time<500&&(c=(o=t.input.lastClick).x-n.clientX,c*c+(l=o.y-n.clientY)*l<100)&&!n[Xh]&&("singleClick"==t.input.lastClick.type?s="doubleClick":"doubleClick"==t.input.lastClick.type&&(s="tripleClick")),t.input.lastClick={time:u,x:n.clientX,y:n.clientY,type:s};let f=t.posAtCoords(Xc(n));f&&("singleClick"==s?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Xm(t,f,n,!!a)):("doubleClick"==s?Xd:Xp)(t,f.pos,f.inside,n)?n.preventDefault():Xo(t,"pointer"))};class Xm{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Xh],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),a=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,a=u.depth?u.before():0}let s=i?null:r.target,c=s?t.docView.nearestDesc(s,!0):null;this.target=c?c.dom:null;let{selection:l}=t.state;(0==r.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof Yu&&l.from<=a&&l.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Yq&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>QE(this.view)),this.view.input.mouseDown=null}up(t){var n,r,i,o,a;if(this.done(),!this.view.dom.contains(t.target))return;let u=this.pos;this.view.state.doc!=this.startDoc&&(u=this.view.posAtCoords(Xc(t))),this.updateAllowDefault(t),this.allowDefault||!u?Xo(this.view,"pointer"):(n=this.view,r=u.pos,i=u.inside,a=this.selectNode,Xl(n,"handleClickOn",r,i,t)||n.someProp("handleClick",i=>i(n,r,t))||(a?function(t,n){if(-1==n)return!1;let r=t.state.selection,i,o;r instanceof Yu&&(i=r.node);let a=t.state.doc.resolve(n);for(let u=a.depth+1;u>0;u--){let s=u>a.depth?a.nodeAfter:a.node(u);if(Yu.isSelectable(s)){o=i&&r.$from.depth>0&&u>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?a.before(r.$from.depth):a.before(u);break}}return null!=o&&(Xf(t,Yu.create(t.state.doc,o),"pointer"),!0)}(n,i):function(t,n){if(-1==n)return!1;let r=t.state.doc.resolve(n),i=r.nodeAfter;return!!(i&&i.isAtom&&Yu.isSelectable(i))&&(Xf(t,new Yu(r),"pointer"),!0)}(n,i)))?t.preventDefault():0==t.button&&(this.flushed||YH&&this.mightDrag&&!this.mightDrag.node.isAtom||Y$&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(u.pos-this.view.state.selection.from),Math.abs(u.pos-this.view.state.selection.to)))?(Xf(this.view,Yt.near(this.view.state.doc.resolve(u.pos)),"pointer"),t.preventDefault()):Xo(this.view,"pointer")}move(t){this.updateAllowDefault(t),Xo(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Xg(t,n){return!!t.composing||!!(YH&&500>Math.abs(n.timeStamp-t.input.compositionEndedAt))&&(t.input.compositionEndedAt=-2e8,!0)}Xt.touchstart=t=>{t.input.lastTouch=Date.now(),Xx(t),Xo(t,"pointer")},Xt.touchmove=t=>{t.input.lastTouch=Date.now(),Xo(t,"pointer")},Xt.contextmenu=t=>{var n;return Xx(t)};let Xy=YY?5e3:-1;function Xv(t,n){clearTimeout(t.input.composingTimeout),n>-1&&(t.input.composingTimeout=setTimeout(()=>Xx(t),n))}function Xb(t){let n;for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=(n=document.createEvent("Event"),n.initEvent("event",!0,!0),n.timeStamp));t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Xx(t,n=!1){if(!(YY&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Xb(t),n||t.docView&&t.docView.dirty){let r=QC(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}Xn.compositionstart=Xn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:n}=t,r=n.selection.$from;if(n.selection.empty&&(n.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(t=>!1===t.type.spec.inclusive)))t.markCursor=t.state.storedMarks||r.marks(),Xx(t,!0),t.markCursor=null;else if(Xx(t),Yq&&n.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let i=t.domSelectionRange();for(let o=i.focusNode,a=i.focusOffset;o&&1==o.nodeType&&0!=a;){let u=a<0?o.lastChild:o.childNodes[a-1];if(!u)break;if(3==u.nodeType){t.domSelection().collapse(u,u.nodeValue.length);break}o=u,a=-1}}t.input.composing=!0}Xv(t,Xy)},Xn.compositionend=(t,n)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=n.timeStamp,t.input.compositionID++,Xv(t,20))};let X_=Yz&&YB<15||YZ&&YX<604;function XS(t,n,r,i,o){var a;let u=Q1(t,n,r,i,t.state.selection.$from);if(t.someProp("handlePaste",n=>n(t,o,u||Jq.empty)))return!0;if(!u)return!1;let s=0==u.openStart&&0==u.openEnd&&1==u.content.childCount?u.content.firstChild:null,c=s?t.state.tr.replaceSelectionWith(s,i):t.state.tr.replaceSelection(u);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Xt.copy=Xn.cut=(t,n)=>{let r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=X_?null:n.clipboardData,{dom:a,text:u}=Q0(t,r.content());o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",u)):function(t,n){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(n),r.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),o=document.createRange();o.selectNodeContents(n),t.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Xn.paste=(t,n)=>{if(t.composing&&!YY)return;let r=X_?null:n.clipboardData,i=t.input.shiftKey&&45!=t.input.lastKeyCode;r&&XS(t,r.getData("text/plain"),r.getData("text/html"),i,n)?n.preventDefault():function(t,n){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let o=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),r?XS(t,i.value,null,o,n):XS(t,i.textContent,i.innerHTML,o,n)},50)}(t,n)};class XT{constructor(t,n){this.slice=t,this.move=n}}let Xw=YJ?"altKey":"ctrlKey";for(let XO in Xt.dragstart=(t,n)=>{let r=n,i=t.input.mouseDown;if(i&&i.done(),!r.dataTransfer)return;let o=t.state.selection,a=o.empty?null:t.posAtCoords(Xc(r));if(!(a&&a.pos>=o.from&&a.pos<=(o instanceof Yu?o.to-1:o.to))){if(i&&i.mightDrag)t.dispatch(t.state.tr.setSelection(Yu.create(t.state.doc,i.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){let u=t.docView.nearestDesc(r.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(Yu.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:c,text:l}=Q0(t,s);r.dataTransfer.clearData(),r.dataTransfer.setData(X_?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",X_||r.dataTransfer.setData("text/plain",l),t.dragging=new XT(s,!r[Xw])},Xt.dragend=t=>{let n=t.dragging;window.setTimeout(()=>{t.dragging==n&&(t.dragging=null)},50)},Xn.dragover=Xn.dragenter=(t,n)=>n.preventDefault(),Xn.drop=(t,n)=>{let r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Xc(n));if(!i)return;let o=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",n=>{a=n(a,t)}):a=Q1(t,n.dataTransfer.getData(X_?"Text":"text/plain"),X_?null:n.dataTransfer.getData("text/html"),!1,o);let u=!!(r&&!n[Xw]);if(t.someProp("handleDrop",r=>r(t,n,a||Jq.empty,u))){n.preventDefault();return}if(!a)return;n.preventDefault();let s=a?function(t,n,r){let i=t.resolve(n);if(!r.content.size)return n;let o=r.content;for(let a=0;a<r.openStart;a++)o=o.firstChild.content;for(let u=1;u<=(0==r.openStart&&r.size?2:1);u++)for(let s=i.depth;s>=0;s--){let c=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,l=i.index(s)+(c>0?1:0),f=i.node(s),d=!1;if(1==u)d=f.canReplace(l,l,o);else{let p=f.contentMatchAt(l).findWrapping(o.firstChild.type);d=p&&f.canReplaceWith(l,l,p[0])}if(d)return 0==c?i.pos:c<0?i.before(s+1):i.after(s+1)}return null}(t.state.doc,o.pos,a):o.pos;null==s&&(s=o.pos);let c=t.state.tr;u&&c.deleteSelection();let l=c.mapping.map(s),f=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=c.doc;if(f?c.replaceRangeWith(l,l,a.content.firstChild):c.replaceRange(l,l,a),c.doc.eq(d))return;let p=c.doc.resolve(l);if(f&&Yu.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Yu(p));else{let h=c.mapping.map(s);c.mapping.maps[c.mapping.maps.length-1].forEach((t,n,r,i)=>h=i),c.setSelection(QD(t,p,c.doc.resolve(h)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))},Xt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&QE(t)},20))},Xt.blur=(t,n)=>{t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Xt.beforeinput=(t,n)=>{if(Y$&&YY&&"deleteContentBackward"==n.inputType){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",n=>n(t,Yj(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}},Xn)Xt[XO]=Xn[XO];function XI(t,n){if(t==n)return!0;for(let r in t)if(t[r]!==n[r])return!1;for(let i in n)if(!(i in t))return!1;return!0}class Xk{constructor(t,n){this.toDOM=t,this.spec=n||XA,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new XR(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Xk&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&XI(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class XM{constructor(t,n){this.attrs=t,this.spec=n||XA}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new XR(o,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof XM&&XI(this.attrs,t.attrs)&&XI(this.spec,t.spec)}static is(t){return t.type instanceof XM}destroy(){}}let XC=class t{constructor(t,n){this.attrs=t,this.spec=n||XA}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new XR(o.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(n){return this==n||n instanceof t&&XI(this.attrs,n.attrs)&&XI(this.spec,n.spec)}destroy(){}};class XR{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new XR(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new XR(t,t,new Xk(n,r))}static inline(t,n,r,i){return new XR(t,n,new XM(r,i))}static node(t,n,r,i){return new XR(t,n,new XC(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof XM}}let XE=[],XA={};class Xj{constructor(t,n){this.local=t.length?t:XE,this.children=n.length?n:XE}static create(t,n){return n.length?XW(n,t,0,XA):XN}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=n&&u.to>=t&&(!o||o(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let c=this.children[s]+1;this.children[s+2].findInner(t-c,n-c,r,i+c,o)}}map(t,n,r){return this==XN||0==t.maps.length?this:this.mapInner(t,n,0,0,r||XA)}mapInner(t,n,r,i,o){let a;for(let u=0;u<this.local.length;u++){let s=this.local[u].map(t,r,i);s&&s.type.valid(n,s)?(a||(a=[])).push(s):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?function(t,n,r,i,o,a,u){let s=t.slice();for(let c=0,l=a;c<r.maps.length;c++){let f=0;r.maps[c].forEach((t,n,r,i)=>{let a=i-r-(n-t);for(let u=0;u<s.length;u+=3){let c=s[u+1];if(c<0||t>c+l-f)continue;let d=s[u]+l-f;n>=d?s[u+1]=t<=d?-2:-1:r>=o&&a&&(s[u]+=a,s[u+1]+=a)}f+=a}),l=r.maps[c].map(l,-1)}let d=!1;for(let p=0;p<s.length;p+=3)if(s[p+1]<0){if(-2==s[p+1]){d=!0,s[p+1]=-1;continue}let h=r.map(t[p]+a),m=h-o;if(m<0||m>=i.content.size){d=!0;continue}let g=r.map(t[p+1]+a,-1)-o,{index:y,offset:v}=i.content.findIndex(m),b=i.maybeChild(y);if(b&&v==m&&v+b.nodeSize==g){let x=s[p+2].mapInner(r,b,h+1,t[p]+a+1,u);x!=XN?(s[p]=m,s[p+1]=g,s[p+2]=x):(s[p+1]=-2,d=!0)}else d=!0}if(d){let _=function(t,n,r,i,o,a,u){function s(t,n){for(let a=0;a<t.local.length;a++){let c=t.local[a].map(i,o,n);c?r.push(c):u.onRemove&&u.onRemove(t.local[a].spec)}for(let l=0;l<t.children.length;l+=3)s(t.children[l+2],t.children[l]+n+1)}for(let c=0;c<t.length;c+=3)-1==t[c+1]&&s(t[c+2],n[c]+a+1);return r}(s,t,n,r,o,a,u),S=XW(_,i,0,u);n=S.local;for(let T=0;T<s.length;T+=3)s[T+1]<0&&(s.splice(T,3),T-=3);for(let w=0,O=0;w<S.children.length;w+=3){let I=S.children[w];for(;O<s.length&&s[O]<I;)O+=3;s.splice(O,0,S.children[w],S.children[w+1],S.children[w+2])}}return new Xj(n.sort(XU),s)}(this.children,a||[],t,n,r,i,o):a?new Xj(a.sort(XU),XE):XN}add(t,n){return n.length?this==XN?Xj.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((t,a)=>{let u=a+r,s;if(s=XL(n,t,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(t,s,u+1):i.splice(o,0,a,a+t.nodeSize,XW(s,t,u+1,XA)),o+=3}});let a=XF(o?XD(n):n,-r);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||a.splice(u--,1);return new Xj(a.length?this.local.concat(a).sort(XU):this.local,i||this.children)}remove(t){return 0==t.length||this==XN?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,u=r[o]+n,s=r[o+1]+n;for(let c=0,l;c<t.length;c++)(l=t[c])&&l.from>u&&l.to<s&&(t[c]=null,(a||(a=[])).push(l));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(a,u+1);f!=XN?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let d=0,p;d<t.length;d++)if(p=t[d])for(let h=0;h<i.length;h++)i[h].eq(p,n)&&(i==this.local&&(i=this.local.slice()),i.splice(h--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Xj(i,r):XN}forChild(t,n){if(this==XN)return this;if(n.isLeaf)return Xj.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}let a=t+1,u=a+n.content.size;for(let s=0;s<this.local.length;s++){let c=this.local[s];if(c.from<u&&c.to>a&&c.type instanceof XM){let l=Math.max(a,c.from)-a,f=Math.min(u,c.to)-a;l<f&&(i||(i=[])).push(c.copy(l,f))}}if(i){let d=new Xj(i.sort(XU),XE);return r?new XP([d,r]):d}return r||XN}eq(t){if(this==t)return!0;if(!(t instanceof Xj)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return Xz(this.localsInner(t))}localsInner(t){if(this==XN)return XE;if(t.inlineContent||!this.local.some(XM.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof XM||n.push(this.local[r]);return n}}Xj.empty=new Xj([],[]),Xj.removeOverlap=Xz;let XN=Xj.empty;class XP{constructor(t){this.members=t}map(t,n){let r=this.members.map(r=>r.map(t,n,XA));return XP.from(r)}forChild(t,n){if(n.isLeaf)return Xj.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=XN&&(o instanceof XP?r=r.concat(o.members):r.push(o))}return XP.from(r)}eq(t){if(!(t instanceof XP)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length){if(n){r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}else n=o}}return n?Xz(r?n:n.sort(XU)):XE}static from(t){switch(t.length){case 0:return XN;case 1:return t[0];default:return new XP(t.every(t=>t instanceof Xj)?t:t.reduce((t,n)=>t.concat(n instanceof Xj?n:n.members),[]))}}}function XF(t,n){if(!n||!t.length)return t;let r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(new XR(o.from+n,o.to+n,o.type))}return r}function XL(t,n,r){if(n.isLeaf)return null;let i=r+n.nodeSize,o=null;for(let a=0,u;a<t.length;a++)(u=t[a])&&u.from>r&&u.to<i&&((o||(o=[])).push(u),t[a]=null);return o}function XD(t){let n=[];for(let r=0;r<t.length;r++)null!=t[r]&&n.push(t[r]);return n}function XW(t,n,r,i){let o=[],a=!1;n.forEach((n,u)=>{let s=XL(t,n,u+r);if(s){a=!0;let c=XW(s,n,r+u+1,i);c!=XN&&o.push(u,u+n.nodeSize,c)}});let u=XF(a?XD(t):t,-r).sort(XU);for(let s=0;s<u.length;s++)u[s].type.valid(n,u[s])||(i.onRemove&&i.onRemove(u[s].spec),u.splice(s--,1));return u.length||o.length?new Xj(u,o):XN}function XU(t,n){return t.from-n.from||t.to-n.to}function Xz(t){let n=t;for(let r=0;r<n.length-1;r++){let i=n[r];if(i.from!=i.to)for(let o=r+1;o<n.length;o++){let a=n[o];if(a.from==i.from){a.to!=i.to&&(n==t&&(n=t.slice()),n[o]=a.copy(a.from,i.to),XB(n,o+1,a.copy(i.to,a.to)));continue}a.from<i.to&&(n==t&&(n=t.slice()),n[r]=i.copy(i.from,a.from),XB(n,o,i.copy(a.from,i.to)));break}}return n}function XB(t,n,r){for(;n<t.length&&XU(r,t[n])>0;)n++;t.splice(n,0,r)}function Xq(t){let n=[];return t.someProp("decorations",r=>{let i=r(t.state);i&&i!=XN&&n.push(i)}),t.cursorWrapper&&n.push(Xj.create(t.state.doc,[t.cursorWrapper.deco])),XP.from(n)}let XK={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},X$=Yz&&YB<=11;class XV{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class XH{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new XV,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let n=0;n<t.length;n++)this.queue.push(t[n]);Yz&&YB<=11&&t.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),X$&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,XK)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(QW(this.view)){if(this.suppressingSelectionUpdates)return QE(this.view);if(Yz&&YB<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Yk(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Yw(i))n.add(i);for(let o=t.anchorNode;o;o=Yw(o))if(n.has(o)){r=o;break}let a=r&&this.view.docView.nearestDesc(r);if(a&&a.ignoreMutation({type:"selection",target:3==r.nodeType?r.parentNode:r}))return this.setCurSelection(),!0}flush(){var t;let{view:n}=this;if(!n.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let i=n.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&QW(n)&&!this.ignoreSelectionChange(i),a=-1,u=-1,s=!1,c=[];if(n.editable)for(let l=0;l<r.length;l++){let f=this.registerMutation(r[l],c);f&&(a=a<0?f.from:Math.min(f.from,a),u=u<0?f.to:Math.max(f.to,u),f.typeOver&&(s=!0))}if(Yq&&c.length>1){let d=c.filter(t=>"BR"==t.nodeName);if(2==d.length){let p=d[0],h=d[1];p.parentNode&&p.parentNode.parentNode==h.parentNode?h.remove():p.remove()}}let m=null;a<0&&o&&n.input.lastFocus>Date.now()-200&&Math.max(n.input.lastTouch,n.input.lastClick.time)<Date.now()-300&&YA(i)&&(m=QC(n))&&m.eq(Yt.near(n.state.doc.resolve(0),1))?(n.input.lastFocus=0,QE(n),this.currentSelection.set(i),n.scrollToSelection()):(a>-1||o)&&(a>-1&&(n.docView.markDirty(a,u),t=n,XZ.has(t)||(XZ.set(t,null),-1===["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))||(t.requiresGeckoHackNode=Yq,XJ||(console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),XJ=!0))),this.handleDOMChange(a,u,s,c),n.docView&&n.docView.dirty?n.updateState(n.state):this.currentSelection.eq(i)||QE(n),this.currentSelection.set(i))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if("childList"!=t.type)return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue};{for(let i=0;i<t.addedNodes.length;i++)n.push(t.addedNodes[i]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,a=t.nextSibling;if(Yz&&YB<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:s,nextSibling:c}=t.addedNodes[u];(!s||0>Array.prototype.indexOf.call(t.addedNodes,s))&&(o=s),(!c||0>Array.prototype.indexOf.call(t.addedNodes,c))&&(a=c)}let l=o&&o.parentNode==t.target?YT(o)+1:0,f=r.localPosFromDOM(t.target,l,-1),d=a&&a.parentNode==t.target?YT(a):t.target.childNodes.length,p=r.localPosFromDOM(t.target,d,1);return{from:f,to:p}}}}let XZ=new WeakMap,XJ=!1;function XG(t){let n=t.pmViewDesc;if(n)return n.parseRule();if("BR"==t.nodeName&&t.parentNode){if(YH&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(t.parentNode.lastChild==t||YH&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}let XY=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function XQ(t,n,r){return Math.max(r.anchor,r.head)>n.content.size?null:QD(t,n.resolve(r.anchor),n.resolve(r.head))}function XX(t,n,r){let i=t.depth,o=n?t.end():t.pos;for(;i>0&&(n||t.indexAfter(i)==t.node(i).childCount);)i--,o++,n=!1;if(r){let a=t.node(i).maybeChild(t.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,o++}return o}class X0{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Xi,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(X4),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=X3(this),X2(this),this.nodeViews=X5(this),this.docView=Qh(this.state.doc,X1(this),Xq(this),this.dom,this),this.domObserver=new XH(this,(t,n,r,i)=>(function(t,n,r,i,o){if(n<0){let a=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,u=QC(t,a);if(u&&!t.state.selection.eq(u)){if(Y$&&YY&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",n=>n(t,Yj(13,"Enter"))))return;let s=t.state.tr.setSelection(u);"pointer"==a?s.setMeta("pointer",!0):"key"==a&&s.scrollIntoView(),t.composing&&s.setMeta("composition",t.input.compositionID),t.dispatch(s)}return}let c=t.state.doc.resolve(n),l=c.sharedDepth(r);n=c.before(l+1),r=t.state.doc.resolve(r).after(l+1);let f=t.state.selection,d=function(t,n,r){let{node:i,fromOffset:o,toOffset:a,from:u,to:s}=t.docView.parseRange(n,r),c=t.domSelectionRange(),l,f=c.anchorNode;if(f&&t.dom.contains(1==f.nodeType?f:f.parentNode)&&(l=[{node:f,offset:c.anchorOffset}],YA(c)||l.push({node:c.focusNode,offset:c.focusOffset})),Y$&&8===t.input.lastKeyCode)for(let d=a;d>o;d--){let p=i.childNodes[d-1],h=p.pmViewDesc;if("BR"==p.nodeName&&!h){a=d;break}if(!h||h.size)break}let m=t.state.doc,g=t.someProp("domParser")||Gp.fromSchema(t.state.schema),y=m.resolve(u),v=null,b=g.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:a,preserveWhitespace:"pre"!=y.parent.type.whitespace||"full",findPositions:l,ruleFromNode:XG,context:y});if(l&&null!=l[0].pos){let x=l[0].pos,_=l[1]&&l[1].pos;null==_&&(_=x),v={anchor:x+u,head:_+u}}return{doc:b,sel:v,from:u,to:s}}(t,n,r),p=t.state.doc,h=p.slice(d.from,d.to),m,g;8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,g="end"):(m=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let y=function(t,n,r,i,o){let a=t.findDiffStart(n,r);if(null==a)return null;let{a:u,b:s}=t.findDiffEnd(n,r+t.size,r+n.size);if("end"==o){let c=Math.max(0,a-Math.min(u,s));i-=u+c-a}if(u<a&&t.size<n.size){let l=i<=a&&i>=u?a-i:0;a-=l,s=a+(s-u),u=a}else if(s<a){let f=i<=a&&i>=s?a-i:0;a-=f,u=a+(u-s),s=a}return{start:a,endA:u,endB:s}}(h.content,d.doc.content,d.from,m,g);if((YZ&&t.input.lastIOSEnter>Date.now()-225||YY)&&o.some(t=>1==t.nodeType&&!XY.test(t.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",n=>n(t,Yj(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y){if(i&&f instanceof Yo&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))y={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let v=XQ(t,t.state.doc,d.sel);if(v&&!v.eq(t.state.selection)){let b=t.state.tr.setSelection(v);t.composing&&b.setMeta("composition",t.input.compositionID),t.dispatch(b)}}return}}if(Y$&&t.cursorWrapper&&d.sel&&d.sel.anchor==t.cursorWrapper.deco.from&&d.sel.head==d.sel.anchor){let x=y.endB-y.start;d.sel={anchor:d.sel.anchor+x,head:d.sel.anchor+x}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof Yo&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),Yz&&YB<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>d.from&&" \xa0"==d.doc.textBetween(y.start-d.from-1,y.start-d.from+1)&&(y.start--,y.endA--,y.endB--);let _=d.doc.resolveNoCache(y.start-d.from),S=d.doc.resolveNoCache(y.endB-d.from),T=p.resolve(y.start),w=_.sameParent(S)&&_.parent.inlineContent&&T.end()>=y.endA,O;if((YZ&&t.input.lastIOSEnter>Date.now()-225&&(!w||o.some(t=>"DIV"==t.nodeName||"P"==t.nodeName))||!w&&_.pos<d.doc.content.size&&!_.sameParent(S)&&(O=Yt.findFrom(d.doc.resolve(_.pos+1),1,!0))&&O.head==S.pos)&&t.someProp("handleKeyDown",n=>n(t,Yj(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&function(t,n,r,i,o){if(!i.parent.isTextblock||r-n<=o.pos-i.pos||XX(i,!0,!1)<o.pos)return!1;let a=t.resolve(n);if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let u=t.resolve(XX(a,!0,!0));return!(!u.parent.isTextblock||u.pos>r||XX(u,!0,!1)<r)&&i.parent.content.cut(i.parentOffset).eq(u.parent.content)}(p,y.start,y.endA,_,S)&&t.someProp("handleKeyDown",n=>n(t,Yj(8,"Backspace")))){YY&&Y$&&t.domObserver.suppressSelectionUpdates();return}Y$&&YY&&y.endB==y.start&&(t.input.lastAndroidDelete=Date.now()),YY&&!w&&_.start()!=S.start()&&0==S.parentOffset&&_.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==y.endA&&(y.endB-=2,S=d.doc.resolveNoCache(y.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(n){return n(t,Yj(13,"Enter"))})},20));let I=y.start,k=y.endA,M,C,R;if(w){if(_.pos==S.pos)Yz&&YB<=11&&0==_.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>QE(t),20)),M=t.state.tr.delete(I,k),C=p.resolve(y.start).marksAcross(p.resolve(y.endA));else if(y.endA==y.endB&&(R=function(t,n){let r=t.firstChild.marks,i=n.firstChild.marks,o=r,a=i,u,s,c;for(let l=0;l<i.length;l++)o=i[l].removeFromSet(o);for(let f=0;f<r.length;f++)a=r[f].removeFromSet(a);if(1==o.length&&0==a.length)s=o[0],u="add",c=t=>t.mark(s.addToSet(t.marks));else{if(0!=o.length||1!=a.length)return null;s=a[0],u="remove",c=t=>t.mark(s.removeFromSet(t.marks))}let d=[];for(let p=0;p<n.childCount;p++)d.push(c(n.child(p)));if(JL.from(d).eq(t))return{mark:s,type:u}}(_.parent.content.cut(_.parentOffset,S.parentOffset),T.parent.content.cut(T.parentOffset,y.endA-T.start()))))M=t.state.tr,"add"==R.type?M.addMark(I,k,R.mark):M.removeMark(I,k,R.mark);else if(_.parent.child(_.index()).isText&&_.index()==S.index()-(S.textOffset?0:1)){let E=_.parent.textBetween(_.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",n=>n(t,I,k,E)))return;M=t.state.tr.insertText(E,I,k)}}if(M||(M=t.state.tr.replace(I,k,d.doc.slice(y.start-d.from,y.endB-d.from))),d.sel){let A=XQ(t,M.doc,d.sel);A&&!(Y$&&YY&&t.composing&&A.empty&&(y.start!=y.endB||t.input.lastAndroidDelete<Date.now()-100)&&(A.head==I||A.head==M.mapping.map(k)-1)||Yz&&A.empty&&A.head==I)&&M.setSelection(A)}C&&M.ensureMarks(C),t.composing&&M.setMeta("composition",t.input.compositionID),t.dispatch(M.scrollIntoView())})(this,t,n,r,i)),this.domObserver.start(),function(t){for(let n in Xt){let r=Xt[n];t.dom.addEventListener(n,t.input.eventHandlers[n]=n=>{!Xs(t,n)||Xu(t,n)||!t.editable&&n.type in Xn||r(t,n)},Xr[n]?{passive:!0}:void 0)}YH&&t.dom.addEventListener("input",()=>null),Xa(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;for(let n in this._props={},t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Xa(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(X4),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];for(let i in n.state=this.state,t)n[i]=t[i];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){let r=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(Xb(this),o=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let u=X5(this);(function(t,n){let r=0,i=0;for(let o in t){if(t[o]!=n[o])return!0;r++}for(let a in n)i++;return r!=i})(u,this.nodeViews)&&(this.nodeViews=u,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Xa(this),this.editable=X3(this),X2(this);let s=Xq(this),c=X1(this),l=r.plugins==t.plugins||r.doc.eq(t.doc)?t.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",f=i||!this.docView.matchesNode(t.doc,c,s);(f||!t.selection.eq(r.selection))&&(o=!0);let d="preserve"==l&&o&&null==this.dom.style.overflowAnchor&&function(t){let n=t.dom.getBoundingClientRect(),r=Math.max(0,n.top),i,o;for(let a=(n.left+n.right)/2,u=r+1;u<Math.min(innerHeight,n.bottom);u+=5){let s=t.root.elementFromPoint(a,u);if(!s||s==t.dom||!t.dom.contains(s))continue;let c=s.getBoundingClientRect();if(c.top>=r-20){i=s,o=c.top;break}}return{refDOM:i,refTop:o,stack:Y5(t.dom)}}(this);if(o){var p,h,m;this.domObserver.stop();let g,y=f&&(Yz||Y$)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&(h=r.selection,m=t.selection,g=Math.min(h.$anchor.sharedDepth(h.head),m.$anchor.sharedDepth(m.head)),h.$anchor.start(g)!=m.$anchor.start(g));if(f){let v=Y$?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(t.doc,c,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Qh(t.doc,c,s,this.dom,this)),v&&!this.trackWrites&&(y=!0)}let b,x;y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(b=this.docView.domFromPos(this.state.selection.anchor,0),x=this.domSelectionRange(),Yk(b.node,b.offset,x.anchorNode,x.anchorOffset)))?QE(this,y):(QF(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():d&&function({refDOM:t,refTop:n,stack:r}){let i=t?t.getBoundingClientRect().top:0;Y4(r,0==i?0:i-n)}(d)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this))){if(this.state.selection instanceof Yu){let n=this.docView.domAfterPos(this.state.selection.from);1==n.nodeType&&Y3(this,n.getBoundingClientRect(),t)}else Y3(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let i=0;i<this.directPlugins.length;i++){let o=this.directPlugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let a=0;a<this.state.plugins.length;a++){let u=this.state.plugins[a];u.spec.view&&this.pluginViews.push(u.spec.view(this))}}}someProp(t,n){let r=this._props&&this._props[t],i;if(null!=r&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(null!=a&&(i=n?n(a):a))return i}let u=this.state.plugins;if(u)for(let s=0;s<u.length;s++){let c=u[s].props[t];if(null!=c&&(i=n?n(c):c))return i}}hasFocus(){if(Yz){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Y9)return t.focus(Y9);let n=Y5(t);t.focus(null==Y9?{get preventScroll(){return Y9={preventScroll:!0},!0}}:void 0),Y9||(Y9=!1,Y4(n,0))}(this.dom),QE(this),this.domObserver.start()}get root(){let t=this._root;if(null==t){for(let n=this.dom.parentNode;n;n=n.parentNode)if(9==n.nodeType||11==n.nodeType&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}posAtCoords(t){return function(t,n){var r,i;let o=t.dom.ownerDocument,a,u=0,s=YN(o,n.left,n.top);s&&({node:a,offset:u}=s);let c=(t.root.elementFromPoint?t.root:o).elementFromPoint(n.left,n.top),l;if(!c||!t.dom.contains(1!=c.nodeType?c.parentNode:c)){let f=t.dom.getBoundingClientRect();if(!Y6(n,f)||!(c=function t(n,r,i){let o=n.childNodes.length;if(o&&i.top<i.bottom)for(let a=Math.max(0,Math.min(o-1,Math.floor(o*(r.top-i.top)/(i.bottom-i.top))-2)),u=a;;){let s=n.childNodes[u];if(1==s.nodeType){let c=s.getClientRects();for(let l=0;l<c.length;l++){let f=c[l];if(Y6(r,f))return t(s,r,f)}}if((u=(u+1)%o)==a)break}return n}(t.dom,n,f)))return null}if(YH)for(let d=c;a&&d;d=Yw(d))d.draggable&&(a=void 0);let p;if(c=(p=(r=c).parentNode)&&/^li$/i.test(p.nodeName)&&n.left<r.getBoundingClientRect().left?p:r,a){if(Yq&&1==a.nodeType&&(u=Math.min(u,a.childNodes.length))<a.childNodes.length){let h=a.childNodes[u],m;"IMG"==h.nodeName&&(m=h.getBoundingClientRect()).right<=n.left&&m.bottom>n.top&&u++}a==t.dom&&u==a.childNodes.length-1&&1==a.lastChild.nodeType&&n.top>a.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(0==u||1!=a.nodeType||"BR"!=a.childNodes[u-1].nodeName)&&(l=function(t,n,r,i){let o=-1;for(let a=n,u=!1;a!=t.dom;){let s=t.docView.nearestDesc(a,!0);if(!s)return null;if(1==s.dom.nodeType&&(s.node.isBlock&&s.parent&&!u||!s.contentDOM)){let c=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!u&&(u=!0,c.left>i.left||c.top>i.top?o=s.posBefore:(c.right<i.left||c.bottom<i.top)&&(o=s.posAfter)),!s.contentDOM&&o<0)return(s.node.isBlock?i.top<(c.top+c.bottom)/2:i.left<(c.left+c.right)/2)?s.posBefore:s.posAfter}a=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(n,r,-1)}(t,a,u,n))}null==l&&(l=function(t,n,r){let{node:i,offset:o}=function t(n,r){let i,o=2e8,a,u=0,s=r.top,c=r.top,l,f;for(let d=n.firstChild,p=0;d;d=d.nextSibling,p++){let h;if(1==d.nodeType)h=d.getClientRects();else{if(3!=d.nodeType)continue;h=YI(d).getClientRects()}for(let m=0;m<h.length;m++){let g=h[m];if(g.top<=s&&g.bottom>=c){s=Math.max(g.bottom,s),c=Math.min(g.top,c);let y=g.left>r.left?g.left-r.left:g.right<r.left?r.left-g.right:0;if(y<o){i=d,o=y,a=y&&3==i.nodeType?{left:g.right<r.left?g.right:g.left,top:r.top}:r,1==d.nodeType&&y&&(u=p+(r.left>=(g.left+g.right)/2?1:0));continue}}else g.top>r.top&&!l&&g.left<=r.left&&g.right>=r.left&&(l=d,f={left:Math.max(g.left,Math.min(g.right,r.left)),top:g.top});!i&&(r.left>=g.right&&r.top>=g.top||r.left>=g.left&&r.top>=g.bottom)&&(u=p+1)}}return!i&&l&&(i=l,a=f,o=0),i&&3==i.nodeType?function(t,n){let r=t.nodeValue.length,i=document.createRange();for(let o=0;o<r;o++){i.setEnd(t,o+1),i.setStart(t,o);let a=Y7(i,1);if(a.top!=a.bottom&&Y6(n,a))return{node:t,offset:o+(n.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}(i,a):!i||o&&1==i.nodeType?{node:n,offset:u}:t(i,a)}(n,r),a=-1;if(1==i.nodeType&&!i.firstChild){let u=i.getBoundingClientRect();a=u.left!=u.right&&r.left>(u.left+u.right)/2?1:-1}return t.docView.posFromDOM(i,o,a)}(t,c,n));let g=t.docView.nearestDesc(c,!0);return{pos:l,inside:g?g.posAtStart-g.border:-1}}(this,t)}coordsAtPos(t,n=1){return Qt(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(null==i)throw RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){var r,i,o,a,u,s;let c,l;return Qa==(i=n||this.state)&&Qu==t?Qs:(Qa=i,Qu=t,Qs="up"==t||"down"==t?(a=this,c=i.selection,l="up"==t?c.$from:c.$to,Qi(a,i,()=>{let{node:n}=a.docView.domFromPos(l.pos,"up"==t?-1:1);for(;;){let r=a.docView.nearestDesc(n,!0);if(!r)break;if(r.node.isBlock){n=r.contentDOM||r.dom;break}n=r.dom.parentNode}let i=Qt(a,l.pos,1);for(let o=n.firstChild;o;o=o.nextSibling){let u;if(1==o.nodeType)u=o.getClientRects();else{if(3!=o.nodeType)continue;u=YI(o,0,o.nodeValue.length).getClientRects()}for(let s=0;s<u.length;s++){let c=u[s];if(c.bottom>c.top+1&&("up"==t?i.top-c.top>(c.bottom-i.top)*2:c.bottom-i.bottom>(i.bottom-c.top)*2))return!1}}return!0})):function(t,n,r){let{$head:i}=n.selection;if(!i.parent.isTextblock)return!1;let o=i.parentOffset,a=o==i.parent.content.size,u=t.domSelection();return Qo.test(i.parent.textContent)&&u.modify?Qi(t,n,()=>{let{focusNode:n,focusOffset:o,anchorNode:a,anchorOffset:s}=t.domSelectionRange(),c=u.caretBidiLevel;u.modify("move",r,"character");let l=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:f,focusOffset:d}=t.domSelectionRange(),p=f&&!l.contains(1==f.nodeType?f:f.parentNode)||n==f&&o==d;try{u.collapse(a,s),n&&(n!=a||o!=s)&&u.extend&&u.extend(n,o)}catch{}return null!=c&&(u.caretBidiLevel=c),p}):"left"==r||"backward"==r?!o:a}(this,i,t))}pasteHTML(t,n){return XS(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return XS(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(function(t){for(let n in t.domObserver.stop(),t.input.eventHandlers)t.dom.removeEventListener(n,t.input.eventHandlers[n]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Xq(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){var n,r;Xu(this,t)||!Xt[t.type]||!this.editable&&t.type in Xn||Xt[t.type](this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return YH&&11===this.root.nodeType&&function(t){let n=t.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}(this.dom.ownerDocument)==this.dom?function(t){let n;function r(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0);let i=n.startContainer,o=n.startOffset,a=n.endContainer,u=n.endOffset,s=t.domAtPos(t.state.selection.anchor);return Yk(s.node,s.offset,a,u)&&([i,o,a,u]=[a,u,i,o]),{anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:u}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function X1(t){let n=Object.create(null);return n.class="ProseMirror",n.contenteditable=String(t.editable),t.someProp("attributes",r=>{if("function"==typeof r&&(r=r(t.state)),r)for(let i in r)"class"==i?n.class+=" "+r[i]:"style"==i?n.style=(n.style?n.style+";":"")+r[i]:n[i]||"contenteditable"==i||"nodeName"==i||(n[i]=String(r[i]))}),n.translate||(n.translate="no"),[XR.node(0,t.state.doc.content.size,n)]}function X2(t){if(t.markCursor){let n=document.createElement("img");n.className="ProseMirror-separator",n.setAttribute("mark-placeholder","true"),n.setAttribute("alt",""),t.cursorWrapper={dom:n,deco:XR.widget(t.state.selection.head,n,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function X3(t){return!t.someProp("editable",n=>!1===n(t.state))}function X5(t){let n=Object.create(null);function r(t){for(let r in t)Object.prototype.hasOwnProperty.call(n,r)||(n[r]=t[r])}return t.someProp("nodeViews",r),t.someProp("markViews",r),n}function X4(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}for(var X9={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},X6={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},X8="u">typeof navigator&&/Mac/.test(navigator.platform),X7="u">typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),eee=0;eee<10;eee++)X9[48+eee]=X9[96+eee]=String(eee);for(var eee=1;eee<=24;eee++)X9[eee+111]="F"+eee;for(var eee=65;eee<=90;eee++)X9[eee]=String.fromCharCode(eee+32),X6[eee]=String.fromCharCode(eee);for(var eet in X9)X6.hasOwnProperty(eet)||(X6[eet]=X9[eet]);let een="u">typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function eer(t){let n=t.split(/-(?!$)/),r=n[n.length-1];"Space"==r&&(r=" ");let i,o,a,u;for(let s=0;s<n.length-1;s++){let c=n[s];if(/^(cmd|meta|m)$/i.test(c))u=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))een?u=!0:o=!0;else throw Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),u&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function eei(t,n,r=!0){return n.altKey&&(t="Alt-"+t),n.ctrlKey&&(t="Ctrl-"+t),n.metaKey&&(t="Meta-"+t),r&&n.shiftKey&&(t="Shift-"+t),t}let eeo=(t,n)=>!t.selection.empty&&(n&&n(t.tr.deleteSelection().scrollIntoView()),!0),eea=(t,n,r)=>{let i=function(t,n){let{$cursor:r}=t.selection;return r&&(n?n.endOfTextblock("backward",t):!(r.parentOffset>0))?r:null}(t,r);if(!i)return!1;let o=eec(i);if(!o){let a=i.blockRange(),u=a&&Gq(a);return null!=u&&(n&&n(t.tr.lift(a,u).scrollIntoView()),!0)}let s=o.nodeBefore;if(!s.type.spec.isolating&&eeS(t,o,n))return!0;if(0==i.parent.content.size&&(eeu(s,"end")||Yu.isSelectable(s))){let c=GG(t.doc,i.before(),i.after(),Jq.empty);if(c&&c.slice.size<c.to-c.from){if(n){let l=t.tr.step(c);l.setSelection(eeu(s,"end")?Yt.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Yu.create(l.doc,o.pos-s.nodeSize)),n(l.scrollIntoView())}return!0}}return!!s.isAtom&&o.depth==i.depth-1&&(n&&n(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0)};function eeu(t,n,r=!1){for(let i=t;i;i="start"==n?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(r&&1!=i.childCount)break}return!1}let ees=(t,n,r)=>{let{$head:i,empty:o}=t.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=eec(i)}let u=a&&a.nodeBefore;return!!(u&&Yu.isSelectable(u))&&(n&&n(t.tr.setSelection(Yu.create(t.doc,a.pos-u.nodeSize)).scrollIntoView()),!0)};function eec(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){if(t.index(n)>0)return t.doc.resolve(t.before(n+1));if(t.node(n).type.spec.isolating)break}return null}let eel=(t,n,r)=>{let i=function(t,n){let{$cursor:r}=t.selection;return r&&(n?n.endOfTextblock("forward",t):!(r.parentOffset<r.parent.content.size))?r:null}(t,r);if(!i)return!1;let o=eed(i);if(!o)return!1;let a=o.nodeAfter;if(eeS(t,o,n))return!0;if(0==i.parent.content.size&&(eeu(a,"start")||Yu.isSelectable(a))){let u=GG(t.doc,i.before(),i.after(),Jq.empty);if(u&&u.slice.size<u.to-u.from){if(n){let s=t.tr.step(u);s.setSelection(eeu(a,"start")?Yt.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):Yu.create(s.doc,s.mapping.map(o.pos))),n(s.scrollIntoView())}return!0}}return!!a.isAtom&&o.depth==i.depth-1&&(n&&n(t.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0)},eef=(t,n,r)=>{let{$head:i,empty:o}=t.selection,a=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=eed(i)}let u=a&&a.nodeAfter;return!!(u&&Yu.isSelectable(u))&&(n&&n(t.tr.setSelection(Yu.create(t.doc,a.pos)).scrollIntoView()),!0)};function eed(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){let r=t.node(n);if(t.index(n)+1<r.childCount)return t.doc.resolve(t.after(n+1));if(r.type.spec.isolating)break}return null}let eep=(t,n)=>{let r=t.selection,i=r instanceof Yu,o;if(i){if(r.node.isTextblock||!GH(t.doc,r.from))return!1;o=r.from}else if(null==(o=GJ(t.doc,r.from,-1)))return!1;if(n){let a=t.tr.join(o);i&&a.setSelection(Yu.create(a.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),n(a.scrollIntoView())}return!0},eeh=(t,n)=>{let r=t.selection,i;if(r instanceof Yu){if(r.node.isTextblock||!GH(t.doc,r.to))return!1;i=r.to}else if(null==(i=GJ(t.doc,r.to,1)))return!1;return n&&n(t.tr.join(i).scrollIntoView()),!0},eem=(t,n)=>{let{$from:r,$to:i}=t.selection,o=r.blockRange(i),a=o&&Gq(o);return null!=a&&(n&&n(t.tr.lift(o,a).scrollIntoView()),!0)},eeg=(t,n)=>{let{$head:r,$anchor:i}=t.selection;return!!(r.parent.type.spec.code&&r.sameParent(i))&&(n&&n(t.tr.insertText(`
`).scrollIntoView()),!0)};function eey(t){for(let n=0;n<t.edgeCount;n++){let{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}let eev=(t,n)=>{let{$head:r,$anchor:i}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;let o=r.node(-1),a=r.indexAfter(-1),u=eey(o.contentMatchAt(a));if(!u||!o.canReplaceWith(a,a,u))return!1;if(n){let s=r.after(),c=t.tr.replaceWith(s,s,u.createAndFill());c.setSelection(Yt.near(c.doc.resolve(s),1)),n(c.scrollIntoView())}return!0},eeb=(t,n)=>{let r=t.selection,{$from:i,$to:o}=r;if(r instanceof Yc||i.parent.inlineContent||o.parent.inlineContent)return!1;let a=eey(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(n){let u=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,s=t.tr.insert(u,a.createAndFill());s.setSelection(Yo.create(s.doc,u+1)),n(s.scrollIntoView())}return!0},eex=(t,n)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(GV(t.doc,i))return n&&n(t.tr.split(i).scrollIntoView()),!0}let o=r.blockRange(),a=o&&Gq(o);return null!=a&&(n&&n(t.tr.lift(o,a).scrollIntoView()),!0)},ee_=(t,n)=>{let{$from:r,to:i}=t.selection,o,a=r.sharedDepth(i);return 0!=a&&(o=r.before(a),n&&n(t.tr.setSelection(Yu.create(t.doc,o))),!0)};function eeS(t,n,r){var i,o,a;let u=n.nodeBefore,s=n.nodeAfter,c,l;if(u.type.spec.isolating||s.type.spec.isolating)return!1;let f,d,p;if(f=n.nodeBefore,d=n.nodeAfter,p=n.index(),f&&d&&f.type.compatibleContent(d.type)&&(!f.content.size&&n.parent.canReplace(p-1,p)?(r&&r(t.tr.delete(n.pos-f.nodeSize,n.pos).scrollIntoView()),!0):!!(n.parent.canReplace(p,p+1)&&(d.isTextblock||GH(t.doc,n.pos)))&&(r&&r(t.tr.clearIncompatible(n.pos,f.type,f.contentMatchAt(f.childCount)).join(n.pos).scrollIntoView()),!0)))return!0;let h=n.parent.canReplace(n.index(),n.index()+1);if(h&&(c=(l=u.contentMatchAt(u.childCount)).findWrapping(s.type))&&l.matchType(c[0]||s.type).validEnd){if(r){let m=n.pos+s.nodeSize,g=JL.empty;for(let y=c.length-1;y>=0;y--)g=JL.from(c[y].create(null,g));g=JL.from(u.copy(g));let v=t.tr.step(new GU(n.pos-1,m,n.pos,m,new Jq(g,1,0),c.length,!0)),b=m+2*c.length;GH(v.doc,b)&&v.join(b),r(v.scrollIntoView())}return!0}let x=Yt.findFrom(n,1),_=x&&x.$from.blockRange(x.$to),S=_&&Gq(_);if(null!=S&&S>=n.depth)return r&&r(t.tr.lift(_,S).scrollIntoView()),!0;if(h&&eeu(s,"start",!0)&&eeu(u,"end")){let T=u,w=[];for(;w.push(T),!T.isTextblock;)T=T.lastChild;let O=s,I=1;for(;!O.isTextblock;O=O.firstChild)I++;if(T.canReplace(T.childCount,T.childCount,O.content)){if(r){let k=JL.empty;for(let M=w.length-1;M>=0;M--)k=JL.from(w[M].copy(k));let C=t.tr.step(new GU(n.pos-w.length,n.pos+s.nodeSize,n.pos+I,n.pos+s.nodeSize-I,new Jq(k,w.length,0),0,!0));r(C.scrollIntoView())}return!0}}return!1}function eeT(t){return function(n,r){let i=n.selection,o=t<0?i.$from:i.$to,a=o.depth;for(;o.node(a).isInline;){if(!a)return!1;a--}return!!o.node(a).isTextblock&&(r&&r(n.tr.setSelection(Yo.create(n.doc,t<0?o.start(a):o.end(a)))),!0)}}let eew=eeT(-1),eeO=eeT(1);function eeI(t,n=null){return function(r,i){let o=!1;for(let a=0;a<r.selection.ranges.length&&!o;a++){let{$from:{pos:u},$to:{pos:s}}=r.selection.ranges[a];r.doc.nodesBetween(u,s,(i,a)=>{if(o)return!1;if(!(!i.isTextblock||i.hasMarkup(t,n))){if(i.type==t)o=!0;else{let u=r.doc.resolve(a),s=u.index();o=u.parent.canReplaceWith(s,s+1,t)}}})}if(!o)return!1;if(i){let c=r.tr;for(let l=0;l<r.selection.ranges.length;l++){let{$from:{pos:f},$to:{pos:d}}=r.selection.ranges[l];c.setBlockType(f,d,t,n)}i(c.scrollIntoView())}return!0}}function eek(t){let{state:n,transaction:r}=t,{selection:i}=r,{doc:o}=r,{storedMarks:a}=r;return{...n,apply:n.apply.bind(n),applyTransaction:n.applyTransaction.bind(n),filterTransaction:n.filterTransaction,plugins:n.plugins,schema:n.schema,reconfigure:n.reconfigure.bind(n),toJSON:n.toJSON.bind(n),get storedMarks(){return a},get selection(){return i},get doc(){return o},get tr(){return i=r.selection,o=r.doc,a=r.storedMarks,r}}}"u">typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"u">typeof os&&os.platform&&os.platform();class eeM{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,a=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([t,n])=>[t,(...t)=>{let r=n(...t)(a);return o.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(o),r}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){let{rawCommands:r,editor:i,state:o}=this,{view:a}=i,u=[],s=!!t,c=t||o.tr,l=()=>(s||!n||c.getMeta("preventDispatch")||this.hasCustomState||a.dispatch(c),u.every(t=>!0===t)),f={...Object.fromEntries(Object.entries(r).map(([t,r])=>[t,(...t)=>{let i=this.buildProps(c,n),o=r(...t)(i);return u.push(o),f}])),run:l};return f}createCan(t){let{rawCommands:n,state:r}=this,i=t||r.tr,o=this.buildProps(i,!1);return{...Object.fromEntries(Object.entries(n).map(([t,n])=>[t,(...t)=>n(...t)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,!1)}}buildProps(t,n=!0){let{rawCommands:r,editor:i,state:o}=this,{view:a}=i;o.storedMarks&&t.setStoredMarks(o.storedMarks);let u={tr:t,editor:i,view:a,state:eek({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([t,n])=>[t,(...t)=>n(...t)(u)]))}};return u}}class eeC{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){let r=this.callbacks[t];return r&&r.forEach(t=>t.apply(this,n)),this}off(t,n){let r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(t=>t!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function eeR(t,n,r){return void 0===t.config[n]&&t.parent?eeR(t.parent,n,r):"function"==typeof t.config[n]?t.config[n].bind({...r,parent:t.parent?eeR(t.parent,n,r):null}):t.config[n]}function eeE(t){let n=t.filter(t=>"extension"===t.type),r=t.filter(t=>"node"===t.type),i=t.filter(t=>"mark"===t.type);return{baseExtensions:n,nodeExtensions:r,markExtensions:i}}function eeA(t){let n=[],{nodeExtensions:r,markExtensions:i}=eeE(t),o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(t=>{let r={name:t.name,options:t.options,storage:t.storage},i=eeR(t,"addGlobalAttributes",r);i&&i().forEach(t=>{t.types.forEach(r=>{Object.entries(t.attributes).forEach(([t,i])=>{n.push({type:r,name:t,attribute:{...o,...i}})})})})}),[...r,...i].forEach(t=>{let r={name:t.name,options:t.options,storage:t.storage},i=eeR(t,"addAttributes",r);if(!i)return;let a=i();Object.entries(a).forEach(([r,i])=>{let a={...o,...i};"function"==typeof(null==a?void 0:a.default)&&(a.default=a.default()),null!=a&&a.isRequired&&(null==a?void 0:a.default)===void 0&&delete a.default,n.push({type:t.name,name:r,attribute:a})})}),n}function eej(t,n){if("string"==typeof t){if(!n.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return n.nodes[t]}return t}function eeN(...t){return t.filter(t=>!!t).reduce((t,n)=>{let r={...t};return Object.entries(n).forEach(([t,n])=>{if(!r[t]){r[t]=n;return}"class"===t?r[t]=[r[t],n].join(" "):"style"===t?r[t]=[r[t],n].join("; "):r[t]=n}),r},{})}function eeP(t,n){return n.filter(t=>t.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((t,n)=>eeN(t,n),{})}function eeF(t){return"function"==typeof t}function eeL(t,n,...r){return eeF(t)?n?t.bind(n)(...r):t(...r):t}function eeD(t,n){return t.style?t:{...t,getAttrs(r){let i=t.getAttrs?t.getAttrs(r):t.attrs;if(!1===i)return!1;let o=n.reduce((t,n)=>{var i;let o=n.attribute.parseHTML?n.attribute.parseHTML(r):"string"!=typeof(i=r.getAttribute(n.name))?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):"true"===i||"false"!==i&&i;return null==o?t:{...t,[n.name]:o}},{});return{...i,...o}}}}function eeW(t){return Object.fromEntries(Object.entries(t).filter(([t,n])=>!("attrs"===t&&function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(n))&&null!=n))}function eeU(t,n){var r;let i=eeA(t),{nodeExtensions:o,markExtensions:a}=eeE(t),u=null===(r=o.find(t=>eeR(t,"topNode")))||void 0===r?void 0:r.name,s=Object.fromEntries(o.map(r=>{let o=i.filter(t=>t.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:n},u=t.reduce((t,n)=>{let i=eeR(n,"extendNodeSchema",a);return{...t,...i?i(r):{}}},{}),s=eeW({...u,content:eeL(eeR(r,"content",a)),marks:eeL(eeR(r,"marks",a)),group:eeL(eeR(r,"group",a)),inline:eeL(eeR(r,"inline",a)),atom:eeL(eeR(r,"atom",a)),selectable:eeL(eeR(r,"selectable",a)),draggable:eeL(eeR(r,"draggable",a)),code:eeL(eeR(r,"code",a)),defining:eeL(eeR(r,"defining",a)),isolating:eeL(eeR(r,"isolating",a)),attrs:Object.fromEntries(o.map(t=>{var n;return[t.name,{default:null===(n=null==t?void 0:t.attribute)||void 0===n?void 0:n.default}]}))}),c=eeL(eeR(r,"parseHTML",a));c&&(s.parseDOM=c.map(t=>eeD(t,o)));let l=eeR(r,"renderHTML",a);l&&(s.toDOM=t=>l({node:t,HTMLAttributes:eeP(t,o)}));let f=eeR(r,"renderText",a);return f&&(s.toText=f),[r.name,s]})),c=Object.fromEntries(a.map(r=>{let o=i.filter(t=>t.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:n},u=t.reduce((t,n)=>{let i=eeR(n,"extendMarkSchema",a);return{...t,...i?i(r):{}}},{}),s=eeW({...u,inclusive:eeL(eeR(r,"inclusive",a)),excludes:eeL(eeR(r,"excludes",a)),group:eeL(eeR(r,"group",a)),spanning:eeL(eeR(r,"spanning",a)),code:eeL(eeR(r,"code",a)),attrs:Object.fromEntries(o.map(t=>{var n;return[t.name,{default:null===(n=null==t?void 0:t.attribute)||void 0===n?void 0:n.default}]}))}),c=eeL(eeR(r,"parseHTML",a));c&&(s.parseDOM=c.map(t=>eeD(t,o)));let l=eeR(r,"renderHTML",a);return l&&(s.toDOM=t=>l({mark:t,HTMLAttributes:eeP(t,o)})),[r.name,s]}));return new Gf({topNode:u,nodes:s,marks:c})}function eez(t,n){return n.nodes[t]||n.marks[t]||null}function eeB(t,n){return Array.isArray(n)?n.some(n=>("string"==typeof n?n:n.name)===t.name):n}let eeq=(t,n=500)=>{let r="",i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-n),i,(t,n,o,a)=>{var u,s;let c=(null===(s=(u=t.type.spec).toText)||void 0===s?void 0:s.call(u,{node:t,pos:n,parent:o,index:a}))||t.textContent||"%leaf%";r+=c.slice(0,Math.max(0,i-n))}),r};function eeK(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class ee${constructor(t){this.find=t.find,this.handler=t.handler}}let eeV=(t,n)=>{if(eeK(n))return n.exec(t);let r=n(t);if(!r)return null;let i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(r.replaceWith)),i};function eeH(t){var n;let{editor:r,from:i,to:o,text:a,rules:u,plugin:s}=t,{view:c}=r;if(c.composing)return!1;let l=c.state.doc.resolve(i);if(l.parent.type.spec.code||!(null===(n=l.nodeBefore||l.nodeAfter)||void 0===n)&&n.marks.find(t=>t.type.spec.code))return!1;let f=!1,d=eeq(l)+a;return u.forEach(t=>{if(f)return;let n=eeV(d,t.find);if(!n)return;let u=c.state.tr,l=eek({state:c.state,transaction:u}),p={from:i-(n[0].length-a.length),to:o},{commands:h,chain:m,can:g}=new eeM({editor:r,state:l});null!==t.handler({state:l,range:p,match:n,commands:h,chain:m,can:g})&&u.steps.length&&(u.setMeta(s,{transform:u,from:i,to:o,text:a}),c.dispatch(u),f=!0)}),f}class eeZ{constructor(t){this.find=t.find,this.handler=t.handler}}let eeJ=(t,n)=>{if(eeK(n))return[...t.matchAll(n)];let r=n(t);return r?r.map(n=>{let r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(n.replaceWith)),r}):[]};class eeG{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=eeG.resolve(t),this.schema=eeU(this.extensions,n),this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;let r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:eez(t.name,this.schema)};"mark"===t.type&&(!(null!==(n=eeL(eeR(t,"keepOnSplit",r)))&&void 0!==n)||n)&&this.splittableMarks.push(t.name);let i=eeR(t,"onBeforeCreate",r);i&&this.editor.on("beforeCreate",i);let o=eeR(t,"onCreate",r);o&&this.editor.on("create",o);let a=eeR(t,"onUpdate",r);a&&this.editor.on("update",a);let u=eeR(t,"onSelectionUpdate",r);u&&this.editor.on("selectionUpdate",u);let s=eeR(t,"onTransaction",r);s&&this.editor.on("transaction",s);let c=eeR(t,"onFocus",r);c&&this.editor.on("focus",c);let l=eeR(t,"onBlur",r);l&&this.editor.on("blur",l);let f=eeR(t,"onDestroy",r);f&&this.editor.on("destroy",f)})}static resolve(t){let n=eeG.sort(eeG.flatten(t)),r=function(t){let n=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(n)]}(n.map(t=>t.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(t=>`'${t}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(t=>{let n={name:t.name,options:t.options,storage:t.storage},r=eeR(t,"addExtensions",n);return r?[t,...this.flatten(r())]:t}).flat(10)}static sort(t){return t.sort((t,n)=>{let r=eeR(t,"priority")||100,i=eeR(n,"priority")||100;return r>i?-1:r<i?1:0})}get commands(){return this.extensions.reduce((t,n)=>{let r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:eez(n.name,this.schema)},i=eeR(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){let{editor:t}=this,n=eeG.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(n=>{var o,a;let u={name:n.name,options:n.options,storage:n.storage,editor:t,type:eez(n.name,this.schema)},s=[],c=eeR(n,"addKeyboardShortcuts",u),l={};if("mark"===n.type&&n.config.exitable&&(l.ArrowRight=()=>enx.handleExit({editor:t,mark:n})),c){let f=Object.fromEntries(Object.entries(c()).map(([n,r])=>[n,()=>r({editor:t})]));l={...l,...f}}let d,p=(o=l,new Yb({props:{handleKeyDown:(a=o,d=function(t){let n=Object.create(null);for(let r in t)n[eer(r)]=t[r];return n}(a),function(t,n){var r,i;let o=("Esc"==(i=!(X8&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||X7&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?X6:X9)[n.keyCode]||n.key||"Unidentified")&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i),a,u=d[eei(o,n)];if(u&&u(t.state,t.dispatch,t))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let s=d[eei(o,n,!1)];if(s&&s(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(a=X9[n.keyCode])&&a!=o){let c=d[eei(a,n)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1})}}));s.push(p);let h=eeR(n,"addInputRules",u);eeB(n,t.options.enableInputRules)&&h&&r.push(...h());let m=eeR(n,"addPasteRules",u);eeB(n,t.options.enablePasteRules)&&m&&i.push(...m());let g=eeR(n,"addProseMirrorPlugins",u);if(g){let y=g();s.push(...y)}return s}).flat();return[function(t){let{editor:n,rules:r}=t,i=new Yb({state:{init:()=>null,apply(t,n){let r=t.getMeta(i);return r||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput:(t,o,a,u)=>eeH({editor:n,from:o,to:a,text:u,rules:r,plugin:i}),handleDOMEvents:{compositionend:t=>(setTimeout(()=>{let{$cursor:o}=t.state.selection;o&&eeH({editor:n,from:o.pos,to:o.pos,text:"",rules:r,plugin:i})}),!1)},handleKeyDown(t,o){if("Enter"!==o.key)return!1;let{$cursor:a}=t.state.selection;return!!a&&eeH({editor:n,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:i})}},isInputRules:!0});return i}({editor:t,rules:r}),...function(t){let{editor:n,rules:r}=t,i=null,o=!1,a=!1;return r.map(t=>new Yb({view(t){let n=n=>{var r;i=!(null===(r=t.dom.parentElement)||void 0===r)&&r.contains(n.target)?t.dom.parentElement:null};return window.addEventListener("dragstart",n),{destroy(){window.removeEventListener("dragstart",n)}}},props:{handleDOMEvents:{drop:t=>(a=i===t.dom.parentElement,!1),paste(t,n){var r;let i=null===(r=n.clipboardData)||void 0===r?void 0:r.getData("text/html");return o=!!(null!=i&&i.includes("data-pm-slice")),!1}}},appendTransaction(r,i,u){var s;let c=r[0],l="paste"===c.getMeta("uiEvent")&&!o,f="drop"===c.getMeta("uiEvent")&&!a;if(!l&&!f)return;let d=i.doc.content.findDiffStart(u.doc.content),p=i.doc.content.findDiffEnd(u.doc.content);if("number"!=typeof d||!p||d===p.b)return;let h=u.tr,m=eek({state:u,transaction:h});if(!(!function(t){let{editor:n,state:r,from:i,to:o,rule:a}=t,{commands:u,chain:s,can:c}=new eeM({editor:n,state:r}),l=[];return r.doc.nodesBetween(i,o,(t,n)=>{if(!t.isTextblock||t.type.spec.code)return;let f=Math.max(i,n),d=Math.min(o,n+t.content.size),p=t.textBetween(f-n,d-n,void 0,"");eeJ(p,a.find).forEach(t=>{if(void 0===t.index)return;let n=f+t.index+1,i=n+t[0].length,o={from:r.tr.mapping.map(n),to:r.tr.mapping.map(i)},d=a.handler({state:r,range:o,match:t,commands:u,chain:s,can:c});l.push(d)})}),l.every(t=>null!==t)}({editor:n,state:m,from:Math.max(d-1,0),to:p.b-1,rule:t})||!h.steps.length))return h}}))}({editor:t,rules:i}),...o]}get attributes(){return eeA(this.extensions)}get nodeViews(){let{editor:t}=this,{nodeExtensions:n}=eeE(this.extensions);return Object.fromEntries(n.filter(t=>!!eeR(t,"addNodeView")).map(n=>{let r=this.attributes.filter(t=>t.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t,type:eej(n.name,this.schema)},o=eeR(n,"addNodeView",i);if(!o)return[];let a=(i,a,u,s)=>{let c=eeP(i,r);return o()({editor:t,node:i,getPos:u,decorations:s,HTMLAttributes:c,extension:n})};return[n.name,a]}))}}function eeY(t){var n;return"Object"===Object.prototype.toString.call(t).slice(8,-1)&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function eeQ(t,n){let r={...t};return eeY(t)&&eeY(n)&&Object.keys(n).forEach(i=>{eeY(n[i])&&i in t?r[i]=eeQ(t[i],n[i]):Object.assign(r,{[i]:n[i]})}),r}class eeX{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=eeL(eeR(this,"addOptions",{name:this.name}))),this.storage=eeL(eeR(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new eeX(t)}configure(t={}){let n=this.extend();return n.options=eeQ(this.options,t),n.storage=eeL(eeR(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){let n=new eeX(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=eeL(eeR(n,"addOptions",{name:n.name})),n.storage=eeL(eeR(n,"addStorage",{name:n.name,options:n.options})),n}}function ee0(t,n,r){let{from:i,to:o}=n,{blockSeparator:a=`

`,textSerializers:u={}}=r||{},s="",c=!0;return t.nodesBetween(i,o,(t,r,l,f)=>{var d;let p=null==u?void 0:u[t.type.name];p?(t.isBlock&&!c&&(s+=a,c=!0),l&&(s+=p({node:t,pos:r,parent:l,index:f,range:n}))):t.isText?(s+=null===(d=null==t?void 0:t.text)||void 0===d?void 0:d.slice(Math.max(i,r)-r,o-r),c=!1):t.isBlock&&!c&&(s+=a,c=!0)}),s}function ee1(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}let ee2=eeX.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Yb({key:new YS("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:t}=this,{state:n,schema:r}=t,{doc:i,selection:o}=n,{ranges:a}=o,u=Math.min(...a.map(t=>t.$from.pos)),s=Math.max(...a.map(t=>t.$to.pos)),c=ee1(r);return ee0(i,{from:u,to:s},{textSerializers:c})}}})]}}),ee3=()=>({editor:t,view:n})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(n.dom.blur(),null===(r=null==window?void 0:window.getSelection())||void 0===r||r.removeAllRanges())}),!0),ee5=(t=!1)=>({commands:n})=>n.setContent("",t),ee4=()=>({state:t,tr:n,dispatch:r})=>{let{selection:i}=n,{ranges:o}=i;return r&&o.forEach(({$from:r,$to:i})=>{t.doc.nodesBetween(r.pos,i.pos,(t,r)=>{if(t.type.isText)return;let{doc:i,mapping:o}=n,a=i.resolve(o.map(r)),u=i.resolve(o.map(r+t.nodeSize)),s=a.blockRange(u);if(!s)return;let c=Gq(s);if(t.type.isTextblock){let{defaultType:l}=a.parent.contentMatchAt(a.index());n.setNodeMarkup(s.start,l)}(c||0===c)&&n.lift(s,c)})}),!0},ee9=t=>n=>t(n),ee6=()=>({state:t,dispatch:n})=>eeb(t,n),ee8=()=>({tr:t,dispatch:n})=>{let{selection:r}=t,i=r.$anchor.node();if(i.content.size>0)return!1;let o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i.type){if(n){let u=o.before(a),s=o.after(a);t.delete(u,s).scrollIntoView()}return!0}return!1},ee7=t=>({tr:n,state:r,dispatch:i})=>{let o=eej(t,r.schema),a=n.selection.$anchor;for(let u=a.depth;u>0;u-=1)if(a.node(u).type===o){if(i){let s=a.before(u),c=a.after(u);n.delete(s,c).scrollIntoView()}return!0}return!1},ete=t=>({tr:n,dispatch:r})=>{let{from:i,to:o}=t;return r&&n.delete(i,o),!0},ett=()=>({state:t,dispatch:n})=>eeo(t,n),etn=()=>({commands:t})=>t.keyboardShortcut("Enter"),etr=()=>({state:t,dispatch:n})=>eev(t,n);function eti(t,n,r={strict:!0}){let i=Object.keys(n);return!i.length||i.every(i=>r.strict?n[i]===t[i]:eeK(n[i])?n[i].test(t[i]):n[i]===t[i])}function eto(t,n,r={}){return t.find(t=>t.type===n&&eti(t.attrs,r))}function eta(t,n,r={}){return!!eto(t,n,r)}function etu(t,n,r={}){if(!t||!n)return;let i=t.parent.childAfter(t.parentOffset);if(t.parentOffset===i.offset&&0!==i.offset&&(i=t.parent.childBefore(t.parentOffset)),!i.node)return;let o=eto([...i.node.marks],n,r);if(!o)return;let a=i.index,u=t.start()+i.offset,s=a+1,c=u+i.node.nodeSize;for(eto([...i.node.marks],n,r);a>0&&o.isInSet(t.parent.child(a-1).marks);)a-=1,u-=t.parent.child(a).nodeSize;for(;s<t.parent.childCount&&eta([...t.parent.child(s).marks],n,r);)c+=t.parent.child(s).nodeSize,s+=1;return{from:u,to:c}}function ets(t,n){if("string"==typeof t){if(!n.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return n.marks[t]}return t}let etc=(t,n={})=>({tr:r,state:i,dispatch:o})=>{let a=ets(t,i.schema),{doc:u,selection:s}=r,{$from:c,from:l,to:f}=s;if(o){let d=etu(c,a,n);if(d&&d.from<=l&&d.to>=f){let p=Yo.create(u,d.from,d.to);r.setSelection(p)}}return!0},etl=t=>n=>{let r="function"==typeof t?t(n):t;for(let i=0;i<r.length;i+=1)if(r[i](n))return!0;return!1};function etf(t){return t instanceof Yo}function etd(t=0,n=0,r=0){return Math.min(Math.max(t,n),r)}function etp(t,n=null){if(!n)return null;let r=Yt.atStart(t),i=Yt.atEnd(t);if("start"===n||!0===n)return r;if("end"===n)return i;let o=r.from,a=i.to;return"all"===n?Yo.create(t,etd(0,o,a),etd(t.content.size,o,a)):Yo.create(t,etd(n,o,a),etd(n,o,a))}function eth(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}let etm=(t=null,n={})=>({editor:r,view:i,tr:o,dispatch:a})=>{n={scrollIntoView:!0,...n};let u=()=>{eth()&&i.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(i.focus(),null!=n&&n.scrollIntoView&&r.commands.scrollIntoView())})};if(i.hasFocus()&&null===t||!1===t)return!0;if(a&&null===t&&!etf(r.state.selection))return u(),!0;let s=etp(o.doc,t)||r.state.selection,c=r.state.selection.eq(s);return a&&(c||o.setSelection(s),c&&o.storedMarks&&o.setStoredMarks(o.storedMarks),u()),!0},etg=(t,n)=>r=>t.every((t,i)=>n(t,{...r,index:i})),ety=(t,n)=>({tr:r,commands:i})=>i.insertContentAt({from:r.selection.from,to:r.selection.to},t,n);function etv(t){let n=`<body>${t}</body>`;return new window.DOMParser().parseFromString(n,"text/html").body}function etb(t,n,r){if(r={slice:!0,parseOptions:{},...r},"object"==typeof t&&null!==t)try{return Array.isArray(t)&&t.length>0?JL.fromArray(t.map(t=>n.nodeFromJSON(t))):n.nodeFromJSON(t)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),etb("",n,r)}if("string"==typeof t){let o=Gp.fromSchema(n);return r.slice?o.parseSlice(etv(t),r.parseOptions).content:o.parse(etv(t),r.parseOptions)}return etb("",n,r)}let etx=t=>t.toString().startsWith("<"),et_=(t,n,r)=>({tr:i,dispatch:o,editor:a})=>{if(o){r={parseOptions:{},updateSelection:!0,...r};let u=etb(n,a.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions}});if("<>"===u.toString())return!0;let{from:s,to:c}="number"==typeof t?{from:t,to:t}:t,l=!0,f=!0;if((etx(u)?u:[u]).forEach(t=>{t.check(),l=!!l&&t.isText&&0===t.marks.length,f=!!f&&t.isBlock}),s===c&&f){let{parent:d}=i.doc.resolve(s);!d.isTextblock||d.type.spec.code||d.childCount||(s-=1,c+=1)}l?Array.isArray(n)?i.insertText(n.map(t=>t.text||"").join(""),s,c):"object"==typeof n&&n&&n.text?i.insertText(n.text,s,c):i.insertText(n,s,c):i.replaceWith(s,c,u),r.updateSelection&&function(t,n,r){let i=t.steps.length-1;if(i<n)return;let o=t.steps[i];if(!(o instanceof GW||o instanceof GU))return;let a=t.mapping.maps[i],u=0;a.forEach((t,n,r,i)=>{0===u&&(u=i)}),t.setSelection(Yt.near(t.doc.resolve(u),-1))}(i,i.steps.length-1,-1)}return!0},etS=()=>({state:t,dispatch:n})=>eep(t,n),etT=()=>({state:t,dispatch:n})=>eeh(t,n),etw=()=>({state:t,dispatch:n})=>eea(t,n),etO=()=>({state:t,dispatch:n})=>eel(t,n);function etI(){return"u">typeof navigator&&/Mac/.test(navigator.platform)}let etk=t=>({editor:n,view:r,tr:i,dispatch:o})=>{let a=(function(t){let n=t.split(/-(?!$)/),r=n[n.length-1];"Space"===r&&(r=" ");let i,o,a,u;for(let s=0;s<n.length-1;s+=1){let c=n[s];if(/^(cmd|meta|m)$/i.test(c))u=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))eth()||etI()?u=!0:o=!0;else throw Error(`Unrecognized modifier name: ${c}`)}return i&&(r=`Alt-${r}`),o&&(r=`Ctrl-${r}`),u&&(r=`Meta-${r}`),a&&(r=`Shift-${r}`),r})(t).split(/-(?!$)/),u=a.find(t=>!["Alt","Ctrl","Meta","Shift"].includes(t)),s=new KeyboardEvent("keydown",{key:"Space"===u?" ":u,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),c=n.captureTransaction(()=>{r.someProp("handleKeyDown",t=>t(r,s))});return null==c||c.steps.forEach(t=>{let n=t.map(i.mapping);n&&o&&i.maybeStep(n)}),!0};function etM(t,n,r={}){let{from:i,to:o,empty:a}=t.selection,u=n?eej(n,t.schema):null,s=[];t.doc.nodesBetween(i,o,(t,n)=>{if(t.isText)return;let r=Math.min(o,n+t.nodeSize);s.push({node:t,from:Math.max(i,n),to:r})});let c=s.filter(t=>!u||u.name===t.node.type.name).filter(t=>eti(t.node.attrs,r,{strict:!1}));return a?!!c.length:c.reduce((t,n)=>t+n.to-n.from,0)>=o-i}let etC=(t,n={})=>({state:r,dispatch:i})=>{let o=eej(t,r.schema);return!!etM(r,o,n)&&eem(r,i)},etR=()=>({state:t,dispatch:n})=>eex(t,n),etE=t=>({state:n,dispatch:r})=>{var i;let o=eej(t,n.schema);return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,t=>t.childCount>0&&t.firstChild.type==o);return!!a&&(!n||(r.node(a.depth-1).type==o?function(t,n,r,i){let o=t.tr,a=i.end,u=i.$to.end(i.depth);a<u&&(o.step(new GU(a-1,u,a,u,new Jq(JL.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new J0(o.doc.resolve(i.$from.pos),o.doc.resolve(u),i.depth));let s=Gq(i);if(null==s)return!1;o.lift(i,s);let c=o.mapping.map(a,-1)-1;return GH(o.doc,c)&&o.join(c),n(o.scrollIntoView()),!0}(t,n,o,a):function(t,n,r){let i=t.tr,o=r.parent;for(let a=r.end,u=r.endIndex-1,s=r.startIndex;u>s;u--)a-=o.child(u).nodeSize,i.delete(a-1,a+1);let c=i.doc.resolve(r.start),l=c.nodeAfter;if(i.mapping.map(r.end)!=r.start+c.nodeAfter.nodeSize)return!1;let f=0==r.startIndex,d=r.endIndex==o.childCount,p=c.node(-1),h=c.index(-1);if(!p.canReplace(h+(f?0:1),h+1,l.content.append(d?JL.empty:JL.from(o))))return!1;let m=c.pos,g=m+l.nodeSize;return i.step(new GU(m-(f?1:0),g+(d?1:0),m+1,g-1,new Jq((f?JL.empty:JL.from(o.copy(JL.empty))).append(d?JL.empty:JL.from(o.copy(JL.empty))),f?0:1,d?0:1),f?0:1)),n(i.scrollIntoView()),!0}(t,n,a)))}(n,r)},etA=()=>({state:t,dispatch:n})=>eeg(t,n);function etj(t,n){return n.nodes[t]?"node":n.marks[t]?"mark":null}function etN(t,n){let r="string"==typeof n?[n]:n;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}let etP=(t,n)=>({tr:r,state:i,dispatch:o})=>{let a=null,u=null,s=etj("string"==typeof t?t:t.name,i.schema);return!!s&&("node"===s&&(a=eej(t,i.schema)),"mark"===s&&(u=ets(t,i.schema)),o&&r.selection.ranges.forEach(t=>{i.doc.nodesBetween(t.$from.pos,t.$to.pos,(t,i)=>{a&&a===t.type&&r.setNodeMarkup(i,void 0,etN(t.attrs,n)),u&&t.marks.length&&t.marks.forEach(o=>{u===o.type&&r.addMark(i,i+t.nodeSize,u.create(etN(o.attrs,n)))})})}),!0)},etF=()=>({tr:t,dispatch:n})=>(n&&t.scrollIntoView(),!0),etL=()=>({tr:t,commands:n})=>n.setTextSelection({from:0,to:t.doc.content.size}),etD=()=>({state:t,dispatch:n})=>ees(t,n),etW=()=>({state:t,dispatch:n})=>eef(t,n),etU=()=>({state:t,dispatch:n})=>ee_(t,n),etz=()=>({state:t,dispatch:n})=>eeO(t,n),etB=()=>({state:t,dispatch:n})=>eew(t,n);function etq(t,n,r={}){return etb(t,n,{slice:!1,parseOptions:r})}let etK=(t,n=!1,r={})=>({tr:i,editor:o,dispatch:a})=>{let{doc:u}=i,s=etq(t,o.schema,r);return a&&i.replaceWith(0,u.content.size,s).setMeta("preventUpdate",!n),!0};function et$(t){return n=>(function(t,n){for(let r=t.depth;r>0;r-=1){let i=t.node(r);if(n(i))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:i}}})(n.$from,t)}function etV(t,n){let r=ets(n,t.schema),{from:i,to:o,empty:a}=t.selection,u=[];a?(t.storedMarks&&u.push(...t.storedMarks),u.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,o,t=>{u.push(...t.marks)});let s=u.find(t=>t.type.name===r.name);return s?{...s.attrs}:{}}function etH(t,n,r){let i=[];return t===n?r.resolve(t).marks().forEach(n=>{let o=r.resolve(t-1),a=etu(o,n.type);a&&i.push({mark:n,...a})}):r.nodesBetween(t,n,(t,n)=>{i.push(...t.marks.map(r=>({from:n,to:n+t.nodeSize,mark:r})))}),i}function etZ(t,n,r){return Object.fromEntries(Object.entries(r).filter(([r])=>{let i=t.find(t=>t.type===n&&t.name===r);return!!i&&i.attribute.keepOnSplit}))}function etJ(t,n,r={}){let{empty:i,ranges:o}=t.selection,a=n?ets(n,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(t=>!a||a.name===t.type.name).find(t=>eti(t.attrs,r,{strict:!1}));let u=0,s=[];if(o.forEach(({$from:n,$to:r})=>{let i=n.pos,o=r.pos;t.doc.nodesBetween(i,o,(t,n)=>{if(!t.isText&&!t.marks.length)return;let r=Math.max(i,n),a=Math.min(o,n+t.nodeSize);u+=a-r,s.push(...t.marks.map(t=>({mark:t,from:r,to:a})))})}),0===u)return!1;let c=s.filter(t=>!a||a.name===t.mark.type.name).filter(t=>eti(t.mark.attrs,r,{strict:!1})).reduce((t,n)=>t+n.to-n.from,0),l=s.filter(t=>!a||t.mark.type!==a&&t.mark.type.excludes(a)).reduce((t,n)=>t+n.to-n.from,0);return(c>0?c+l:c)>=u}function etG(t,n){let{nodeExtensions:r}=eeE(n),i=r.find(n=>n.name===t);if(!i)return!1;let o={name:i.name,options:i.options,storage:i.storage},a=eeL(eeR(i,"group",o));return"string"==typeof a&&a.split(" ").includes("list")}let etY=(t,n={})=>({tr:r,state:i,dispatch:o})=>{let{selection:a}=r,{empty:u,ranges:s}=a,c=ets(t,i.schema);if(o){if(u){let l=etV(i,c);r.addStoredMark(c.create({...l,...n}))}else s.forEach(t=>{let o=t.$from.pos,a=t.$to.pos;i.doc.nodesBetween(o,a,(t,i)=>{let u=Math.max(i,o),s=Math.min(i+t.nodeSize,a);t.marks.find(t=>t.type===c)?t.marks.forEach(t=>{c===t.type&&r.addMark(u,s,c.create({...t.attrs,...n}))}):r.addMark(u,s,c.create(n))})})}return function(t,n,r){var i;let{selection:o}=n,a=null;if(etf(o)&&(a=o.$cursor),a){let u=null!==(i=t.storedMarks)&&void 0!==i?i:a.marks();return!!r.isInSet(u)||!u.some(t=>t.type.excludes(r))}let{ranges:s}=o;return s.some(({$from:n,$to:i})=>{let o=0===n.depth&&t.doc.inlineContent&&t.doc.type.allowsMarkType(r);return t.doc.nodesBetween(n.pos,i.pos,(t,n,i)=>{if(o)return!1;if(t.isInline){let a=!i||i.type.allowsMarkType(r),u=!!r.isInSet(t.marks)||!t.marks.some(t=>t.type.excludes(r));o=a&&u}return!o}),o})}(i,r,c)},etQ=(t,n)=>({tr:r})=>(r.setMeta(t,n),!0),etX=(t,n={})=>({state:r,dispatch:i,chain:o})=>{let a=eej(t,r.schema);return a.isTextblock?o().command(({commands:t})=>!!eeI(a,n)(r)||t.clearNodes()).command(({state:t})=>eeI(a,n)(t,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},et0=t=>({tr:n,dispatch:r})=>{if(r){let{doc:i}=n,o=etd(t,0,i.content.size),a=Yu.create(i,o);n.setSelection(a)}return!0},et1=t=>({tr:n,dispatch:r})=>{if(r){let{doc:i}=n,{from:o,to:a}="number"==typeof t?{from:t,to:t}:t,u=Yo.atStart(i).from,s=Yo.atEnd(i).to,c=etd(o,u,s),l=etd(a,u,s),f=Yo.create(i,c,l);n.setSelection(f)}return!0},et2=t=>({state:n,dispatch:r})=>{var i;let o=eej(t,n.schema);return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,t=>t.childCount>0&&t.firstChild.type==o);if(!a)return!1;let u=a.startIndex;if(0==u)return!1;let s=a.parent,c=s.child(u-1);if(c.type!=o)return!1;if(n){let l=c.lastChild&&c.lastChild.type==s.type,f=JL.from(l?o.create():null),d=new Jq(JL.from(o.create(null,JL.from(s.type.create(null,f)))),l?3:1,0),p=a.start,h=a.end;n(t.tr.step(new GU(p-(l?3:1),h,p,h,d,1,!0)).scrollIntoView())}return!0}(n,r)};function et3(t,n){let r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){let i=r.filter(t=>null==n?void 0:n.includes(t.type.name));t.tr.ensureMarks(i)}}let et5=({keepMarks:t=!0}={})=>({tr:n,state:r,dispatch:i,editor:o})=>{let{selection:a,doc:u}=n,{$from:s,$to:c}=a,l=o.extensionManager.attributes,f=etZ(l,s.node().type.name,s.node().attrs);if(a instanceof Yu&&a.node.isBlock)return!!(s.parentOffset&&GV(u,s.pos))&&(i&&(t&&et3(r,o.extensionManager.splittableMarks),n.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(i){let d=c.parentOffset===c.parent.content.size;a instanceof Yo&&n.deleteSelection();let p=0===s.depth?void 0:function(t){for(let n=0;n<t.edgeCount;n+=1){let{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1))),h=d&&p?[{type:p,attrs:f}]:void 0,m=GV(n.doc,n.mapping.map(s.pos),1,h);if(!h&&!m&&GV(n.doc,n.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(m=!0,h=p?[{type:p,attrs:f}]:void 0),m&&(n.split(n.mapping.map(s.pos),1,h),p&&!d&&!s.parentOffset&&s.parent.type!==p)){let g=n.mapping.map(s.before()),y=n.doc.resolve(g);s.node(-1).canReplaceWith(y.index(),y.index()+1,p)&&n.setNodeMarkup(n.mapping.map(s.before()),p)}t&&et3(r,o.extensionManager.splittableMarks),n.scrollIntoView()}return!0},et4=t=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;let u=eej(t,r.schema),{$from:s,$to:c}=r.selection,l=r.selection.node;if(l&&l.isBlock||s.depth<2||!s.sameParent(c))return!1;let f=s.node(-1);if(f.type!==u)return!1;let d=o.extensionManager.attributes;if(0===s.parent.content.size&&s.node(-1).childCount===s.indexAfter(-1)){if(2===s.depth||s.node(-3).type!==u||s.index(-2)!==s.node(-2).childCount-1)return!1;if(i){let p=JL.empty,h=s.index(-1)?1:s.index(-2)?2:3;for(let m=s.depth-h;m>=s.depth-3;m-=1)p=JL.from(s.node(m).copy(p));let g=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,y=etZ(d,s.node().type.name,s.node().attrs),v=(null===(a=u.contentMatch.defaultType)||void 0===a?void 0:a.createAndFill(y))||void 0;p=p.append(JL.from(u.createAndFill(null,v)||void 0));let b=s.before(s.depth-(h-1));n.replace(b,s.after(-g),new Jq(p,4-h,0));let x=-1;n.doc.nodesBetween(b,n.doc.content.size,(t,n)=>{if(x>-1)return!1;t.isTextblock&&0===t.content.size&&(x=n+1)}),x>-1&&n.setSelection(Yo.near(n.doc.resolve(x))),n.scrollIntoView()}return!0}let _=c.pos===s.end()?f.contentMatchAt(0).defaultType:null,S=etZ(d,f.type.name,f.attrs),T=etZ(d,s.node().type.name,s.node().attrs);if(n.delete(s.pos,c.pos),!GV(n.doc,s.pos,2))return!1;if(i){let{selection:w,storedMarks:O}=r,{splittableMarks:I}=o.extensionManager,k=O||w.$to.parentOffset&&w.$from.marks();if(n.split(s.pos,2,_?[{type:u,attrs:S},{type:_,attrs:T}]:[{type:u,attrs:S}]).scrollIntoView(),!k||!i)return!0;let M=k.filter(t=>I.includes(t.type.name));n.ensureMarks(M)}return!0},et9=(t,n)=>{let r=et$(t=>t.type===n)(t.selection);if(!r)return!0;let i=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(void 0===i)return!0;let o=t.doc.nodeAt(i);return r.node.type===(null==o?void 0:o.type)&&GH(t.doc,r.pos)&&t.join(r.pos),!0},et6=(t,n)=>{let r=et$(t=>t.type===n)(t.selection);if(!r)return!0;let i=t.doc.resolve(r.start).after(r.depth);if(void 0===i)return!0;let o=t.doc.nodeAt(i);return r.node.type===(null==o?void 0:o.type)&&GH(t.doc,i)&&t.join(i),!0},et8=(t,n,r,i={})=>({editor:o,tr:a,state:u,dispatch:s,chain:c,commands:l,can:f})=>{let{extensions:d,splittableMarks:p}=o.extensionManager,h=eej(t,u.schema),m=eej(n,u.schema),{selection:g,storedMarks:y}=u,{$from:v,$to:b}=g,x=v.blockRange(b),_=y||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;let S=et$(t=>etG(t.type.name,d))(g);if(x.depth>=1&&S&&x.depth-S.depth<=1){if(S.node.type===h)return l.liftListItem(m);if(etG(S.node.type.name,d)&&h.validContent(S.node.content)&&s)return c().command(()=>(a.setNodeMarkup(S.pos,h),!0)).command(()=>et9(a,h)).command(()=>et6(a,h)).run()}return r&&_&&s?c().command(()=>{let t=f().wrapInList(h,i),n=_.filter(t=>p.includes(t.type.name));return a.ensureMarks(n),!!t||l.clearNodes()}).wrapInList(h,i).command(()=>et9(a,h)).command(()=>et6(a,h)).run():c().command(()=>!!f().wrapInList(h,i)||l.clearNodes()).wrapInList(h,i).command(()=>et9(a,h)).command(()=>et6(a,h)).run()},et7=(t,n={},r={})=>({state:i,commands:o})=>{let{extendEmptyMarkRange:a=!1}=r,u=ets(t,i.schema);return etJ(i,u,n)?o.unsetMark(u,{extendEmptyMarkRange:a}):o.setMark(u,n)},ene=(t,n,r={})=>({state:i,commands:o})=>{let a=eej(t,i.schema),u=eej(n,i.schema);return etM(i,a,r)?o.setNode(u):o.setNode(a,r)},ent=(t,n={})=>({state:r,commands:i})=>{let o=eej(t,r.schema);return etM(r,o,n)?i.lift(o):i.wrapIn(o,n)},enn=()=>({state:t,dispatch:n})=>{let r=t.plugins;for(let i=0;i<r.length;i+=1){let o=r[i],a;if(o.spec.isInputRules&&(a=o.getState(t))){if(n){let u=t.tr,s=a.transform;for(let c=s.steps.length-1;c>=0;c-=1)u.step(s.steps[c].invert(s.docs[c]));if(a.text){let l=u.doc.resolve(a.from).marks();u.replaceWith(a.from,a.to,t.schema.text(a.text,l))}else u.delete(a.from,a.to)}return!0}}return!1},enr=()=>({tr:t,dispatch:n})=>{let{selection:r}=t,{empty:i,ranges:o}=r;return i||n&&o.forEach(n=>{t.removeMark(n.$from.pos,n.$to.pos)}),!0},eni=(t,n={})=>({tr:r,state:i,dispatch:o})=>{var a;let{extendEmptyMarkRange:u=!1}=n,{selection:s}=r,c=ets(t,i.schema),{$from:l,empty:f,ranges:d}=s;if(!o)return!0;if(f&&u){let{from:p,to:h}=s,m=null===(a=l.marks().find(t=>t.type===c))||void 0===a?void 0:a.attrs,g=etu(l,c,m);g&&(p=g.from,h=g.to),r.removeMark(p,h,c)}else d.forEach(t=>{r.removeMark(t.$from.pos,t.$to.pos,c)});return r.removeStoredMark(c),!0},eno=(t,n={})=>({tr:r,state:i,dispatch:o})=>{let a=null,u=null,s=etj("string"==typeof t?t:t.name,i.schema);return!!s&&("node"===s&&(a=eej(t,i.schema)),"mark"===s&&(u=ets(t,i.schema)),o&&r.selection.ranges.forEach(t=>{let o=t.$from.pos,s=t.$to.pos;i.doc.nodesBetween(o,s,(t,i)=>{a&&a===t.type&&r.setNodeMarkup(i,void 0,{...t.attrs,...n}),u&&t.marks.length&&t.marks.forEach(a=>{if(u===a.type){let c=Math.min(i+t.nodeSize,s);r.addMark(Math.max(i,o),c,u.create({...a.attrs,...n}))}})})}),!0)},ena=(t,n={})=>({state:r,dispatch:i})=>{let o=eej(t,r.schema);return(function(t,n=null){return function(r,i){let{$from:o,$to:a}=r.selection,u=o.blockRange(a),s=u&&GK(u,t,n);return!!s&&(i&&i(r.tr.wrap(u,s).scrollIntoView()),!0)}})(o,n)(r,i)},enu=(t,n={})=>({state:r,dispatch:i})=>{let o=eej(t,r.schema);return(function(t,n=null){return function(r,i){let{$from:o,$to:a}=r.selection,u=o.blockRange(a),s=!1,c=u;if(!u)return!1;if(u.depth>=2&&o.node(u.depth-1).type.compatibleContent(t)&&0==u.startIndex){if(0==o.index(u.depth-1))return!1;let l=r.doc.resolve(u.start-2);c=new J0(l,l,u.depth),u.endIndex<u.parent.childCount&&(u=new J0(o,r.doc.resolve(a.end(u.depth)),u.depth)),s=!0}let f=GK(c,t,n,u);return!!f&&(i&&i((function(t,n,r,i,o){let a=JL.empty;for(let u=r.length-1;u>=0;u--)a=JL.from(r[u].type.create(r[u].attrs,a));t.step(new GU(n.start-(i?2:0),n.end,n.start,n.end,new Jq(a,0,0),r.length,!0));let s=0;for(let c=0;c<r.length;c++)r[c].type==o&&(s=c+1);let l=r.length-s,f=n.start+r.length-(i?2:0),d=n.parent;for(let p=n.startIndex,h=n.endIndex,m=!0;p<h;p++,m=!1)!m&&GV(t.doc,f,l)&&(t.split(f,l),f+=2*l),f+=d.child(p).nodeSize;return t})(r.tr,u,f,s,t).scrollIntoView()),!0)}})(o,n)(r,i)};var ens=Object.freeze({__proto__:null,blur:ee3,clearContent:ee5,clearNodes:ee4,command:ee9,createParagraphNear:ee6,deleteCurrentNode:ee8,deleteNode:ee7,deleteRange:ete,deleteSelection:ett,enter:etn,exitCode:etr,extendMarkRange:etc,first:etl,focus:etm,forEach:etg,insertContent:ety,insertContentAt:et_,joinUp:etS,joinDown:etT,joinBackward:etw,joinForward:etO,keyboardShortcut:etk,lift:etC,liftEmptyBlock:etR,liftListItem:etE,newlineInCode:etA,resetAttributes:etP,scrollIntoView:etF,selectAll:etL,selectNodeBackward:etD,selectNodeForward:etW,selectParentNode:etU,selectTextblockEnd:etz,selectTextblockStart:etB,setContent:etK,setMark:etY,setMeta:etQ,setNode:etX,setNodeSelection:et0,setTextSelection:et1,sinkListItem:et2,splitBlock:et5,splitListItem:et4,toggleList:et8,toggleMark:et7,toggleNode:ene,toggleWrap:ent,undoInputRule:enn,unsetAllMarks:enr,unsetMark:eni,updateAttributes:eno,wrapIn:ena,wrapInList:enu});let enc=eeX.create({name:"commands",addCommands:()=>({...ens})}),enl=eeX.create({name:"editable",addProseMirrorPlugins(){return[new Yb({key:new YS("editable"),props:{editable:()=>this.editor.options.editable}})]}}),enf=eeX.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:t}=this;return[new Yb({key:new YS("focusEvents"),props:{handleDOMEvents:{focus(n,r){t.isFocused=!0;let i=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return n.dispatch(i),!1},blur(n,r){t.isFocused=!1;let i=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return n.dispatch(i),!1}}}})]}}),end=eeX.create({name:"keymap",addKeyboardShortcuts(){let t=()=>this.editor.commands.first(({commands:t})=>[()=>t.undoInputRule(),()=>t.command(({tr:n})=>{let{selection:r,doc:i}=n,{empty:o,$anchor:a}=r,{pos:u,parent:s}=a,c=Yt.atStart(i).from===u;return!!o&&!!c&&!!s.type.isTextblock&&!s.textContent.length&&t.clearNodes()}),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]),n=()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:n,"Mod-Delete":n,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":n,"Ctrl-Alt-Backspace":n,"Alt-Delete":n,"Alt-d":n,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return eth()||etI()?o:i},addProseMirrorPlugins(){return[new Yb({key:new YS("clearDocument"),appendTransaction:(t,n,r)=>{if(!(t.some(t=>t.docChanged)&&!n.doc.eq(r.doc)))return;let{empty:i,from:o,to:a}=n.selection,u=Yt.atStart(n.doc).from,s=Yt.atEnd(n.doc).to;if(i||!(o===u&&a===s)||0!==r.doc.textBetween(0,r.doc.content.size," "," ").length)return;let c=r.tr,l=eek({state:r,transaction:c}),{commands:f}=new eeM({editor:this.editor,state:l});if(f.clearNodes(),c.steps.length)return c}})]}}),enp=eeX.create({name:"tabindex",addProseMirrorPlugins(){return[new Yb({key:new YS("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var enh=Object.freeze({__proto__:null,ClipboardTextSerializer:ee2,Commands:enc,Editable:enl,FocusEvents:enf,Keymap:end,Tabindex:enp});let enm=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`,eng=class extends eeC{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t,n){let r=document.querySelector("style[data-tiptap-style]");if(null!==r)return r;let i=document.createElement("style");return n&&i.setAttribute("nonce",n),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}(enm,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){let r=eeF(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;let n="string"==typeof t?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(t=>!t.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){let t=[...this.options.enableCoreExtensions?Object.values(enh):[],...this.options.extensions].filter(t=>["extension","node","mark"].includes(null==t?void 0:t.type));this.extensionManager=new eeG(t,this)}createCommandManager(){this.commandManager=new eeM({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t=etq(this.options.content,this.schema,this.options.parseOptions),n=etp(t,this.options.autofocus);this.view=new X0(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Yv.create({doc:t,selection:n||void 0})});let r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();let i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;let n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(t=>{var n;return null===(n=this.capturedTransaction)||void 0===n?void 0:n.step(t)});return}let n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});let i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!t.docChanged||t.getMeta("preventUpdate")||this.emit("update",{editor:this,transaction:t})}getAttributes(t){return function(t,n){let r=etj("string"==typeof n?n:n.name,t.schema);return"node"===r?function(t,n){let r=eej(n,t.schema),{from:i,to:o}=t.selection,a=[];t.doc.nodesBetween(i,o,t=>{a.push(t)});let u=a.reverse().find(t=>t.type.name===r.name);return u?{...u.attrs}:{}}(t,n):"mark"===r?etV(t,n):{}}(this.state,t)}isActive(t,n){return function(t,n,r={}){if(!n)return etM(t,null,r)||etJ(t,null,r);let i=etj(n,t.schema);return"node"===i?etM(t,n,r):"mark"===i&&etJ(t,n,r)}(this.state,"string"==typeof t?t:null,"string"==typeof t?n:t)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(t,n){let r=GT.fromSchema(n).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}(this.state.doc.content,this.schema)}getText(t){let{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return function(t,n){let r={from:0,to:t.content.size};return ee0(t,r,n)}(this.state.doc,{blockSeparator:n,textSerializers:{...ee1(this.schema),...r}})}get isEmpty(){return function(t){var n;let r=null===(n=t.type.createAndFill())||void 0===n?void 0:n.toJSON(),i=t.toJSON();return JSON.stringify(r)===JSON.stringify(i)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!(null===(t=this.view)||void 0===t)&&t.docView)}};function eny(t){return new ee$({find:t.find,handler({state:n,range:r,match:i}){let o=eeL(t.getAttributes,void 0,i);if(!1===o||null===o)return null;let{tr:a}=n,u=i[i.length-1],s=i[0],c=r.to;if(u){let l=s.search(/\S/),f=r.from+s.indexOf(u),d=f+u.length;if(etH(r.from,r.to,n.doc).filter(n=>n.mark.type.excluded.find(r=>r===t.type&&r!==n.mark.type)).filter(t=>t.to>f).length)return null;d<r.to&&a.delete(d,r.to),f>r.from&&a.delete(r.from+l,f),c=r.from+l+u.length,a.addMark(r.from+l,c,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}function env(t){return new ee$({find:t.find,handler({state:n,range:r,match:i}){let o=n.doc.resolve(r.from),a=eeL(t.getAttributes,void 0,i)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;n.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,a)}})}function enb(t){return new ee$({find:t.find,handler({state:n,range:r,match:i,chain:o}){let a=eeL(t.getAttributes,void 0,i)||{},u=n.tr.delete(r.from,r.to),s=u.doc.resolve(r.from).blockRange(),c=s&&GK(s,t.type,a);if(!c)return null;if(u.wrap(s,c),t.keepMarks&&t.editor){let{selection:l,storedMarks:f}=n,{splittableMarks:d}=t.editor.extensionManager,p=f||l.$to.parentOffset&&l.$from.marks();if(p){let h=p.filter(t=>d.includes(t.type.name));u.ensureMarks(h)}}if(t.keepAttributes){let m="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList";o().updateAttributes(m,a).run()}let g=u.doc.resolve(r.from-1).nodeBefore;g&&g.type===t.type&&GH(u.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(i,g))&&u.join(r.from-1)}})}let enx=class t{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=eeL(eeR(this,"addOptions",{name:this.name}))),this.storage=eeL(eeR(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(n={}){return new t(n)}configure(t={}){let n=this.extend();return n.options=eeQ(this.options,t),n.storage=eeL(eeR(n,"addStorage",{name:n.name,options:n.options})),n}extend(n={}){let r=new t(n);return r.parent=this,this.child=r,r.name=n.name?n.name:r.parent.name,n.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=eeL(eeR(r,"addOptions",{name:r.name})),r.storage=eeL(eeR(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:t,mark:n}){let{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){let o=i.marks();if(!o.find(t=>(null==t?void 0:t.type.name)===n.name))return!1;let a=o.find(t=>(null==t?void 0:t.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}};class en_{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=eeL(eeR(this,"addOptions",{name:this.name}))),this.storage=eeL(eeR(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new en_(t)}configure(t={}){let n=this.extend();return n.options=eeQ(this.options,t),n.storage=eeL(eeR(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){let n=new en_(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=eeL(eeR(n,"addOptions",{name:n.name})),n.storage=eeL(eeR(n,"addStorage",{name:n.name,options:n.options})),n}}class enS{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,i,o,a,u,s;let{view:c}=this.editor,l=t.target,f=3===l.nodeType?null===(n=l.parentElement)||void 0===n?void 0:n.closest("[data-drag-handle]"):l.closest("[data-drag-handle]");if(!this.dom||!(null===(r=this.contentDOM)||void 0===r)&&r.contains(l)||!f)return;let d=0,p=0;if(this.dom!==f){let h=this.dom.getBoundingClientRect(),m=f.getBoundingClientRect(),g=null!==(i=t.offsetX)&&void 0!==i?i:null===(o=t.nativeEvent)||void 0===o?void 0:o.offsetX,y=null!==(a=t.offsetY)&&void 0!==a?a:null===(u=t.nativeEvent)||void 0===u?void 0:u.offsetY;d=m.x-h.x+g,p=m.y-h.y+y}null===(s=t.dataTransfer)||void 0===s||s.setDragImage(this.dom,d,p);let v=Yu.create(c.state.doc,this.getPos()),b=c.state.tr.setSelection(v);c.dispatch(b)}stopEvent(t){var n;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:t});let r=t.target;if(!(this.dom.contains(r)&&!(!(null===(n=this.contentDOM)||void 0===n)&&n.contains(r))))return!1;let i=t.type.startsWith("drag"),o="drop"===t.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o&&!i)return!0;let{isEditable:a}=this.editor,{isDragging:u}=this,s=!!this.node.type.spec.draggable,c=Yu.isSelectable(this.node),l="copy"===t.type,f="paste"===t.type,d="cut"===t.type,p="mousedown"===t.type;if(!s&&c&&i&&t.preventDefault(),s&&i&&!u)return t.preventDefault(),!1;if(s&&a&&!u&&p){let h=r.closest("[data-drag-handle]");h&&(this.dom===h||this.dom.contains(h))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||o||l||f||d||p&&c)}ignoreMutation(t){return!this.dom||!this.contentDOM||("function"==typeof this.options.ignoreMutation?this.options.ignoreMutation({mutation:t}):!!this.node.isLeaf||!!this.node.isAtom||!("selection"===t.type||this.dom.contains(t.target)&&"childList"===t.type&&eth()&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(t=>t.isContentEditable))&&(this.contentDOM===t.target&&"attributes"===t.type||!this.contentDOM.contains(t.target)))}updateAttributes(t){this.editor.commands.command(({tr:n})=>{let r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0})}deleteNode(){let t=this.getPos(),n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function enT(t){return new eeZ({find:t.find,handler({state:n,range:r,match:i}){let o=eeL(t.getAttributes,void 0,i);if(!1===o||null===o)return null;let{tr:a}=n,u=i[i.length-1],s=i[0],c=r.to;if(u){let l=s.search(/\S/),f=r.from+s.indexOf(u),d=f+u.length;if(etH(r.from,r.to,n.doc).filter(n=>n.mark.type.excluded.find(r=>r===t.type&&r!==n.mark.type)).filter(t=>t.to>f).length)return null;d<r.to&&a.delete(d,r.to),f>r.from&&a.delete(r.from+l,f),c=r.from+l+u.length,a.addMark(r.from+l,c,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}var enw=function(){};enw.prototype.append=function(t){return t.length?(t=enw.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},enw.prototype.prepend=function(t){return t.length?enw.from(t).append(this):this},enw.prototype.appendInner=function(t){return new enI(this,t)},enw.prototype.slice=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=this.length),t>=n?enw.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))},enw.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},enw.prototype.forEach=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)},enw.prototype.map=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(n,r){return i.push(t(n,r))},n,r),i},enw.from=function(t){return t instanceof enw?t:t&&t.length?new enO(t):enw.empty};var enO=function(t){function n(n){t.call(this),this.values=n}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var r={length:{configurable:!0},depth:{configurable:!0}};return n.prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(t,r){return 0==t&&r==this.length?this:new n(this.values.slice(t,r))},n.prototype.getInner=function(t){return this.values[t]},n.prototype.forEachInner=function(t,n,r,i){for(var o=n;o<r;o++)if(!1===t(this.values[o],i+o))return!1},n.prototype.forEachInvertedInner=function(t,n,r,i){for(var o=n-1;o>=r;o--)if(!1===t(this.values[o],i+o))return!1},n.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new n(this.values.concat(t.flatten()))},n.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new n(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(n.prototype,r),n}(enw);enw.empty=new enO([]);var enI=function(t){function n(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},n.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},n.prototype.forEachInner=function(t,n,r,i){var o=this.left.length;if(n<o&&!1===this.left.forEachInner(t,n,Math.min(r,o),i)||r>o&&!1===this.right.forEachInner(t,Math.max(n-o,0),Math.min(this.length,r)-o,i+o))return!1},n.prototype.forEachInvertedInner=function(t,n,r,i){var o=this.left.length;if(n>o&&!1===this.right.forEachInvertedInner(t,n-o,Math.max(r,o)-o,i+o)||r<o&&!1===this.left.forEachInvertedInner(t,Math.min(n,o),r,i))return!1},n.prototype.sliceInner=function(t,n){if(0==t&&n==this.length)return this;var r=this.left.length;return n<=r?this.left.slice(t,n):t>=r?this.right.slice(t-r,n-r):this.left.slice(t,r).append(this.right.slice(0,n-r))},n.prototype.leafAppend=function(t){var r=this.right.leafAppend(t);if(r)return new n(this.left,r)},n.prototype.leafPrepend=function(t){var r=this.left.leafPrepend(t);if(r)return new n(r,this.right)},n.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new n(this.left,new n(this.right,t)):new n(this,t)},n}(enw);class enk{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(0==this.eventCount)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(o=(i=this.remapping(r,this.items.length)).maps.length);let a=t.tr,u,s,c=[],l=[];return this.items.forEach((t,n)=>{if(!t.step){i||(o=(i=this.remapping(r,n+1)).maps.length),o--,l.push(t);return}if(i){l.push(new enM(t.map));let f=t.step.map(i.slice(o)),d;f&&a.maybeStep(f).doc&&(d=a.mapping.maps[a.mapping.maps.length-1],c.push(new enM(d,void 0,void 0,c.length+l.length))),o--,d&&i.appendMap(d,o)}else a.maybeStep(t.step);if(t.selection)return u=i?t.selection.map(i.slice(o)):t.selection,s=new enk(this.items.slice(0,r).append(l.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:s,transform:a,selection:u}}addTransform(t,n,r,i){var o,a;let u=[],s=this.eventCount,c=this.items,l=!i&&c.length?c.get(c.length-1):null;for(let f=0;f<t.steps.length;f++){let d=t.steps[f].invert(t.docs[f]),p=new enM(t.mapping.maps[f],d,n),h;(h=l&&l.merge(p))&&(p=h,f?u.pop():c=c.slice(0,c.length-1)),u.push(p),n&&(s++,n=void 0),i||(l=p)}let m=s-r.depth,g;return m>enR&&(o=c,a=m,c=(o.forEach((t,n)=>{if(t.selection&&0==a--)return g=n,!1}),o.slice(g)),s-=m),new enk(c.append(u),s)}remapping(t,n){let r=new GR;return this.items.forEach((n,i)=>{let o=null!=n.mirrorOffset&&i-n.mirrorOffset>=t?r.maps.length-n.mirrorOffset:void 0;r.appendMap(n.map,o)},t,n),r}addMaps(t){return 0==this.eventCount?this:new enk(this.items.append(t.map(t=>new enM(t))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,u=this.eventCount;this.items.forEach(t=>{t.selection&&u--},i);let s=n;this.items.forEach(n=>{let i=o.getMirror(--s);if(null==i)return;a=Math.min(a,i);let c=o.maps[i];if(n.step){let l=t.steps[i].invert(t.docs[i]),f=n.selection&&n.selection.map(o.slice(s+1,i));f&&u++,r.push(new enM(c,l,f))}else r.push(new enM(c))},i);let c=[];for(let l=n;l<a;l++)c.push(new enM(o.maps[l]));let f=this.items.slice(0,i).append(c).append(r),d=new enk(f,u);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((a,u)=>{if(u>=t)i.push(a),a.selection&&o++;else if(a.step){let s=a.step.map(n.slice(r)),c=s&&s.getMap();if(r--,c&&n.appendMap(c,r),s){let l=a.selection&&a.selection.map(n.slice(r));l&&o++;let f=new enM(c.invert(),s,l),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else a.map&&r--},this.items.length,0),new enk(enw.from(i.reverse()),o)}}enk.empty=new enk(enw.empty,0);class enM{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new enM(n.getMap().invert(),n,this.selection)}}}class enC{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}let enR=20;function enE(t){let n=[];return t.forEach((t,r,i,o)=>n.push(i,o)),n}function enA(t,n){if(!t)return null;let r=[];for(let i=0;i<t.length;i+=2){let o=n.map(t[i],1),a=n.map(t[i+1],-1);o<=a&&r.push(o,a)}return r}function enj(t,n,r,i){let o=enF(n),a=enL.get(n).spec.config,u=(i?t.undone:t.done).popEvent(n,o);if(!u)return;let s=u.selection.resolve(u.transform.doc),c=(i?t.done:t.undone).addTransform(u.transform,n.selection.getBookmark(),a,o),l=new enC(i?c:u.remaining,i?u.remaining:c,null,0,-1);r(u.transform.setSelection(s).setMeta(enL,{redo:i,historyState:l}).scrollIntoView())}let enN=!1,enP=null;function enF(t){let n=t.plugins;if(enP!=n){enN=!1,enP=n;for(let r=0;r<n.length;r++)if(n[r].spec.historyPreserveItems){enN=!0;break}}return enN}let enL=new YS("history"),enD=new YS("closeHistory"),enW=(t,n)=>{let r=enL.getState(t);return!!r&&0!=r.done.eventCount&&(n&&enj(r,t,n,!1),!0)},enU=(t,n)=>{let r=enL.getState(t);return!!r&&0!=r.undone.eventCount&&(n&&enj(r,t,n,!0),!0)},enz=eeX.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:n})=>enW(t,n),redo:()=>({state:t,dispatch:n})=>enU(t,n)}),addProseMirrorPlugins(){return[function(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Yb({key:enL,state:{init:()=>new enC(enk.empty,enk.empty,null,0,-1),apply:(n,r,i)=>(function(t,n,r,i){let o=r.getMeta(enL),a;if(o)return o.historyState;r.getMeta(enD)&&(t=new enC(t.done,t.undone,null,0,-1));let u=r.getMeta("appendedTransaction");if(0==r.steps.length)return t;if(u&&u.getMeta(enL))return u.getMeta(enL).redo?new enC(t.done.addTransform(r,void 0,i,enF(n)),t.undone,enE(r.mapping.maps[r.steps.length-1]),t.prevTime,t.prevComposition):new enC(t.done,t.undone.addTransform(r,void 0,i,enF(n)),null,t.prevTime,t.prevComposition);if(!1===r.getMeta("addToHistory")||u&&!1===u.getMeta("addToHistory"))return(a=r.getMeta("rebased"))?new enC(t.done.rebased(r,a),t.undone.rebased(r,a),enA(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new enC(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),enA(t.prevRanges,r.mapping),t.prevTime,t.prevComposition);{let s=r.getMeta("composition"),c=0==t.prevTime||!u&&t.prevComposition!=s&&(t.prevTime<(r.time||0)-i.newGroupDelay||!function(t,n){if(!n)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((t,i)=>{for(let o=0;o<n.length;o+=2)t<=n[o+1]&&i>=n[o]&&(r=!0)}),r}(r,t.prevRanges)),l=u?enA(t.prevRanges,r.mapping):enE(r.mapping.maps[r.steps.length-1]);return new enC(t.done.addTransform(r,c?n.selection.getBookmark():void 0,i,enF(n)),enk.empty,l,r.time,s??t.prevComposition)}})(r,i,n,t)},config:t,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i="historyUndo"==r?enW:"historyRedo"==r?enU:null;return!!i&&(n.preventDefault(),i(t.state,t.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});var enB="bottom",enq="right",enK="left",en$="auto",enV=["top",enB,enq,enK],enH="start",enZ="viewport",enJ="popper",enG=enV.reduce(function(t,n){return t.concat([n+"-"+enH,n+"-end"])},[]),enY=[].concat(enV,[en$]).reduce(function(t,n){return t.concat([n,n+"-"+enH,n+"-end"])},[]),enQ=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function enX(t){return t?(t.nodeName||"").toLowerCase():null}function en0(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function en1(t){var n=en0(t).Element;return t instanceof n||t instanceof Element}function en2(t){var n=en0(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function en3(t){if(typeof ShadowRoot>"u")return!1;var n=en0(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}let en5={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var n=t.state;Object.keys(n.elements).forEach(function(t){var r=n.styles[t]||{},i=n.attributes[t]||{},o=n.elements[t];en2(o)&&enX(o)&&(Object.assign(o.style,r),Object.keys(i).forEach(function(t){var n=i[t];!1===n?o.removeAttribute(t):o.setAttribute(t,!0===n?"":n)}))})},effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(t){var i=n.elements[t],o=n.attributes[t]||{},a=Object.keys(n.styles.hasOwnProperty(t)?n.styles[t]:r[t]).reduce(function(t,n){return t[n]="",t},{});en2(i)&&enX(i)&&(Object.assign(i.style,a),Object.keys(o).forEach(function(t){i.removeAttribute(t)}))})}},requires:["computeStyles"]};function en4(t){return t.split("-")[0]}var en9=Math.max,en6=Math.min,en8=Math.round;function en7(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ere(){return!/^((?!chrome|android).)*safari/i.test(en7())}function ert(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=t.getBoundingClientRect(),o=1,a=1;n&&en2(t)&&(o=t.offsetWidth>0&&en8(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&en8(i.height)/t.offsetHeight||1);var u=(en1(t)?en0(t):window).visualViewport,s=!ere()&&r,c=(i.left+(s&&u?u.offsetLeft:0))/o,l=(i.top+(s&&u?u.offsetTop:0))/a,f=i.width/o,d=i.height/a;return{width:f,height:d,top:l,right:c+f,bottom:l+d,left:c,x:c,y:l}}function ern(t){var n=ert(t),r=t.offsetWidth,i=t.offsetHeight;return 1>=Math.abs(n.width-r)&&(r=n.width),1>=Math.abs(n.height-i)&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function err(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&en3(r)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function eri(t){return en0(t).getComputedStyle(t)}function ero(t){return["table","td","th"].indexOf(enX(t))>=0}function era(t){return((en1(t)?t.ownerDocument:t.document)||window.document).documentElement}function eru(t){return"html"===enX(t)?t:t.assignedSlot||t.parentNode||(en3(t)?t.host:null)||era(t)}function ers(t){return en2(t)&&"fixed"!==eri(t).position?t.offsetParent:null}function erc(t){for(var n=en0(t),r=ers(t);r&&ero(r)&&"static"===eri(r).position;)r=ers(r);return r&&("html"===enX(r)||"body"===enX(r)&&"static"===eri(r).position)?n:r||function(t){var n=/firefox/i.test(en7());if(/Trident/i.test(en7())&&en2(t)&&"fixed"===eri(t).position)return null;var r=eru(t);for(en3(r)&&(r=r.host);en2(r)&&0>["html","body"].indexOf(enX(r));){var i=eri(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||n&&"filter"===i.willChange||n&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}(t)||n}function erl(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function erf(t,n,r){return en9(t,en6(n,r))}function erd(){return{top:0,right:0,bottom:0,left:0}}function erp(t){return Object.assign({},erd(),t)}function erh(t,n){return n.reduce(function(n,r){return n[r]=t,n},{})}function erm(t){return t.split("-")[1]}var erg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ery(t){var n,r,i=t.popper,o=t.popperRect,a=t.placement,u=t.variation,s=t.offsets,c=t.position,l=t.gpuAcceleration,f=t.adaptive,d=t.roundOffsets,p=t.isFixed,h=s.x,m=void 0===h?0:h,g=s.y,y=void 0===g?0:g,v="function"==typeof d?d({x:m,y:y}):{x:m,y:y};m=v.x,y=v.y;var b=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),_=enK,S="top",T=window;if(f){var w=erc(i),O="clientHeight",I="clientWidth";w===en0(i)&&(w=era(i),"static"!==eri(w).position&&"absolute"===c&&(O="scrollHeight",I="scrollWidth")),("top"===a||(a===enK||a===enq)&&"end"===u)&&(S=enB,y-=(p&&w===T&&T.visualViewport?T.visualViewport.height:w[O])-o.height,y*=l?1:-1),(a===enK||("top"===a||a===enB)&&"end"===u)&&(_=enq,m-=(p&&w===T&&T.visualViewport?T.visualViewport.width:w[I])-o.width,m*=l?1:-1)}var k,M,C,R,E,A=Object.assign({position:c},f&&erg),j=!0===d?(k={x:m,y:y},M=en0(i),C=k.x,R=k.y,{x:en8(C*(E=M.devicePixelRatio||1))/E||0,y:en8(R*E)/E||0}):{x:m,y:y};return(m=j.x,y=j.y,l)?Object.assign({},A,((n={})[S]=x?"0":"",n[_]=b?"0":"",n.transform=1>=(T.devicePixelRatio||1)?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",n)):Object.assign({},A,((r={})[S]=x?y+"px":"",r[_]=b?m+"px":"",r.transform="",r))}var erv={passive:!0},erb={left:"right",right:"left",bottom:"top",top:"bottom"};function erx(t){return t.replace(/left|right|bottom|top/g,function(t){return erb[t]})}var er_={start:"end",end:"start"};function erS(t){return t.replace(/start|end/g,function(t){return er_[t]})}function erT(t){var n,r=en0(t);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function erw(t){return ert(era(t)).left+erT(t).scrollLeft}function erO(t){var n=eri(t),r=n.overflow,i=n.overflowX,o=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+i)}function erI(t,n){void 0===n&&(n=[]);var r,i=function t(n){return["html","body","#document"].indexOf(enX(n))>=0?n.ownerDocument.body:en2(n)&&erO(n)?n:t(eru(n))}(t),o=i===(null==(r=t.ownerDocument)?void 0:r.body),a=en0(i),u=o?[a].concat(a.visualViewport||[],erO(i)?i:[]):i,s=n.concat(u);return o?s:s.concat(erI(eru(u)))}function erk(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function erM(t,n,r){var i,o,a,u,s,c,l,f,d,p,h,m;return n===enZ?erk(function(t,n){var r=en0(t),i=era(t),o=r.visualViewport,a=i.clientWidth,u=i.clientHeight,s=0,c=0;if(o){a=o.width,u=o.height;var l=ere();(l||!l&&"fixed"===n)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:a,height:u,x:s+erw(t),y:c}}(t,r)):en1(n)?((a=ert(n,!1,"fixed"===r)).top=a.top+n.clientTop,a.left=a.left+n.clientLeft,a.bottom=a.top+n.clientHeight,a.right=a.left+n.clientWidth,a.width=n.clientWidth,a.height=n.clientHeight,a.x=a.left,a.y=a.top,a):erk((u=era(t),c=era(u),l=erT(u),f=null==(s=u.ownerDocument)?void 0:s.body,d=en9(c.scrollWidth,c.clientWidth,f?f.scrollWidth:0,f?f.clientWidth:0),p=en9(c.scrollHeight,c.clientHeight,f?f.scrollHeight:0,f?f.clientHeight:0),h=-l.scrollLeft+erw(u),m=-l.scrollTop,"rtl"===eri(f||c).direction&&(h+=en9(c.clientWidth,f?f.clientWidth:0)-d),{width:d,height:p,x:h,y:m}))}function erC(t){var n,r=t.reference,i=t.element,o=t.placement,a=o?en4(o):null,u=o?erm(o):null,s=r.x+r.width/2-i.width/2,c=r.y+r.height/2-i.height/2;switch(a){case"top":n={x:s,y:r.y-i.height};break;case enB:n={x:s,y:r.y+r.height};break;case enq:n={x:r.x+r.width,y:c};break;case enK:n={x:r.x-i.width,y:c};break;default:n={x:r.x,y:r.y}}var l=a?erl(a):null;if(null!=l){var f="y"===l?"height":"width";switch(u){case enH:n[l]=n[l]-(r[f]/2-i[f]/2);break;case"end":n[l]=n[l]+(r[f]/2-i[f]/2)}}return n}function erR(t,n){void 0===n&&(n={});var r,i,o,a,u,s,c,l,f,d,p=n,h=p.placement,m=void 0===h?t.placement:h,g=p.strategy,y=void 0===g?t.strategy:g,v=p.boundary,b=p.rootBoundary,x=p.elementContext,_=void 0===x?enJ:x,S=p.altBoundary,T=p.padding,w=void 0===T?0:T,O=erp("number"!=typeof w?w:erh(w,enV)),I=t.rects.popper,k=t.elements[void 0!==S&&S?_===enJ?"reference":enJ:_],M=(r=en1(k)?k:k.contextElement||era(t.elements.popper),f=(l=[].concat("clippingParents"===(i=void 0===v?"clippingParents":v)?(s=erI(eru(r)),c=["absolute","fixed"].indexOf(eri(r).position)>=0&&en2(r)?erc(r):r,en1(c)?s.filter(function(t){return en1(t)&&err(t,c)&&"body"!==enX(t)}):[]):[].concat(i),[void 0===b?enZ:b]))[0],(d=l.reduce(function(t,n){var i=erM(r,n,y);return t.top=en9(i.top,t.top),t.right=en6(i.right,t.right),t.bottom=en6(i.bottom,t.bottom),t.left=en9(i.left,t.left),t},erM(r,f,y))).width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d),C=ert(t.elements.reference),R=erC({reference:C,element:I,strategy:"absolute",placement:m}),E=erk(Object.assign({},I,R)),A=_===enJ?E:C,j={top:M.top-A.top+O.top,bottom:A.bottom-M.bottom+O.bottom,left:M.left-A.left+O.left,right:A.right-M.right+O.right},N=t.modifiersData.offset;if(_===enJ&&N){var P=N[m];Object.keys(j).forEach(function(t){var n=[enq,enB].indexOf(t)>=0?1:-1,r=["top",enB].indexOf(t)>=0?"y":"x";j[t]+=P[r]*n})}return j}function erE(t,n,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function erA(t){return["top",enq,enB,enK].some(function(n){return t[n]>=0})}var erj={placement:"bottom",modifiers:[],strategy:"absolute"};function erN(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var erP,erF,erL,erD,erW,erU,erz,erB,erq,erK,er$=(erW={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,r=t.instance,i=t.options,o=i.scroll,a=void 0===o||o,u=i.resize,s=void 0===u||u,c=en0(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&l.forEach(function(t){t.addEventListener("scroll",r.update,erv)}),s&&c.addEventListener("resize",r.update,erv),function(){a&&l.forEach(function(t){t.removeEventListener("scroll",r.update,erv)}),s&&c.removeEventListener("resize",r.update,erv)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var n=t.state,r=t.name;n.modifiersData[r]=erC({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var n=t.state,r=t.options,i=r.gpuAcceleration,o=r.adaptive,a=r.roundOffsets,u=void 0===a||a,s={placement:en4(n.placement),variation:erm(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,ery(Object.assign({},s,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:void 0===o||o,roundOffsets:u})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,ery(Object.assign({},s,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},en5,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,r=t.options,i=t.name,o=r.offset,a=void 0===o?[0,0]:o,u=enY.reduce(function(t,r){var i,o,u,s,c,l,f,d;return t[r]=(o=n.rects,c=[enK,"top"].indexOf(s=en4(r))>=0?-1:1,f=(l="function"==typeof a?a(Object.assign({},o,{placement:r})):a)[0],d=l[1],f=f||0,d=(d||0)*c,[enK,enq].indexOf(s)>=0?{x:d,y:f}:{x:f,y:d}),t},{}),s=u[n.placement],c=s.x,l=s.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=c,n.modifiersData.popperOffsets.y+=l),n.modifiersData[i]=u}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var n=t.state,r=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var o=r.mainAxis,a=void 0===o||o,u=r.altAxis,s=void 0===u||u,c=r.fallbackPlacements,l=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,m=void 0===h||h,g=r.allowedAutoPlacements,y=n.options.placement,v=en4(y),b=c||(v!==y&&m?function(t){if(en4(t)===en$)return[];var n=erx(t);return[erS(t),n,erS(n)]}(y):[erx(y)]),x=[y].concat(b).reduce(function(t,r){var i,o,a,u,s,c,p,h,y,v,b,x,_,S;return t.concat(en4(r)===en$?(o={placement:r,boundary:f,rootBoundary:d,padding:l,flipVariations:m,allowedAutoPlacements:g},u=(a=o).placement,s=a.boundary,c=a.rootBoundary,p=a.padding,h=a.flipVariations,v=void 0===(y=a.allowedAutoPlacements)?enY:y,0===(_=(x=(b=erm(u))?h?enG:enG.filter(function(t){return erm(t)===b}):enV).filter(function(t){return v.indexOf(t)>=0})).length&&(_=x),Object.keys(S=_.reduce(function(t,r){return t[r]=erR(n,{placement:r,boundary:s,rootBoundary:c,padding:p})[en4(r)],t},{})).sort(function(t,n){return S[t]-S[n]})):r)},[]),_=n.rects.reference,S=n.rects.popper,T=new Map,w=!0,O=x[0],I=0;I<x.length;I++){var k=x[I],M=en4(k),C=erm(k)===enH,R=["top",enB].indexOf(M)>=0,E=R?"width":"height",A=erR(n,{placement:k,boundary:f,rootBoundary:d,altBoundary:p,padding:l}),j=R?C?enq:enK:C?enB:"top";_[E]>S[E]&&(j=erx(j));var N=erx(j),P=[];if(a&&P.push(A[M]<=0),s&&P.push(A[j]<=0,A[N]<=0),P.every(function(t){return t})){O=k,w=!1;break}T.set(k,P)}if(w)for(var F=m?3:1,L=function(t){var n=x.find(function(n){var r=T.get(n);if(r)return r.slice(0,t).every(function(t){return t})});if(n)return O=n,"break"},D=F;D>0&&"break"!==L(D);D--);n.placement!==O&&(n.modifiersData[i]._skip=!0,n.placement=O,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var n,r=t.state,i=t.options,o=t.name,a=i.mainAxis,u=i.altAxis,s=i.boundary,c=i.rootBoundary,l=i.altBoundary,f=i.padding,d=i.tether,p=void 0===d||d,h=i.tetherOffset,m=void 0===h?0:h,g=erR(r,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=en4(r.placement),v=erm(r.placement),b=!v,x=erl(y),_="x"===x?"y":"x",S=r.modifiersData.popperOffsets,T=r.rects.reference,w=r.rects.popper,O="function"==typeof m?m(Object.assign({},r.rects,{placement:r.placement})):m,I="number"==typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),k=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,M={x:0,y:0};if(S){if(void 0===a||a){var C,R="y"===x?"top":enK,E="y"===x?enB:enq,A="y"===x?"height":"width",j=S[x],N=j+g[R],P=j-g[E],F=p?-w[A]/2:0,L=v===enH?T[A]:w[A],D=v===enH?-w[A]:-T[A],W=r.elements.arrow,U=p&&W?ern(W):{width:0,height:0},z=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:erd(),B=z[R],q=z[E],K=erf(0,T[A],U[A]),$=b?T[A]/2-F-K-B-I.mainAxis:L-K-B-I.mainAxis,V=b?-T[A]/2+F+K+q+I.mainAxis:D+K+q+I.mainAxis,H=r.elements.arrow&&erc(r.elements.arrow),Z=H?"y"===x?H.clientTop||0:H.clientLeft||0:0,J=null!=(C=null==k?void 0:k[x])?C:0,G=erf(p?en6(N,j+$-J-Z):N,j,p?en9(P,j+V-J):P);S[x]=G,M[x]=G-j}if(void 0!==u&&u){var Y,Q,X,ee,et,en=S[_],er="y"===_?"height":"width",ei=en+g["x"===x?"top":enK],eo=en-g["x"===x?enB:enq],ea=-1!==["top",enK].indexOf(y),eu=null!=(et=null==k?void 0:k[_])?et:0,es=ea?ei:en-T[er]-w[er]-eu+I.altAxis,ec=ea?en+T[er]+w[er]-eu-I.altAxis:eo,el=p&&ea?(ee=erf(es,en,ec))>ec?ec:ee:erf(p?es:ei,en,p?ec:eo);S[_]=el,M[_]=el-en}r.modifiersData[o]=M}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var n,r=t.state,i=t.name,o=t.options,a=r.elements.arrow,u=r.modifiersData.popperOffsets,s=en4(r.placement),c=erl(s),l=[enK,enq].indexOf(s)>=0?"height":"width";if(!(!a||!u)){var f,d,p=erp("number"!=typeof(f="function"==typeof(f=o.padding)?f(Object.assign({},r.rects,{placement:r.placement})):f)?f:erh(f,enV)),h=ern(a),m=r.rects.reference[l]+r.rects.reference[c]-u[c]-r.rects.popper[l],g=u[c]-r.rects.reference[c],y=erc(a),v=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=p["y"===c?"top":enK],x=v-h[l]-p["y"===c?enB:enq],_=v/2-h[l]/2+(m/2-g/2),S=erf(b,_,x);r.modifiersData[i]=((n={})[c]=S,n.centerOffset=S-_,n)}},effect:function(t){var n=t.state,r=t.options.element,i=void 0===r?"[data-popper-arrow]":r;null==i||("string"!=typeof i||(i=n.elements.popper.querySelector(i)))&&err(n.elements.popper,i)&&(n.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var n=t.state,r=t.name,i=n.rects.reference,o=n.rects.popper,a=n.modifiersData.preventOverflow,u=erR(n,{elementContext:"reference"}),s=erR(n,{altBoundary:!0}),c=erE(u,i),l=erE(s,o,a),f=erA(c),d=erA(l);n.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:f,hasPopperEscaped:d},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}}]},erB=void 0===(erz=(erU=erW).defaultModifiers)?[]:erz,erK=void 0===(erq=erU.defaultOptions)?erj:erq,function(t,n,r){void 0===r&&(r=erK);var i,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},erj,erK),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},u=[],s=!1,c={state:a,setOptions:function(r){var i,o,s,f,d,p,h,m,g="function"==typeof r?r(a.options):r;l(),a.options=Object.assign({},erK,a.options,g),a.scrollParents={reference:en1(t)?erI(t):t.contextElement?erI(t.contextElement):[],popper:erI(n)};var y=(s=Object.keys(o=(i=[].concat(erB,a.options.modifiers)).reduce(function(t,n){var r=t[n.name];return t[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,t},{})).map(function(t){return o[t]}),d=new Map,p=new Set,h=[],s.forEach(function(t){d.set(t.name,t)}),s.forEach(function(t){p.has(t.name)||function t(n){p.add(n.name),[].concat(n.requires||[],n.requiresIfExists||[]).forEach(function(n){if(!p.has(n)){var r=d.get(n);r&&t(r)}}),h.push(n)}(t)}),enQ.reduce(function(t,n){return t.concat(h.filter(function(t){return t.phase===n}))},[]));return a.orderedModifiers=y.filter(function(t){return t.enabled}),a.orderedModifiers.forEach(function(t){var n=t.name,r=t.options,i=t.effect;if("function"==typeof i){var o=i({state:a,name:n,instance:c,options:void 0===r?{}:r}),s=function(){};u.push(o||s)}}),c.update()},forceUpdate:function(){if(!s){var t,n,r,i,o,u,l,f,d,p,h,m,g,y,v,b=a.elements,x=b.reference,_=b.popper;if(erN(x,_)){a.rects={reference:(t=x,n=erc(_),r="fixed"===a.options.strategy,f=en2(n),d=en2(n)&&(u=en8((o=(i=n).getBoundingClientRect()).width)/i.offsetWidth||1,l=en8(o.height)/i.offsetHeight||1,1!==u||1!==l),p=era(n),h=ert(t,d,r),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(f||!f&&!r)&&(("body"!==enX(n)||erO(p))&&(m=(y=n)!==en0(y)&&en2(y)?{scrollLeft:(v=y).scrollLeft,scrollTop:v.scrollTop}:erT(y)),en2(n)?(g=ert(n,!0),g.x+=n.clientLeft,g.y+=n.clientTop):p&&(g.x=erw(p))),{x:h.left+m.scrollLeft-g.x,y:h.top+m.scrollTop-g.y,width:h.width,height:h.height}),popper:ern(_)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(t){return a.modifiersData[t.name]=Object.assign({},t.data)});for(var S=0;S<a.orderedModifiers.length;S++){if(!0===a.reset){a.reset=!1,S=-1;continue}var T=a.orderedModifiers[S],w=T.fn,O=T.options,I=void 0===O?{}:O,k=T.name;"function"==typeof w&&(a=w({state:a,options:I,name:k,instance:c})||a)}}}},update:function(){return o||(o=new Promise(function(t){Promise.resolve().then(function(){o=void 0,t(new Promise(function(t){c.forceUpdate(),t(a)}))})})),o},destroy:function(){l(),s=!0}};if(!erN(t,n))return c;function l(){u.forEach(function(t){return t()}),u=[]}return c.setOptions(r).then(function(t){!s&&r.onFirstUpdate&&r.onFirstUpdate(t)}),c}),erV="tippy-content",erH="tippy-arrow",erZ="tippy-svg-arrow",erJ={passive:!0,capture:!0},erG=function(){return document.body};function erY(t,n,r){return Array.isArray(t)?t[n]??(Array.isArray(r)?r[n]:r):t}function erQ(t,n){var r=({}).toString.call(t);return 0===r.indexOf("[object")&&r.indexOf(n+"]")>-1}function erX(t,n){return"function"==typeof t?t.apply(void 0,n):t}function er0(t,n){var r;return 0===n?t:function(i){clearTimeout(r),r=setTimeout(function(){t(i)},n)}}function er1(t){return[].concat(t)}function er2(t,n){-1===t.indexOf(n)&&t.push(n)}function er3(t){return[].slice.call(t)}function er5(t){return Object.keys(t).reduce(function(n,r){return void 0!==t[r]&&(n[r]=t[r]),n},{})}function er4(){return document.createElement("div")}function er9(t){return["Element","Fragment"].some(function(n){return erQ(t,n)})}function er6(t,n){t.forEach(function(t){t&&(t.style.transitionDuration=n+"ms")})}function er8(t,n){t.forEach(function(t){t&&t.setAttribute("data-state",n)})}function er7(t,n,r){var i=n+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[i](n,r)})}function eie(t,n){for(var r,i=n;i;){if(t.contains(i))return!0;i=null==i.getRootNode||null==(r=i.getRootNode())?void 0:r.host}return!1}var eit={isTouch:!1},ein=0;function eir(){eit.isTouch||(eit.isTouch=!0,window.performance&&document.addEventListener("mousemove",eii))}function eii(){var t=performance.now();t-ein<20&&(eit.isTouch=!1,document.removeEventListener("mousemove",eii)),ein=t}function eio(){var t,n=document.activeElement;if(n&&n._tippy&&n._tippy.reference===n){var r=n._tippy;n.blur&&!r.state.isVisible&&n.blur()}}var eia=!!("u">typeof window&&"u">typeof document)&&!!window.msCrypto,eiu=Object.assign({appendTo:erG,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),eis=Object.keys(eiu),eic=function(t){Object.keys(t).forEach(function(n){eiu[n]=t[n]})};function eil(t){var n=(t.plugins||[]).reduce(function(n,r){var i,o=r.name,a=r.defaultValue;return o&&(n[o]=void 0!==t[o]?t[o]:null!=(i=eiu[o])?i:a),n},{});return Object.assign({},t,n)}function eif(t,n){var r,i,o=Object.assign({},n,{content:erX(n.content,[t])},n.ignoreAttributes?{}:((i=n.plugins)?Object.keys(eil(Object.assign({},eiu,{plugins:i}))):eis).reduce(function(n,r){var i=(t.getAttribute("data-tippy-"+r)||"").trim();if(!i)return n;if("content"===r)n[r]=i;else try{n[r]=JSON.parse(i)}catch{n[r]=i}return n},{}));return o.aria=Object.assign({},eiu.aria,o.aria),o.aria={expanded:"auto"===o.aria.expanded?n.interactive:o.aria.expanded,content:"auto"===o.aria.content?n.interactive?null:"describedby":o.aria.content},o}var eid=function(){return"innerHTML"};function eip(t,n){t[eid()]=n}function eih(t){var n=er4();return!0===t?n.className=erH:(n.className=erZ,er9(t)?n.appendChild(t):eip(n,t)),n}function eim(t,n){er9(n.content)?(eip(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(n.allowHTML?eip(t,n.content):t.textContent=n.content)}function eig(t){var n=t.firstElementChild,r=er3(n.children);return{box:n,content:r.find(function(t){return t.classList.contains(erV)}),arrow:r.find(function(t){return t.classList.contains(erH)||t.classList.contains(erZ)}),backdrop:r.find(function(t){return t.classList.contains("tippy-backdrop")})}}function eiy(t){var n=er4(),r=er4();r.className="tippy-box",r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=er4();function o(r,i){var o=eig(n),a=o.box,u=o.content,s=o.arrow;i.theme?a.setAttribute("data-theme",i.theme):a.removeAttribute("data-theme"),"string"==typeof i.animation?a.setAttribute("data-animation",i.animation):a.removeAttribute("data-animation"),i.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?a.setAttribute("role",i.role):a.removeAttribute("role"),(r.content!==i.content||r.allowHTML!==i.allowHTML)&&eim(u,t.props),i.arrow?s?r.arrow!==i.arrow&&(a.removeChild(s),a.appendChild(eih(i.arrow))):a.appendChild(eih(i.arrow)):s&&a.removeChild(s)}return i.className=erV,i.setAttribute("data-state","hidden"),eim(i,t.props),n.appendChild(r),r.appendChild(i),o(t.props,t.props),{popper:n,onUpdate:o}}eiy.$$tippy=!0;var eiv=1,eib=[],eix=[];function ei_(t,n){void 0===n&&(n={});var r,i,o=eiu.plugins.concat(n.plugins||[]);document.addEventListener("touchstart",eir,erJ),window.addEventListener("blur",eio);var a,u=Object.assign({},n,{plugins:o}),s=(er9(t)?[t]:erQ(t,"NodeList")?er3(t):Array.isArray(t)?t:er3(document.querySelectorAll(t))).reduce(function(t,n){var r=n&&function(t,n){var r,i,o,a,u,s,c,l,f=eif(t,Object.assign({},eiu,eil(er5(n)))),d=!1,p=!1,h=!1,m=!1,g=[],y=er0(Z,f.interactiveDebounce),v=eiv++,b=(r=f.plugins).filter(function(t,n){return r.indexOf(t)===n}),x={id:v,reference:t,popper:er4(),popperInstance:null,props:f,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(a)},setProps:function(n){if(!x.state.isDestroyed){N("onBeforeUpdate",[x,n]),V();var r=x.props,i=eif(t,Object.assign({},r,er5(n),{ignoreAttributes:!0}));x.props=i,$(),r.interactiveDebounce!==i.interactiveDebounce&&(L(),y=er0(Z,i.interactiveDebounce)),r.triggerTarget&&!i.triggerTarget?er1(r.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):i.triggerTarget&&t.removeAttribute("aria-expanded"),F(),j(),T&&T(r,i),x.popperInstance&&(Q(),ee().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[x,n])}},setContent:function(t){x.setProps({content:t})},show:function(){var t=x.state.isVisible,n=x.state.isDestroyed,r=!x.state.isEnabled,i=eit.isTouch&&!x.props.touch,o=erY(x.props.duration,0,eiu.duration);if(!(t||n||r||i)&&!C().hasAttribute("disabled")&&(N("onShow",[x],!1),!1!==x.props.onShow(x))){if(x.state.isVisible=!0,M()&&(S.style.visibility="visible"),j(),z(),x.state.isMounted||(S.style.transition="none"),M()){var a,u,s,l,f=E();er6([f.box,f.content],0)}c=function(){var t;if(!(!x.state.isVisible||m)){if(m=!0,S.offsetHeight,S.style.transition=x.props.moveTransition,M()&&x.props.animation){var n,r,i=E(),a=i.box,u=i.content;er6([a,u],o),er8([a,u],"visible")}P(),F(),er2(eix,x),null==(t=x.popperInstance)||t.forceUpdate(),N("onMount",[x]),x.props.animation&&M()&&q(o,r=function(){x.state.isShown=!0,N("onShown",[x])})}},u=x.props.appendTo,s=C(),(a=x.props.interactive&&u===erG||"parent"===u?s.parentNode:erX(u,[s])).contains(S)||a.appendChild(S),x.state.isMounted=!0,Q()}},hide:function(){var t=!x.state.isVisible,n=x.state.isDestroyed,r=!x.state.isEnabled,i=erY(x.props.duration,1,eiu.duration);if(!(t||n||r)&&(N("onHide",[x],!1),!1!==x.props.onHide(x))){if(x.state.isVisible=!1,x.state.isShown=!1,m=!1,d=!1,M()&&(S.style.visibility="hidden"),L(),B(),j(!0),M()){var o,a,u=E(),s=u.box,c=u.content;x.props.animation&&(er6([s,c],i),er8([s,c],"hidden"))}P(),F(),x.props.animation?M()&&(a=x.unmount,q(i,function(){!x.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&a()})):x.unmount()}},hideWithInteractivity:function(t){R().addEventListener("mousemove",y),er2(eib,y),y(t)},enable:function(){x.state.isEnabled=!0},disable:function(){x.hide(),x.state.isEnabled=!1},unmount:function(){x.state.isVisible&&x.hide(),x.state.isMounted&&(X(),ee().forEach(function(t){t._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),eix=eix.filter(function(t){return t!==x}),x.state.isMounted=!1,N("onHidden",[x]))},destroy:function(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),V(),delete t._tippy,x.state.isDestroyed=!0,N("onDestroy",[x]))}};if(!f.render)return x;var _=f.render(x),S=_.popper,T=_.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+x.id,x.popper=S,t._tippy=x,S._tippy=x;var w=b.map(function(t){return t.fn(x)}),O=t.hasAttribute("aria-expanded");return $(),F(),j(),N("onCreate",[x]),f.showOnCreate&&et(),S.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&R().addEventListener("mousemove",y)}),x;function I(){var t=x.props.touch;return Array.isArray(t)?t:[t,0]}function k(){return"hold"===I()[0]}function M(){var t;return!!(null!=(t=x.props.render)&&t.$$tippy)}function C(){return l||t}function R(){var t,n,r,i=C().parentNode;return i&&null!=(r=er1(i)[0])&&null!=(n=r.ownerDocument)&&n.body?r.ownerDocument:document}function E(){return eig(S)}function A(t){return x.state.isMounted&&!x.state.isVisible||eit.isTouch||u&&"focus"===u.type?0:erY(x.props.delay,t?0:1,eiu.delay)}function j(t){void 0===t&&(t=!1),S.style.pointerEvents=x.props.interactive&&!t?"":"none",S.style.zIndex=""+x.props.zIndex}function N(t,n,r){if(void 0===r&&(r=!0),w.forEach(function(r){r[t]&&r[t].apply(r,n)}),r){var i;(i=x.props)[t].apply(i,n)}}function P(){var n=x.props.aria;if(n.content){var r="aria-"+n.content,i=S.id;er1(x.props.triggerTarget||t).forEach(function(t){var n=t.getAttribute(r);if(x.state.isVisible)t.setAttribute(r,n?n+" "+i:i);else{var o=n&&n.replace(i,"").trim();o?t.setAttribute(r,o):t.removeAttribute(r)}})}}function F(){!(O||!x.props.aria.expanded)&&er1(x.props.triggerTarget||t).forEach(function(t){x.props.interactive?t.setAttribute("aria-expanded",x.state.isVisible&&t===C()?"true":"false"):t.removeAttribute("aria-expanded")})}function L(){R().removeEventListener("mousemove",y),eib=eib.filter(function(t){return t!==y})}function D(n){if(!(eit.isTouch&&(h||"mousedown"===n.type))){var r=n.composedPath&&n.composedPath()[0]||n.target;if(!(x.props.interactive&&eie(S,r))){if(er1(x.props.triggerTarget||t).some(function(t){return eie(t,r)})){if(eit.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[x,n]);!0===x.props.hideOnClick&&(x.clearDelayTimeouts(),x.hide(),p=!0,setTimeout(function(){p=!1}),x.state.isMounted||B())}}}function W(){h=!0}function U(){h=!1}function z(){var t=R();t.addEventListener("mousedown",D,!0),t.addEventListener("touchend",D,erJ),t.addEventListener("touchstart",U,erJ),t.addEventListener("touchmove",W,erJ)}function B(){var t=R();t.removeEventListener("mousedown",D,!0),t.removeEventListener("touchend",D,erJ),t.removeEventListener("touchstart",U,erJ),t.removeEventListener("touchmove",W,erJ)}function q(t,n){var r=E().box;function i(t){t.target===r&&(er7(r,"remove",i),n())}if(0===t)return n();er7(r,"remove",s),er7(r,"add",i),s=i}function K(n,r,i){void 0===i&&(i=!1),er1(x.props.triggerTarget||t).forEach(function(t){t.addEventListener(n,r,i),g.push({node:t,eventType:n,handler:r,options:i})})}function $(){var t;k()&&(K("touchstart",H,{passive:!0}),K("touchend",J,{passive:!0})),(t=x.props.trigger).split(/\s+/).filter(Boolean).forEach(function(t){if("manual"!==t)switch(K(t,H),t){case"mouseenter":K("mouseleave",J);break;case"focus":K(eia?"focusout":"blur",G);break;case"focusin":K("focusout",G)}})}function V(){g.forEach(function(t){var n=t.node,r=t.eventType,i=t.handler,o=t.options;n.removeEventListener(r,i,o)}),g=[]}function H(t){var n,r=!1;if(!(!x.state.isEnabled||Y(t)||p)){var i,o=(null==(n=u)?void 0:n.type)==="focus";u=t,l=t.currentTarget,F(),!x.state.isVisible&&erQ(t,"MouseEvent")&&eib.forEach(function(n){return n(t)}),"click"===t.type&&(0>x.props.trigger.indexOf("mouseenter")||d)&&!1!==x.props.hideOnClick&&x.state.isVisible?r=!0:et(t),"click"===t.type&&(d=!r),r&&!o&&en(t)}}function Z(t){var n,r,i,o,a=t.target,u=C().contains(a)||S.contains(a);!("mousemove"===t.type&&u)&&(n=ee().concat(S).map(function(t){var n,r=null==(n=t._tippy.popperInstance)?void 0:n.state;return r?{popperRect:t.getBoundingClientRect(),popperState:r,props:f}:null}).filter(Boolean),i=(r=t).clientX,o=r.clientY,n.every(function(t){var n,r=t.popperRect,a=t.popperState,u=t.props.interactiveBorder,s=(n=a.placement).split("-")[0],c=a.modifiersData.offset;if(!c)return!0;var l="bottom"===s?c.top.y:0,f="top"===s?c.bottom.y:0,d="right"===s?c.left.x:0,p="left"===s?c.right.x:0,h=r.top-o+l>u,m=o-r.bottom-f>u,g=r.left-i+d>u,y=i-r.right-p>u;return h||m||g||y})&&(L(),en(t)))}function J(t){if(!(Y(t)||x.props.trigger.indexOf("click")>=0&&d)){if(x.props.interactive){x.hideWithInteractivity(t);return}en(t)}}function G(t){0>x.props.trigger.indexOf("focusin")&&t.target!==C()||x.props.interactive&&t.relatedTarget&&S.contains(t.relatedTarget)||en(t)}function Y(t){return!!eit.isTouch&&k()!==t.type.indexOf("touch")>=0}function Q(){X();var n=x.props,r=n.popperOptions,i=n.placement,o=n.offset,a=n.getReferenceClientRect,u=n.moveTransition,s=M()?eig(S).arrow:null,l=a?{getBoundingClientRect:a,contextElement:a.contextElement||C()}:t,f=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!u}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var n=t.state;if(M()){var r=E().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?r.setAttribute("data-placement",n.placement):n.attributes.popper["data-popper-"+t]?r.setAttribute("data-"+t,""):r.removeAttribute("data-"+t)}),n.attributes.popper={}}}}];M()&&s&&f.push({name:"arrow",options:{element:s,padding:3}}),f.push.apply(f,(null==r?void 0:r.modifiers)||[]),x.popperInstance=er$(l,S,Object.assign({},r,{placement:i,onFirstUpdate:c,modifiers:f}))}function X(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function ee(){return er3(S.querySelectorAll("[data-tippy-root]"))}function et(t){x.clearDelayTimeouts(),t&&N("onTrigger",[x,t]),z();var n=A(!0),r=I(),o=r[0],a=r[1];eit.isTouch&&"hold"===o&&a&&(n=a),n?i=setTimeout(function(){x.show()},n):x.show()}function en(t){if(x.clearDelayTimeouts(),N("onUntrigger",[x,t]),!x.state.isVisible){B();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&d)){var n=A(!1);n?o=setTimeout(function(){x.state.isVisible&&x.hide()},n):a=requestAnimationFrame(function(){x.hide()})}}}(n,u);return r&&t.push(r),t},[]);return er9(t)?s[0]:s}ei_.defaultProps=eiu,ei_.setDefaultProps=eic,ei_.currentInput=eit,Object.assign({},en5,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),ei_.setDefaultProps({render:eiy});class eiS{constructor({editor:t,element:n,view:r,tippyOptions:i={},updateDelay:o=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:t,state:n,from:r,to:i})=>{let{doc:o,selection:a}=n,{empty:u}=a,s=!o.textBetween(r,i).length&&etf(n.selection),c=this.element.contains(document.activeElement);return!(!(t.hasFocus()||c)||u||s||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:t})=>{var n;if(this.preventHide){this.preventHide=!1;return}null!=t&&t.relatedTarget&&!(null===(n=this.element.parentNode)||void 0===n)&&n.contains(t.relatedTarget)||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.handleDebouncedUpdate=(t,n)=>{let r=!(null!=n&&n.selection.eq(t.state.selection)),i=!(null!=n&&n.doc.eq(t.state.doc));(r||i)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(t,r,i,n)},this.updateDelay))},this.updateHandler=(t,n,r,i)=>{var o,a,u;let{state:s,composing:c}=t,{selection:l}=s;if(c||!n&&!r)return;this.createTooltip();let{ranges:f}=l,d=Math.min(...f.map(t=>t.$from.pos)),p=Math.max(...f.map(t=>t.$to.pos));if(!(null===(o=this.shouldShow)||void 0===o?void 0:o.call(this,{editor:this.editor,view:t,state:s,oldState:i,from:d,to:p}))){this.hide();return}null===(a=this.tippy)||void 0===a||a.setProps({getReferenceClientRect:(null===(u=this.tippyOptions)||void 0===u?void 0:u.getReferenceClientRect)||(()=>{var n;if((n=s.selection)instanceof Yu){let r=t.nodeDOM(d),i=r.dataset.nodeViewWrapper?r:r.querySelector("[data-node-view-wrapper]");if(i&&(r=i.firstChild),r)return r.getBoundingClientRect()}return function(t,n,r){let i=t.state.doc.content.size,o=etd(n,0,i),a=etd(r,0,i),u=t.coordsAtPos(o),s=t.coordsAtPos(a,-1),c=Math.min(u.top,s.top),l=Math.max(u.bottom,s.bottom),f=Math.min(u.left,s.left),d=Math.max(u.right,s.right),p={top:c,bottom:l,left:f,right:d,width:d-f,height:l-c,x:f,y:c};return{...p,toJSON:()=>p}}(t,d,p)})}),this.show()},this.editor=t,this.element=n,this.view=r,this.updateDelay=o,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){let{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=ei_(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,n){let{state:r}=t,i=r.selection.$from.pos!==r.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(t,n);return}let o=!(null!=n&&n.selection.eq(t.state.selection)),a=!(null!=n&&n.doc.eq(t.state.doc));this.updateHandler(t,o,a,n)}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,n;!(null===(t=this.tippy)||void 0===t)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(n=this.tippy)||void 0===n||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}let eiT=t=>new Yb({key:"string"==typeof t.pluginKey?new YS(t.pluginKey):t.pluginKey,view:n=>new eiS({view:n,...t})});eeX.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[eiT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});let eiw=t=>{let[n,r]=(0,c.useState)(null);return(0,c.useEffect)(()=>{if(!n||t.editor.isDestroyed)return;let{pluginKey:r="bubbleMenu",editor:i,tippyOptions:o={},updateDelay:a,shouldShow:u=null}=t,s=eiT({updateDelay:a,editor:i,element:n,pluginKey:r,shouldShow:u,tippyOptions:o});return i.registerPlugin(s),()=>i.unregisterPlugin(r)},[t.editor,n]),c.createElement("div",{ref:r,className:t.className,style:{visibility:"hidden"}},t.children)};class eiO extends eng{constructor(){super(...arguments),this.contentComponent=null}}let eiI=({renderers:t})=>c.createElement(c.Fragment,null,Object.entries(t).map(([t,n])=>f.createPortal(n.reactElement,n.element,t)));class eik extends c.Component{constructor(t){super(t),this.editorContentRef=c.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:t}=this.props;if(t&&t.options.element){if(t.contentComponent)return;let n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=this,t.createNodeViews(),this.initialized=!0}}maybeFlushSync(t){this.initialized?(0,f.flushSync)(t):t()}setRenderer(t,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[t]:n}}))})}removeRenderer(t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{let r={...n};return delete r[t],{renderers:r}})})}componentWillUnmount(){let{editor:t}=this.props;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;let n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){let{editor:t,...n}=this.props;return c.createElement(c.Fragment,null,c.createElement("div",{ref:this.editorContentRef,...n}),c.createElement(eiI,{renderers:this.state.renderers}))}}let eiM=c.memo(eik),eiC=(0,c.createContext)({onDragStart:void 0}),eiR=()=>(0,c.useContext)(eiC),eiE=c.forwardRef((t,n)=>{let{onDragStart:r}=eiR(),i=t.as||"div";return c.createElement(i,{...t,ref:n,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});class eiA{constructor(t,{editor:n,props:r={},as:i="div",className:o="",attrs:a}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=t,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),a&&Object.keys(a).forEach(t=>{this.element.setAttribute(t,a[t])}),this.render()}render(){var t,n,r,i,o;let a=this.component,u=this.props;("function"==typeof a&&a.prototype&&a.prototype.isReactComponent||"object"==typeof a&&(null===(o=a.$$typeof)||void 0===o?void 0:o.toString())==="Symbol(react.forward_ref)")&&(u.ref=t=>{this.ref=t}),this.reactElement=c.createElement(a,{...u}),null===(n=null===(t=this.editor)||void 0===t?void 0:t.contentComponent)||void 0===n||n.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t,n;null===(n=null===(t=this.editor)||void 0===t?void 0:t.contentComponent)||void 0===n||n.removeRenderer(this.id)}}class eij extends enS{mount(){let t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(t={})=>this.updateAttributes(t),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){var n;this.component.displayName=(n=this.extension.name).charAt(0).toUpperCase()+n.substring(1)}let r=t=>{let n=this.component,r=this.onDragStart.bind(this),i=t=>{t&&this.contentDOMElement&&t.firstChild!==this.contentDOMElement&&t.appendChild(this.contentDOMElement)};return c.createElement(c.Fragment,null,c.createElement(eiC.Provider,{value:{onDragStart:r,nodeViewContentRef:i}},c.createElement(n,{...t})))};r.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let i=this.node.isInline?"span":"div";this.options.as&&(i=this.options.as);let{className:o=""}=this.options;this.renderer=new eiA(r,{editor:this.editor,props:t,as:i,className:`node-${this.node.type.name} ${o}`.trim(),attrs:this.options.attrs})}get dom(){var t;if(this.renderer.element.firstElementChild&&!(!(null===(t=this.renderer.element.firstElementChild)||void 0===t)&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(t,n){let r=t=>{this.renderer.updateProps(t)};if(t.type!==this.node.type)return!1;if("function"==typeof this.options.update){let i=this.node,o=this.decorations;return this.node=t,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:t,newDecorations:n,updateProps:()=>r({node:t,decorations:n})})}return t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,r({node:t,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}let eiN=(t={},n=[])=>{let[r,i]=(0,c.useState)(null),o=function(){let[,t]=(0,c.useState)(0);return()=>t(t=>t+1)}(),{onBeforeCreate:a,onBlur:u,onCreate:s,onDestroy:l,onFocus:f,onSelectionUpdate:d,onTransaction:p,onUpdate:h}=t,m=(0,c.useRef)(a),g=(0,c.useRef)(u),y=(0,c.useRef)(s),v=(0,c.useRef)(l),b=(0,c.useRef)(f),x=(0,c.useRef)(d),_=(0,c.useRef)(p),S=(0,c.useRef)(h);return(0,c.useEffect)(()=>{r&&(a&&(r.off("beforeCreate",m.current),r.on("beforeCreate",a),m.current=a),u&&(r.off("blur",g.current),r.on("blur",u),g.current=u),s&&(r.off("create",y.current),r.on("create",s),y.current=s),l&&(r.off("destroy",v.current),r.on("destroy",l),v.current=l),f&&(r.off("focus",b.current),r.on("focus",f),b.current=f),d&&(r.off("selectionUpdate",x.current),r.on("selectionUpdate",d),x.current=d),p&&(r.off("transaction",_.current),r.on("transaction",p),_.current=p),h&&(r.off("update",S.current),r.on("update",h),S.current=h))},[a,u,s,l,f,d,p,h,r]),(0,c.useEffect)(()=>{let n=!0,r=new eiO(t);return i(r),r.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n&&o()})})}),()=>{r.destroy(),n=!1}},n),r};var eiP={},eiF={},eiL={};Object.defineProperty(eiL,"__esModule",{value:!0}),eiL.Sections=eiL.DynamicSection=eiL.StaticSection=eiL.sectionReader=void 0;let eiD=oS,eiW=(0,eiD.__importStar)(zr);function eiU(t){return eiW.record(zi.WidgetKey,t)}eiL.sectionReader=eiU,eiL.StaticSection=eiU(qt.StaticWidget),eiL.DynamicSection=eiU(qt.DynamicWidget),eiL.Sections={toStatic:(t,n)=>Object.entries(t).reduce((t,[r,i])=>({...t,[r]:qt.Widgets.toStatic(i,n)}),{})},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.filterMissingSharedSlices=t.collectWidgets=t.validateSlices=t.toStatic=t.flattenWidgets=t.CustomType=t.StaticCustomType=t.CustomTypeFormat=void 0;let n=oS,r=(0,n.__importStar)(zr);t.CustomTypeFormat={page:"page",custom:"custom"};class i extends Error{constructor(t){super(),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.slices=t,this.message=this._formatError(t)}_formatError(t){return`The following slices doesn't exists in your Prismic repository:
${t.map(t=>`	 - ${t}`).join(`
`)}
`}}function o(n){return r.exact(r.intersection([r.type({id:r.string,label:zC.StringOrNull,repeatable:(0,BI.withFallback)(r.boolean,!0),json:r.record(r.string,n),status:(0,BI.withFallback)(r.boolean,!0)}),r.partial({hash:r.string,format:(0,BI.withFallback)(r.keyof(t.CustomTypeFormat),"custom")})]))}function a(t){return Object.entries(t.json).reduce((t,[,n])=>{let r=Object.entries(n);return t.concat(r)},[])}function u(t,n){let r=Object.entries(t.json).reduce((t,[r,i])=>{let o=Object.entries(i).reduce((t,[r,i])=>{let o=n(r,i);return o?{...t,[r]:o}:t},{});return{...t,[r]:o}},{});return{...t,json:r}}t.StaticCustomType=o(eiL.StaticSection),t.CustomType=o(eiL.DynamicSection),t.flattenWidgets=a,t.toStatic=function(t,n){let r=Object.entries(t.json).reduce((t,[r,i])=>({...t,[r]:eiL.Sections.toStatic(i,n)}),{});return{...t,json:r}},t.validateSlices=function(t,n){let r=(function(t){var n;let r=a(t).filter(([,t])=>"Slices"===t.type).reduce((t,[,n])=>{let r=Object.entries(n.config&&n.config.choices?n.config.choices:{}).filter(([,t])=>"SharedSlice"===t.type).map(([t])=>t);return t.concat(r)},[]);return function(t){return r.map(t)}})(t)(t=>{if(!n.get(t))return t}).filter(Boolean);return r.length>0?(0,L5.left)(new i(r)):(0,L5.right)(t)},t.collectWidgets=u,t.filterMissingSharedSlices=function(t,n){return u(t,(t,r)=>{if("Slices"===r.type){if(!r.config||!r.config.choices)return r;let i=Object.entries(r.config.choices).reduce((t,[r,i])=>"SharedSlice"!==i.type||n.get(r)?{...t,[r]:i}:t,{}),o={...r.config,choices:i};return{...r,config:o}}return r})}}(eiF);var eiz,eiB,eiq={},eiK={};Object.defineProperty(eiz=eiK,"__esModule",{value:!0}),eiz.DiffOperation=void 0,(eiB=eiz.DiffOperation||(eiz.DiffOperation={})).Added="added",eiB.Removed="removed",eiB.Updated="updated";var ei$={},eiV={},eiH={};Object.defineProperty(eiH,"__esModule",{value:!0}),eiH.toRecord=void 0,eiH.toRecord=function(t,n){return t.reduce((t,r)=>{let i=n(r);return{...t,[i]:r}},{})},Object.defineProperty(eiV,"__esModule",{value:!0}),eiV.Objects=eiV.Arrays=void 0;let eiZ=oS;eiV.Arrays=(0,eiZ.__importStar)(eiH),eiV.Objects=(0,eiZ.__importStar)(qZ);var eiJ={};function eiG(t,n){let r=eiV.Objects.zipObjects(t,n),i=Object.entries(r).reduce((t,[n,r])=>{if(JSON.stringify(null==r?void 0:r.left)===JSON.stringify(null==r?void 0:r.right))return t;let i=(()=>{if(!(!(null!=r&&r.left)&&!(null!=r&&r.right)))return null!=r&&r.left&&!r.right?{op:eiK.DiffOperation.Removed}:!(null!=r&&r.left)&&null!=r&&r.right?{op:eiK.DiffOperation.Added,value:r.right}:{op:eiK.DiffOperation.Updated,value:r.right}})();return i?{...t,[n]:i}:t},{});return eiV.Objects.isNotEmpty(i)?i:void 0}Object.defineProperty(eiJ,"__esModule",{value:!0}),eiJ.VariationComparator=void 0,eiJ.VariationComparator={compare(t,n){if(t&&!n)return{op:eiK.DiffOperation.Removed};if(!t&&n)return{op:eiK.DiffOperation.Added,value:n};let r=function(t,n){let r=eiV.Objects.zipObjects(t,n);return Object.entries(r).reduce((t,[n,r])=>"primary"===n||"items"===n||(null==r?void 0:r.left)===(null==r?void 0:r.right)?t:{...t,[n]:null==r?void 0:r.right},{})}(t,n),i=eiG(null==t?void 0:t.primary,null==n?void 0:n.primary),o=eiG(null==t?void 0:t.items,null==n?void 0:n.items),a={...r,...i?{primary:i}:{},...o?{items:o}:{}};if(eiV.Objects.isNotEmpty(a))return{op:eiK.DiffOperation.Updated,value:a}}},Object.defineProperty(ei$,"__esModule",{value:!0}),ei$.SliceComparator=void 0,ei$.SliceComparator={compare(t,n){if(!t&&n)return{op:eiK.DiffOperation.Added,value:n};if(t&&!n)return{op:eiK.DiffOperation.Removed};let r=function(t,n){let r=eiV.Objects.zipObjects(t,n);return Object.entries(r).reduce((t,[n,r])=>"variations"===n||(null==r?void 0:r.left)===(null==r?void 0:r.right)?t:{...t,[n]:null==r?void 0:r.right},{})}(t,n),i=eiV.Objects.zipObjects(t&&eiV.Arrays.toRecord(t.variations,t=>t.id),n&&eiV.Arrays.toRecord(n.variations,t=>t.id)),o=Object.entries(i).reduce((t,[n,r])=>{if(!r)return t;let i=eiJ.VariationComparator.compare(r.left,r.right);return i?{...t,[n]:i}:t},{}),a={...r,...eiV.Objects.isNotEmpty(o)?{variations:o}:{}};if(eiV.Objects.isNotEmpty(a))return{op:eiK.DiffOperation.Updated,value:a}}},function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(eiK,t),(0,n.__exportStar)(ei$,t),(0,n.__exportStar)(eiJ,t)}(eiq),function(t){Object.defineProperty(t,"__esModule",{value:!0});let n=oS;(0,n.__exportStar)(eiF,t),(0,n.__exportStar)(eiq,t),(0,n.__exportStar)(eiL,t),(0,n.__exportStar)(zk,t)}(eiP);let eiY=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,eiQ=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,eiX=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,ei0=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,ei1=enx.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[eny({find:eiY,type:this.type}),eny({find:eiX,type:this.type})]},addPasteRules(){return[enT({find:eiQ,type:this.type}),enT({find:ei0,type:this.type})]}});var ei2,ei3,ei5=((ei2=ei5||{}).Document="document",ei2.Mark="mark",ei2.Node="node",ei2),ei4=((ei3=ei4||{}).Text="text",ei3.Embed="embed",ei3.Image="image",ei3);class ei9{constructor(t,n,r,i){h(this,"extType","mark"),this.richTextNodeTypes=t,this.name=n,this.component=r,this.converter=i}}class ei6{constructor(t,n,r,i,o,a=!1){h(this,"extType","node"),h(this,"nodeType","text"),this.richTextNodeTypes=t,this.name=n,this.component=r,this.converter=i,this.placeholder=o,this.lockedFormat=a}}class ei8 extends ei6{constructor(t,n,r,i,o){super(t,"heading",n,i,o),this.levels=r}}class ei7 extends ei6{constructor(t,n,r,i){super(t,n,r,i)}}let eoe=ei1.extend({name:"bold"}),eot=new ei9([eiP.RichTextNodeType.strong],eoe.name,eoe,{fromPrismic:t=>function(){var n;return null==(n=t.marks[eoe.name])?void 0:n.create()},toPrismic(){}}),eon=en_.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",eeN(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),eor=enx.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:n})=>{let r=etV(t,this.type);return!!Object.entries(r).some(([,t])=>!!t)||n.unsetMark(this.name)}}}}),eoi=/^\s*([-+*])\s$/,eoo=en_.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eon.name,this.editor.getAttributes(eor.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=enb({find:eoi,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=enb({find:eoi,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(eor.name),editor:this.editor})),[t]}}),eoa=en_.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",eeN(this.options.HTMLAttributes,t)]},renderText:()=>`
`,addCommands(){return{setHardBreak:()=>({commands:t,chain:n,state:r,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:t,storedMarks:o}=r;if(t.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:u}=i.extensionManager,s=o||t.$to.parentOffset&&t.$from.marks();return n().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{if(n&&s&&a){let r=s.filter(t=>u.includes(t.type.name));t.ensureMarks(r)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),eou={isHardBreak:t=>t.type.name===eoa.name,children:{reduce(t,n,r){let i=r;return t.forEach((t,r,o)=>{i=n(i,t,o)}),i},map(t,n){return this.reduce(t,(t,r)=>[...t,n(r)],[])},exists(t,n){return this.reduce(t,(t,r)=>t||n(r),!1)},filter(t,n){return this.reduce(t,(t,r)=>[...t,...n(r)?[r]:[]],[])}},marks:{reduce(t,n,r){let i=r;return t.marks.forEach((t,r)=>{i=n(i,t,r)}),i},map(t,n){return this.reduce(t,(t,r)=>[...t,n(r)],[])},filter(t,n){return this.reduce(t,(t,r)=>[...t,...n(r)?[r]:[]],[])}}},eos=en_.create({name:"doc",topNode:!0,content:"block+"}),eoc=en_.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",eeN(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),eol=eoc.extend({name:"listItem",content:"paragraph*",addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name)}}}),eof={component:eol,converter:{fromPrismic:t=>function(n){var r;let i=eul.converter.fromPrismic(t)(n);if(i)return null==(r=t.nodes[eol.name])?void 0:r.create({},i)},toPrismic:(t,n)=>eou.children.reduce(t,(t,r)=>{let i=eul.converter.toPrismic(r),o=i instanceof Array?i.map(t=>({...t,type:n})):i?[{...i,type:n}]:[];return[...t,...o]},[])},placeholder:"List"},eod="document",eop=t=>eos.extend({name:eod,content:t?"block+":"block"}),eoh=t=>({fromPrismic(n,r){function i(t){return function(n){return!n&&r&&o_.TextBlock.is(t)?r(t):n}}return function(r){var o;let a=r.value.reduce((r,o)=>{let a=t.find(t=>t.richTextNodeTypes.includes(o.type)),u=(()=>{if(a)switch(a.nodeType){case ei4.Embed:return o_.EmbedBlock.is(o)&&a.converter.fromPrismic(n)(o);case ei4.Text:return o_.TextBlock.is(o)&&a.converter.fromPrismic(n)(o);case ei4.Image:return o_.ImageBlock.is(o)&&a.converter.fromPrismic(n)(o);default:return}})(),[s,c]=D(r,sn(r.length-1),([t,n])=>[t,uP(n)]),l=u?D(c,p_(()=>({merged:!1,node:u}),t=>{var n;return u.type.name===t.type.name&&(u.type.name===eub.name||u.type.name===euH.name)?{merged:!0,node:(n=[t,u]).slice(1,n.length).reduce((t,n)=>t.copy(t.content.append(n.content)),n[0])}:{merged:!1,node:u}}),({merged:t,node:n})=>({merged:t,node:i(o)(n)})):{merged:!1,node:i(o)()};return l.node?[...l.merged?s:r,l.node]:r},[]);return null==(o=n.nodes[eod])?void 0:o.create({},a)}},toPrismic:n=>({__TYPE__:"StructuredTextContent",value:[...eou.children.reduce(n,(n,r)=>{let i=Object.values(t).find(t=>r.type.name===t.name),o=null==i?void 0:i.converter.toPrismic(r);return o||console.warn(`Cannot convert node of type '${r.type.name}'.`),o?[...n,...o instanceof Array?o:[o]]:n},[])]})}),eom=new class{constructor(t,n,r){h(this,"extType","document"),this.name=t,this.component=n,this.converter=r}}(eod,eop,eoh),eog=eoa.extend({name:"hard_break"}),eoy=`
`,eov={fromPrismic:t=>function(n){var r;if(n===eoy)return null==(r=t.nodes[eog.name])?void 0:r.create({})},toPrismic(t){if(t.type.name===eog.name)return eoy}},eob={isEmptyLine:t=>0===t.length,isFirst:t=>0===t},eox={name:eog.name,component:eog,converter:eov,splitTextToNodes:function(t,n){return function(r){let i=eov.fromPrismic(t)(eoy);if(!i)return[r(n)];let o=n.split(eoy);return 1===o.length?n.length?[r(n)]:[i]:o.reduce((t,n,o)=>eob.isFirst(o)?eob.isEmptyLine(n)?t:[...t,r(n)]:eob.isEmptyLine(n)?[...t,i]:[...t,i,r(n)],[])}}},eo_=eeX.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new Yb({key:new YS("placeholder"),props:{decorations:({doc:t,selection:n})=>{let r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=n,o=[];if(!r)return null;let a=t.type.createAndFill(),u=(null==a?void 0:a.sameMarkup(t))&&null===a.content.findDiffStart(t.content);return t.descendants((t,n)=>{let r=i>=n&&i<=n+t.nodeSize,a=!t.isLeaf&&!t.childCount;if((r||!this.options.showOnlyCurrent)&&a){let s=[this.options.emptyNodeClass];u&&s.push(this.options.emptyEditorClass);let c=XR.node(n,n+t.nodeSize,{class:s.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:n,hasAnchor:r}):this.options.placeholder});o.push(c)}return this.options.includeChildren}),Xj.create(t,o)}}})]}}),eoS=t=>eo_.configure({includeChildren:!0,placeholder:n=>(function({props:t,params:n}){var r;let{editor:i,hasAnchor:o,node:a}=t,{placeholderByNodeType:u,unfocusedPlaceholder:s,nodeExtensions:c}=n,l=!eou.children.exists(i.state.doc,t=>t===a),f=i.isEditable,d=i.isFocused&&o,p=a.type.name!==eul.name,h=d||p||l,m=c.length>1,g=function(){if(l)return eof.placeholder;let t=u[a.type.name];return"string"==typeof t?t:null==t?void 0:t(a.attrs)}();return s&&!d&&i.isEmpty?s:("Type '/' for commands"===g?f&&h&&m:f&&h)&&g||""})({props:n,params:t}),showOnlyCurrent:!1,showOnlyWhenEditable:!1});function eoT(t){return t.split("-")[1]}function eow(t){return"y"===t?"height":"width"}function eoO(t){return t.split("-")[0]}function eoI(t){return["top","bottom"].includes(eoO(t))?"x":"y"}function eok(t,n,r){let{reference:i,floating:o}=t,a=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,s=eoI(n),c=eow(s),l=i[c]/2-o[c]/2,f=eoO(n),d="x"===s,p;switch(f){case"top":p={x:a,y:i.y-o.height};break;case"bottom":p={x:a,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:u};break;case"left":p={x:i.x-o.width,y:u};break;default:p={x:i.x,y:i.y}}switch(eoT(n)){case"start":p[s]-=l*(r&&d?-1:1);break;case"end":p[s]+=l*(r&&d?-1:1)}return p}let eoM=async(t,n,r)=>{let{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:u}=r,s=a.filter(Boolean),c=await (null==u.isRTL?void 0:u.isRTL(n)),l=await u.getElementRects({reference:t,floating:n,strategy:o}),{x:f,y:d}=eok(l,i,c),p=i,h={},m=0;for(let g=0;g<s.length;g++){let{name:y,fn:v}=s[g],{x:b,y:x,data:_,reset:S}=await v({x:f,y:d,initialPlacement:i,placement:p,strategy:o,middlewareData:h,rects:l,platform:u,elements:{reference:t,floating:n}});if(f=b??f,d=x??d,h={...h,[y]:{...h[y],..._}},S&&m<=50){m++,"object"==typeof S&&(S.placement&&(p=S.placement),S.rects&&(l=!0===S.rects?await u.getElementRects({reference:t,floating:n,strategy:o}):S.rects),{x:f,y:d}=eok(l,p,c)),g=-1;continue}}return{x:f,y:d,placement:p,strategy:o,middlewareData:h}};function eoC(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function eoR(t,n){var r,i,o;void 0===n&&(n={});let{x:a,y:u,platform:s,rects:c,elements:l,strategy:f}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=n,y="number"!=typeof g?{top:0,right:0,bottom:0,left:0,...g}:{top:g,right:g,bottom:g,left:g},v=l[m?"floating"===h?"reference":"floating":h],b=eoC(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(v)))||r?v:v.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:f})),x="floating"===h?{...c.floating,x:a,y:u}:c.reference,_=await (null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),S=await (null==s.isElement?void 0:s.isElement(_))&&await (null==s.getScale?void 0:s.getScale(_))||{x:1,y:1},T=eoC(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:_,strategy:f}):x);return{top:(b.top-T.top+y.top)/S.y,bottom:(T.bottom-b.bottom+y.bottom)/S.y,left:(b.left-T.left+y.left)/S.x,right:(T.right-b.right+y.right)/S.x}}let eoE=Math.min,eoA=Math.max;function eoj(t,n,r){return eoA(t,eoE(n,r))}let eoN={left:"right",right:"left",bottom:"top",top:"bottom"};function eoP(t){return t.replace(/left|right|bottom|top/g,t=>eoN[t])}let eoF={start:"end",end:"start"};function eoL(t){return t.replace(/start|end/g,t=>eoF[t])}async function eoD(t,n){let{placement:r,platform:i,elements:o}=t,a=await (null==i.isRTL?void 0:i.isRTL(o.floating)),u=eoO(r),s=eoT(r),c="x"===eoI(r),l=["left","top"].includes(u)?-1:1,f=a&&c?-1:1,d="function"==typeof n?n(t):n,{mainAxis:p,crossAxis:h,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof m&&(h="end"===s?-1*m:m),c?{x:h*f,y:p*l}:{x:p*l,y:h*f}}function eoW(t){return"x"===t?"y":"x"}function eoU(t){var n;return(null==(n=t.ownerDocument)?void 0:n.defaultView)||window}function eoz(t){return eoU(t).getComputedStyle(t)}let eoB=Math.min,eoq=Math.max,eoK=Math.round;function eo$(t){let n=eoz(t),r=parseFloat(n.width),i=parseFloat(n.height),o=t.offsetWidth,a=t.offsetHeight,u=eoK(r)!==o||eoK(i)!==a;return u&&(r=o,i=a),{width:r,height:i,fallback:u}}function eoV(t){return eoY(t)?(t.nodeName||"").toLowerCase():""}let eoH;function eoZ(){if(eoH)return eoH;let t=navigator.userAgentData;return t&&Array.isArray(t.brands)?eoH=t.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function eoJ(t){return t instanceof eoU(t).HTMLElement}function eoG(t){return t instanceof eoU(t).Element}function eoY(t){return t instanceof eoU(t).Node}function eoQ(t){if(typeof ShadowRoot>"u")return!1;let n=eoU(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function eoX(t){let{overflow:n,overflowX:r,overflowY:i,display:o}=eoz(t);return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(o)}function eo0(t){return["table","td","th"].includes(eoV(t))}function eo1(t){let n=/firefox/i.test(eoZ()),r=eoz(t),i=r.backdropFilter||r.WebkitBackdropFilter;return"none"!==r.transform||"none"!==r.perspective||!!i&&"none"!==i||n&&"filter"===r.willChange||n&&!!r.filter&&"none"!==r.filter||["transform","perspective"].some(t=>r.willChange.includes(t))||["paint","layout","strict","content"].some(t=>{let n=r.contain;return null!=n&&n.includes(t)})}function eo2(){return/^((?!chrome|android).)*safari/i.test(eoZ())}function eo3(t){return["html","body","#document"].includes(eoV(t))}function eo5(t){return eoG(t)?t:t.contextElement}let eo4={x:1,y:1};function eo9(t){let n=eo5(t);if(!eoJ(n))return eo4;let r=n.getBoundingClientRect(),{width:i,height:o,fallback:a}=eo$(n),u=(a?eoK(r.width):r.width)/i,s=(a?eoK(r.height):r.height)/o;return u&&Number.isFinite(u)||(u=1),s&&Number.isFinite(s)||(s=1),{x:u,y:s}}function eo6(t,n,r,i){var o,a;void 0===n&&(n=!1),void 0===r&&(r=!1);let u=t.getBoundingClientRect(),s=eo5(t),c=eo4;n&&(i?eoG(i)&&(c=eo9(i)):c=eo9(t));let l=s?eoU(s):window,f=eo2()&&r,d=(u.left+(f&&(null==(o=l.visualViewport)?void 0:o.offsetLeft)||0))/c.x,p=(u.top+(f&&(null==(a=l.visualViewport)?void 0:a.offsetTop)||0))/c.y,h=u.width/c.x,m=u.height/c.y;if(s){let g=eoU(s),y=i&&eoG(i)?eoU(i):i,v=g.frameElement;for(;v&&i&&y!==g;){let b=eo9(v),x=v.getBoundingClientRect(),_=getComputedStyle(v);x.x+=(v.clientLeft+parseFloat(_.paddingLeft))*b.x,x.y+=(v.clientTop+parseFloat(_.paddingTop))*b.y,d*=b.x,p*=b.y,h*=b.x,m*=b.y,d+=x.x,p+=x.y,v=eoU(v).frameElement}}return{width:h,height:m,top:p,right:d+h,bottom:p+m,left:d,x:d,y:p}}function eo8(t){return((eoY(t)?t.ownerDocument:t.document)||window.document).documentElement}function eo7(t){return eoG(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function eae(t){return eo6(eo8(t)).left+eo7(t).scrollLeft}function eat(t){if("html"===eoV(t))return t;let n=t.assignedSlot||t.parentNode||eoQ(t)&&t.host||eo8(t);return eoQ(n)?n.host:n}function ean(t,n){var r;void 0===n&&(n=[]);let i=function t(n){let r=eat(n);return eo3(r)?r.ownerDocument.body:eoJ(r)&&eoX(r)?r:t(r)}(t),o=i===(null==(r=t.ownerDocument)?void 0:r.body),a=eoU(i);return o?n.concat(a,a.visualViewport||[],eoX(i)?i:[]):n.concat(i,ean(i))}function ear(t,n,r){let i;if("viewport"===n)i=function(t,n){let r=eoU(t),i=eo8(t),o=r.visualViewport,a=i.clientWidth,u=i.clientHeight,s=0,c=0;if(o){a=o.width,u=o.height;let l=eo2();(!l||l&&"fixed"===n)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:a,height:u,x:s,y:c}}(t,r);else if("document"===n)i=function(t){let n=eo8(t),r=eo7(t),i=t.ownerDocument.body,o=eoq(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),a=eoq(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight),u=-r.scrollLeft+eae(t),s=-r.scrollTop;return"rtl"===eoz(i).direction&&(u+=eoq(n.clientWidth,i.clientWidth)-o),{width:o,height:a,x:u,y:s}}(eo8(t));else if(eoG(n))i=function(t,n){let r=eo6(t,!0,"fixed"===n),i=r.top+t.clientTop,o=r.left+t.clientLeft,a=eoJ(t)?eo9(t):{x:1,y:1},u=t.clientWidth*a.x,s=t.clientHeight*a.y,c=o*a.x,l=i*a.y;return{width:u,height:s,x:c,y:l}}(n,r);else{let o={...n};if(eo2()){var a,u;let s=eoU(t);o.x-=(null==(a=s.visualViewport)?void 0:a.offsetLeft)||0,o.y-=(null==(u=s.visualViewport)?void 0:u.offsetTop)||0}i=o}return eoC(i)}function eai(t,n){return eoJ(t)&&"fixed"!==eoz(t).position?n?n(t):t.offsetParent:null}function eao(t,n){let r=eoU(t),i=eai(t,n);for(;i&&eo0(i)&&"static"===eoz(i).position;)i=eai(i,n);return i&&("html"===eoV(i)||"body"===eoV(i)&&"static"===eoz(i).position&&!eo1(i))?r:i||function(t){let n=eat(t);for(;eoJ(n)&&!eo3(n);){if(eo1(n))return n;n=eat(n)}return null}(t)||r}let eaa={getClippingRect:function(t){let{element:n,boundary:r,rootBoundary:i,strategy:o}=t,a=[..."clippingAncestors"===r?function(t,n){let r=n.get(t);if(r)return r;let i=ean(t).filter(t=>eoG(t)&&"body"!==eoV(t)),o=null,a="fixed"===eoz(t).position,u=a?eat(t):t;for(;eoG(u)&&!eo3(u);){let s=eoz(u),c=eo1(u);"fixed"===s.position?o=null:(a?c||o:!(!c&&"static"===s.position&&o&&["absolute","fixed"].includes(o.position)))?o=s:i=i.filter(t=>t!==u),u=eat(u)}return n.set(t,i),i}(n,this._c):[].concat(r),i],u=a[0],s=a.reduce((t,r)=>{let i=ear(n,r,o);return t.top=eoq(i.top,t.top),t.right=eoB(i.right,t.right),t.bottom=eoB(i.bottom,t.bottom),t.left=eoq(i.left,t.left),t},ear(n,u,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:r,strategy:i}=t,o=eoJ(r),a=eo8(r);if(r===a)return n;let u={scrollLeft:0,scrollTop:0},s={x:1,y:1},c={x:0,y:0};if((o||!o&&"fixed"!==i)&&(("body"!==eoV(r)||eoX(a))&&(u=eo7(r)),eoJ(r))){let l=eo6(r);s=eo9(r),c.x=l.x+r.clientLeft,c.y=l.y+r.clientTop}return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-u.scrollLeft*s.x+c.x,y:n.y*s.y-u.scrollTop*s.y+c.y}},isElement:eoG,getDimensions:function(t){return eoJ(t)?eo$(t):t.getBoundingClientRect()},getOffsetParent:eao,getDocumentElement:eo8,getScale:eo9,async getElementRects(t){let{reference:n,floating:r,strategy:i}=t,o=this.getOffsetParent||eao,a=this.getDimensions;return{reference:function(t,n,r){let i=eoJ(n),o=eo8(n),a=eo6(t,!0,"fixed"===r,n),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(i||!i&&"fixed"!==r){if(("body"!==eoV(n)||eoX(o))&&(u=eo7(n)),eoJ(n)){let c=eo6(n,!0);s.x=c.x+n.clientLeft,s.y=c.y+n.clientTop}else o&&(s.x=eae(o))}return{x:a.left+u.scrollLeft-s.x,y:a.top+u.scrollTop-s.y,width:a.width,height:a.height}}(n,await o(r),i),floating:{x:0,y:0,...await a(r)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===eoz(t).direction};function eau(t,n,r,i){void 0===i&&(i={});let{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=!0,animationFrame:s=!1}=i,c=o&&!s,l=c||a?[...eoG(t)?ean(t):t.contextElement?ean(t.contextElement):[],...ean(n)]:[];l.forEach(t=>{c&&t.addEventListener("scroll",r,{passive:!0}),a&&t.addEventListener("resize",r)});let f=null;if(u){let d=!0;f=new ResizeObserver(()=>{d||r(),d=!1}),eoG(t)&&!s&&f.observe(t),eoG(t)||!t.contextElement||s||f.observe(t.contextElement),f.observe(n)}let p,h=s?eo6(t):null;return s&&function n(){let i=eo6(t);h&&(i.x!==h.x||i.y!==h.y||i.width!==h.width||i.height!==h.height)&&r(),h=i,p=requestAnimationFrame(n)}(),r(),()=>{var t;l.forEach(t=>{c&&t.removeEventListener("scroll",r),a&&t.removeEventListener("resize",r)}),null==(t=f)||t.disconnect(),f=null,s&&cancelAnimationFrame(p)}}let eas=(t,n,r)=>{let i=new Map,o={platform:eaa,...r},a={...o.platform,_c:i};return eoM(t,n,{...o,platform:a})};var eac="u">typeof document?c.useLayoutEffect:c.useEffect;function eal(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if("function"==typeof t&&t.toString()===n.toString())return!0;let r,i,o;if(t&&n&&"object"==typeof t){if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!eal(t[i],n[i]))return!1;return!0}if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){let a=o[i];if(!("_owner"===a&&t.$$typeof)&&!eal(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}function eaf(t){let n=c.useRef(t);return eac(()=>{n.current=t}),n}var ead="u">typeof document?c.useLayoutEffect:c.useEffect;let eap=!1,eah=0,eam=()=>"floating-ui-"+eah++,eag=(zy||(zy=r.t(c,2)))["useId".toString()],eay=eag??function(){let[t,n]=c.useState(()=>eap?eam():void 0);return ead(()=>{null==t&&n(eam())},[]),c.useEffect(()=>{eap||(eap=!0)},[]),t},eav=c.createContext(null),eab=c.createContext(null),eax=()=>{var t,n;return null!=(t=null==(n=c.useContext(eav))?void 0:n.id)?t:null},ea_=()=>c.useContext(eab);function eaS(t){var n;return null!=(n=null==t?void 0:t.ownerDocument)?n:document}function eaT(t){var n;return null!=(n=eaS(t).defaultView)?n:window}function eaw(t){return!!t&&t instanceof eaT(t).Element}let eaO=(zy||(zy=r.t(c,2)))["useInsertionEffect".toString()];function eaI(t){let n=c.useRef(()=>{});return eaO?eaO(()=>{n.current=t}):n.current=t,c.useCallback(function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return null==n.current?void 0:n.current(...r)},[])}function eak(t,n,r){let i=new Map;return{..."floating"===r&&{tabIndex:-1},...t,...n.map(t=>t?t[r]:null).concat(t).reduce((t,n)=>(n&&Object.entries(n).forEach(n=>{let[r,o]=n;if(0===r.indexOf("on")){if(i.has(r)||i.set(r,[]),"function"==typeof o){var a;null==(a=i.get(r))||a.push(o),t[r]=function(){for(var t,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];null==(t=i.get(r))||t.forEach(t=>t(...o))}}}else t[r]=o}),t),{})}}function eaM(t,n){var r,i;let o=null!=(r=t.filter(t=>{var r;return t.parentId===n&&(null==(r=t.context)?void 0:r.open)}))?r:[],a=o;for(;a.length;)a=null!=(i=t.filter(t=>{var n;return null==(n=a)?void 0:n.some(n=>{var r;return t.parentId===n.id&&(null==(r=t.context)?void 0:r.open)})}))?i:[],o=o.concat(a);return o}function eaC(t){let n=t.activeElement;for(;(null==(r=n)||null==(i=r.shadowRoot)?void 0:i.activeElement)!=null;){var r,i;n=n.shadowRoot.activeElement}return n}function eaR(t){t.preventDefault(),t.stopPropagation()}function eaE(t){let n=(0,c.useRef)();return ead(()=>{n.current=t},[t]),n.current}let eaA=function(t,n){let{open:r}=t,{enabled:i=!0,role:o="dialog"}=void 0===n?{}:n,a=eay(),u=eay(),s={id:a,role:o};return i?"tooltip"===o?{reference:{"aria-describedby":r?a:void 0},floating:s}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":r?a:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:u}},floating:{...s,..."menu"===o&&{"aria-labelledby":u}}}:{}};function eaj(t,n){return null!=n&&("composedPath"in t?t.composedPath().includes(n):null!=t.target&&n.contains(t.target))}let eaN=function(t,n){let{open:r,onOpenChange:i,refs:o,events:a,nodeId:u}=t,{enabled:s=!0,escapeKey:l=!0,outsidePointerDown:f=!0,referencePointerDown:d=!1,ancestorScroll:p=!1,bubbles:h=!0}=void 0===n?{}:n,m=ea_(),g=null!=eax(),y=c.useRef(!1);return c.useEffect(()=>{if(!r||!s)return;function t(t){"Escape"!==t.key||!h&&m&&eaM(m.nodesRef.current,u).length>0||(a.emit("dismiss",{preventScroll:!1}),i(!1))}function n(t){var n,r;let s=y.current;if(y.current=!1,s)return;let c="composedPath"in t?t.composedPath()[0]:t.target;if(eaw(c)&&o.floating.current){let l=null!=(r=o.floating.current.ownerDocument.defaultView)?r:window,f=c.scrollWidth>c.clientWidth,d=c.scrollHeight>c.clientHeight,p=d&&t.offsetX>c.clientWidth;if(d&&"rtl"===l.getComputedStyle(c).direction&&(p=t.offsetX<=c.offsetWidth-c.clientWidth),p||f&&t.offsetY>c.clientHeight)return}let v=m&&eaM(m.nodesRef.current,u).some(n=>{var r;return eaj(t,null==(r=n.context)?void 0:r.refs.floating.current)});eaj(t,o.floating.current)||eaj(t,o.domReference.current)||v||!h&&m&&eaM(m.nodesRef.current,u).length>0||(a.emit("dismiss",!!g&&{preventScroll:!0}),i(!1))}function c(){i(!1)}let d=eaS(o.floating.current);l&&d.addEventListener("keydown",t),f&&d.addEventListener("pointerdown",n);let v=(p?[...eaw(o.reference.current)?ean(o.reference.current):[],...eaw(o.floating.current)?ean(o.floating.current):[]]:[]).filter(t=>{var n;return t!==(null==(n=d.defaultView)?void 0:n.visualViewport)});return v.forEach(t=>t.addEventListener("scroll",c,{passive:!0})),()=>{l&&d.removeEventListener("keydown",t),f&&d.removeEventListener("pointerdown",n),v.forEach(t=>t.removeEventListener("scroll",c))}},[l,f,a,m,u,r,i,p,s,h,o,g]),s?{reference:{onPointerDown(){d&&(a.emit("dismiss"),i(!1))}},floating:{onPointerDownCapture(){y.current=!0}}}:{}},eaP="ArrowUp",eaF="ArrowDown",eaL="ArrowLeft",eaD="ArrowRight";function eaW(t,n,r){return Math.floor(t/n)!==r}function eaU(t,n){return n<0||n>=t.current.length}function eaz(t,n){let{startingIndex:r=-1,decrement:i=!1,disabledIndices:o,amount:a=1}=void 0===n?{}:n,u=t.current,s=r;do{var c,l;s+=i?-a:a}while(s>=0&&s<=u.length-1&&(o?o.includes(s):null==u[s]||null!=(c=u[s])&&c.hasAttribute("disabled")||(null==(l=u[s])?void 0:l.getAttribute("aria-disabled"))==="true"));return s}function eaB(t,n,r){switch(t){case"vertical":return n;case"horizontal":return r;default:return n||r}}function eaq(t,n){return eaB(n,t===eaP||t===eaF,t===eaL||t===eaD)}function eaK(t,n,r){return eaB(n,t===eaF,r?t===eaL:t===eaD)||"Enter"===t||" "==t||""===t}function ea$(t,n){return eaz(t,{disabledIndices:n})}function eaV(t,n){return eaz(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:n})}let eaH=function(t,n){let{open:r,onOpenChange:i,refs:o}=t,{listRef:a,activeIndex:u,onNavigate:s=()=>{},enabled:l=!0,selectedIndex:f=null,allowEscape:d=!1,loop:p=!1,nested:h=!1,rtl:m=!1,virtual:g=!1,focusItemOnOpen:y="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:b=!0,disabledIndices:x,orientation:_="vertical",cols:S=1}=void 0===n?{listRef:{current:[]},activeIndex:null,onNavigate(){}}:n,T=eax(),w=ea_(),O=eaE(r),I=eaI(s),k=eaI(eaE(s)),M=c.useRef(y),C=c.useRef(f??-1),R=c.useRef(null),E=function(t){let n=(0,c.useRef)(t);return ead(()=>{n.current=t}),n}(x),A=c.useRef(!1),j=c.useRef(-1),[N,P]=c.useState(),F=c.useCallback((t,n)=>{j.current=requestAnimationFrame(()=>{var r,i;g?P(null==(r=t.current[n.current])?void 0:r.id):null==(i=t.current[n.current])||i.focus({preventScroll:!0})})},[g]);function L(t){var n,u,s,c;if(A.current=!0,h&&(n=t.key,eaB(_,m?n===eaD:n===eaL,n===eaP))){eaR(t),i(!1),(c=o.domReference.current)&&c instanceof eaT(c).HTMLElement&&o.domReference.current.focus();return}let l=C.current,f=ea$(a,x),y=eaV(a,x);if("Home"===t.key&&(C.current=f,I(C.current)),"End"===t.key&&(C.current=y,I(C.current)),S>1){let v=C.current;if(t.key===eaP){if(eaR(t),-1===v)C.current=y;else if(C.current=eaz(a,{startingIndex:v,amount:S,decrement:!0,disabledIndices:x}),p&&(v-S<f||C.current<0)){let b=v%S,T=y%S,w=y-(T-b);T===b?C.current=y:C.current=T>b?w:w-S}eaU(a,C.current)&&(C.current=v),I(C.current)}if(t.key===eaF&&(eaR(t),-1===v?C.current=f:(C.current=eaz(a,{startingIndex:v,amount:S,disabledIndices:x}),p&&v+S>y&&(C.current=eaz(a,{startingIndex:v%S-S,amount:S,disabledIndices:x}))),eaU(a,C.current)&&(C.current=v),I(C.current)),"both"===_){let O=Math.floor(v/S);t.key===eaD&&(eaR(t),v%S!=S-1?(C.current=eaz(a,{startingIndex:v,disabledIndices:x}),p&&eaW(C.current,S,O)&&(C.current=eaz(a,{startingIndex:v-v%S-1,disabledIndices:x}))):p&&(C.current=eaz(a,{startingIndex:v-v%S-1,disabledIndices:x})),eaW(C.current,S,O)&&(C.current=v)),t.key===eaL&&(eaR(t),v%S!=0?(C.current=eaz(a,{startingIndex:v,disabledIndices:x,decrement:!0}),p&&eaW(C.current,S,O)&&(C.current=eaz(a,{startingIndex:v+(S-v%S),decrement:!0,disabledIndices:x}))):p&&(C.current=eaz(a,{startingIndex:v+(S-v%S),decrement:!0,disabledIndices:x})),eaW(C.current,S,O)&&(C.current=v)),eaU(a,C.current)&&(p&&Math.floor(y/S)===O?C.current=t.key===eaL?y:eaz(a,{startingIndex:v-v%S-1,disabledIndices:x}):C.current=v),I(C.current);return}}if(eaq(t.key,_)){if(eaR(t),r&&!g&&eaC(t.currentTarget.ownerDocument)===t.currentTarget){C.current=eaK(t.key,_,m)?f:y,I(C.current);return}eaK(t.key,_,m)?p?C.current=l>=y?d&&l!==a.current.length?-1:f:eaz(a,{startingIndex:l,disabledIndices:x}):C.current=Math.min(y,eaz(a,{startingIndex:l,disabledIndices:x})):p?C.current=l<=f?d&&-1!==l?a.current.length:y:eaz(a,{startingIndex:l,decrement:!0,disabledIndices:x}):C.current=Math.max(f,eaz(a,{startingIndex:l,decrement:!0,disabledIndices:x})),eaU(a,C.current)?I(null):I(C.current)}}return ead(()=>{l&&(!O&&r&&M.current&&null!=f&&I(f),O&&!r&&(cancelAnimationFrame(j.current),C.current=-1,k(null)))},[r,O,f,a,F,l,I,k]),ead(()=>{l&&r&&(null==u?null==f&&(O&&(C.current=-1,F(a,C)),!O&&M.current&&(null!=R.current||!0===M.current&&null==R.current)&&(C.current=null==R.current||eaK(R.current,_,m)||h?ea$(a,E.current):eaV(a,E.current),I(C.current),F(a,C))):eaU(a,u)||(C.current=u,F(a,C)))},[r,O,u,f,h,a,I,F,l,d,_,m,g,E]),ead(()=>{if(l&&!r&&O){var t,n;let i=null==w||null==(t=w.nodesRef.current.find(t=>t.id===T))||null==(n=t.context)?void 0:n.refs.floating.current;i&&!i.contains(eaC(eaS(i)))&&i.focus({preventScroll:!0})}},[l,r,O,w,T]),ead(()=>{R.current=null}),l?{reference:{...g&&r&&null!=u&&{"aria-activedescendant":N},onKeyDown(t){if(A.current=!0,g&&r)return L(t);if((0===t.key.indexOf("Arrow")||"Enter"===t.key||" "===t.key||""===t.key)&&(R.current=t.key),h){var n,o,u;n=t.key,eaB(_,m?n===eaL:n===eaD,n===eaF)&&(eaR(t),r?(C.current=ea$(a,x),I(C.current)):i(!0));return}eaq(t.key,_)&&(null!=f&&(C.current=f),eaR(t),!r&&b?i(!0):L(t),r&&I(C.current))}},floating:{"aria-orientation":"both"===_?void 0:_,...g&&null!=u&&{"aria-activedescendant":N},onKeyDown:L,onPointerMove(){A.current=!1}},item:{onFocus(t){let{currentTarget:n}=t,r=a.current.indexOf(n);-1!==r&&I(r)},onClick(t){let{currentTarget:n}=t;return n.focus({preventScroll:!0})},...v&&{onMouseMove(t){let{currentTarget:n}=t;if(n){let r=a.current.indexOf(n);-1!==r&&I(r)}},onPointerLeave(){if(!A.current&&(C.current=-1,F(a,C),I(null),!g)){var t;null==(t=o.floating.current)||t.focus({preventScroll:!0})}}}}}:{}},eaZ=new YS("suggestion");function eaJ(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=eaJ(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}function eaG(){for(var t,n,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(n=eaJ(t))&&(i&&(i+=" "),i+=n);return i}let eaY=en_.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eaQ={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"},eaX=()=>(++eaX.i).toString();eaX.i=0;let ea0=t=>{let n=ea3(t),r=[];for(let i=0;i<n.length;i++)r.push(ea5(n[i]));return{key:eaX(),children:r}},ea1=(t,n=[])=>({key:eaX(),type:t.type,text:"text"in t?t.text:void 0,node:t,children:n}),ea2=t=>ea1({type:eaQ.span,text:t,spans:[]}),ea3=t=>{let n=t.slice(0);for(let r=0;r<n.length;r++){let i=n[r];if(i.type===eaQ.listItem||i.type===eaQ.oListItem){let o=[i];for(;n[r+1]&&n[r+1].type===i.type;)o.push(n[r+1]),n.splice(r,1);i.type===eaQ.listItem?n[r]={type:eaQ.list,items:o}:n[r]={type:eaQ.oList,items:o}}}return n},ea5=t=>{if("text"in t)return ea1(t,ea4(t.spans,t));if("items"in t){let n=[];for(let r=0;r<t.items.length;r++)n.push(ea5(t.items[r]));return ea1(t,n)}return ea1(t)},ea4=(t,n,r)=>{if(!t.length)return[ea2(n.text)];let i=t.slice(0);i.sort((t,n)=>t.start-n.start||n.end-t.end);let o=[];for(let a=0;a<i.length;a++){let u=i[a],s=r&&r.start||0,c=u.start-s,l=u.end-s,f=n.text.slice(c,l),d=[];for(let p=a;p<i.length;p++){let h=i[p];h!==u&&h.start>=u.start&&h.end<=u.end&&(d.push(h),i.splice(p,1),p--)}0===a&&c>0&&o.push(ea2(n.text.slice(0,c)));let m={...u,text:f};o.push(ea1(m,ea4(d,{...n,text:f},u))),l<n.text.length&&o.push(ea2(n.text.slice(l,i[a+1]?i[a+1].start-s:void 0)))}return o},ea9=(t,n)=>ea6(ea0(t).children,n),ea6=(t,n)=>{let r=[];for(let i=0;i<t.length;i++){let o=t[i],a=n(o.type,o.node,o.text,ea6(o.children,n),o.key);null!=a&&r.push(a)}return r};eaQ.listItem,eaQ.oListItem,eaQ.list,eaQ.oList;let ea8=en_.create({name:"text",group:"inline"}),ea7={groupBy:(t,n)=>t.reduce((t,r)=>{let i=n(r),o=(t.get(i)||[]).concat(r);return t.set(i,o)},new Map),sort:t=>[...t].sort((t,n)=>t.start-n.start),mergeOverlap(t){let n=this.groupBy(t,t=>t.type),r=Array.from(n.entries()).map(([t,n])=>(this.sort(n).reduce((t,n)=>{if(!t.length)return[n];let r=t.length-1,i=t[r];return i.end>=n.start?[...t.slice(0,r),{...i,end:n.end}]:[...t,n]},[]),n)).reduce((t,n)=>[...t,...n],[]);return this.sort(r)}},eue={fromPrismic:t=>n=>{var r;return null==(r=euZ.find(t=>t.richTextNodeTypes[0]===n.type))?void 0:r.converter.fromPrismic(t)(n)},toPrismic(t,n,r){let[i,o]=(()=>{let n=euZ.find(n=>t.type.name===n.name);if(!n)throw Error(`Invalid mark extension '${t.type.name}'.`);return[n.richTextNodeTypes[0],n.converter.toPrismic(t)]})();return{type:i,start:n,end:r,...o?{data:o}:{}}}},eut=ea8.extend({name:"text"}),eun={name:eut.name,component:eut,converter:{fromPrismic:t=>function(n,r,i=!1){let o={type:n,text:r.content.text,spans:r.content.spans||[]};return ea9([o],function(t,n=!1){return(r,i,o,a)=>{if("span"===r&&o&&o.length)return n?[t.text(o)]:eox.splitTextToNodes(t,o)(n=>t.text(n));{let u=eue.fromPrismic(t)(i);return u?lY(a).map(t=>t.mark([...t.marks,u].sort((t,n)=>t.type.name.localeCompare(n.type.name)))):lY(a)}}}(t,i))[0]},toPrismic(t,n,r){let i=eou.children.reduce(t,(t,n)=>{let r=n.type.name===eox.name?eox.converter.toPrismic(n):n.textContent,i=r?t.text+r:t.text,o=t.text.length,a=i.length,u=n.marks.length?eou.marks.map(n,t=>eue.toPrismic(t,o,a)):void 0;return{...t,text:i,spans:u?[...t.spans,...u]:t.spans}},{text:"",spans:[]});return{type:n,content:{text:i.text,spans:[...ea7.mergeOverlap(i.spans)].sort((t,n)=>t.type.localeCompare(n.type))},...r}}}};var eur,eui=((eur=eui||{}).LeftToRight="ltr",eur.RightToLeft="rtl",eur);let euo=eiP.RichTextNodeType.rtl,eua=eeX.create({name:"textDirection",addOptions:()=>({supportedExtensionNames:[]}),addGlobalAttributes(){return[{types:this.options.supportedExtensionNames,attributes:{dir:{default:"ltr",parseHTML:t=>t.getAttribute("dir"),renderHTML:t=>({dir:"ltr"===t.dir?"ltr":"rtl"})}}}]},addCommands(){return{setDirection:t=>({commands:n})=>"rtl"===t?n.setRightToLeft():n.setLeftToRight(),toggleDirection:t=>({commands:n})=>n.setDirection("rtl"===t?"ltr":"rtl"),setRightToLeft:()=>({commands:t})=>this.options.supportedExtensionNames.every(n=>t.updateAttributes(n,{dir:"rtl"})),setLeftToRight:()=>({commands:t})=>this.options.supportedExtensionNames.every(n=>t.resetAttributes(n,"dir"))}},addKeyboardShortcuts(){return{"Mod-Shift-r":()=>this.editor.commands.setRightToLeft(),"Mod-Shift-l":()=>this.editor.commands.setLeftToRight()}}}),euu={parseNodeAttrsDirection:t=>"rtl"===t.dir?"rtl":"ltr",fromPrismic(t){let n="rtl"===t.direction?"rtl":"ltr";return{dir:n}},toPrismic(t){return{direction:this.parseNodeAttrsDirection(t.attrs)}}},eus=eaY.extend({name:"paragraph",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",eeN(this.options.HTMLAttributes,t),0]}}),euc=new ei6([eiP.RichTextNodeType.paragraph],eus.name,eus,{fromPrismic:t=>function(n){var r;let i=eun.converter.fromPrismic(t)(eus.name,n);return null==(r=t.nodes[eus.name])?void 0:r.create(euu.fromPrismic(n),i)},toPrismic:t=>eun.converter.toPrismic(t,eiP.RichTextNodeType.paragraph,euu.toPrismic(t))},"Type '/' for commands"),eul=euc,euf=["ArrowDown","ArrowUp","End","Home"],eud=["Enter"],eup=["Escape",...euf,...eud],euh=eeX.create({name:"slash-commands",addOptions:()=>({nodeTypes:[]}),addProseMirrorPlugins(){let t=eu1(euG,this.options.nodeTypes);return t.length>1?[function({pluginKey:t=eaZ,editor:n,char:r="@",allowSpaces:i=!1,allowedPrefixes:o=[" "],startOfLine:a=!1,decorationTag:u="span",decorationClass:s="suggestion",command:c=()=>null,items:l=()=>[],render:f=()=>({}),allow:d=()=>!0}){let p,h=null==f?void 0:f(),m=new Yb({key:t,view(){return{update:async(t,r)=>{var i,o,a,u,s,f,d;let m=null===(i=this.key)||void 0===i?void 0:i.getState(r),g=null===(o=this.key)||void 0===o?void 0:o.getState(t.state),y=m.active&&g.active&&m.range.from!==g.range.from,v=!m.active&&g.active,b=m.active&&!g.active,x=!v&&!b&&m.query!==g.query,_=v||y,S=x&&!y,T=b||y;if(!_&&!S&&!T)return;let w=T&&!_?m:g,O=t.dom.querySelector(`[data-decoration-id="${w.decorationId}"]`);p={editor:n,range:w.range,query:w.query,text:w.text,items:[],command(t){c({editor:n,range:w.range,props:t})},decorationNode:O,clientRect:O?()=>{var r;let{decorationId:i}=null===(r=this.key)||void 0===r?void 0:r.getState(n.state),o=t.dom.querySelector(`[data-decoration-id="${i}"]`);return(null==o?void 0:o.getBoundingClientRect())||null}:null},_&&(null===(a=null==h?void 0:h.onBeforeStart)||void 0===a||a.call(h,p)),S&&(null===(u=null==h?void 0:h.onBeforeUpdate)||void 0===u||u.call(h,p)),(S||_)&&(p.items=await l({editor:n,query:w.query})),T&&(null===(s=null==h?void 0:h.onExit)||void 0===s||s.call(h,p)),S&&(null===(f=null==h?void 0:h.onUpdate)||void 0===f||f.call(h,p)),_&&(null===(d=null==h?void 0:h.onStart)||void 0===d||d.call(h,p))},destroy(){var t;p&&(null===(t=null==h?void 0:h.onExit)||void 0===t||t.call(h,p))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(t,u,s,c){let{isEditable:l}=n,{composing:f}=n.view,{selection:p}=t,{empty:h,from:m}=p,g={...u};if(g.composing=f,l&&(h||n.view.composing)){(m<u.range.from||m>u.range.to)&&!f&&!u.composing&&(g.active=!1);let y=function(t){var n,r;let{char:i,allowSpaces:o,allowedPrefixes:a,startOfLine:u,$position:s}=t,c=i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),l=RegExp(`\\s${c}$`),f=u?"^":"",d=o?RegExp(`${f}${c}.*?(?=\\s${c}|$)`,"gm"):RegExp(`${f}(?:^)?${c}[^\\s${c}]*`,"gm"),p=(null===(n=s.nodeBefore)||void 0===n?void 0:n.isText)&&s.nodeBefore.text;if(!p)return null;let h=s.pos-p.length,m=Array.from(p.matchAll(d)).pop();if(!m||void 0===m.input||void 0===m.index)return null;let g=m.input.slice(Math.max(0,m.index-1),m.index),y=RegExp(`^[${null==a?void 0:a.join("")}\0]?$`).test(g);if(null!==a&&!y)return null;let v=h+m.index,b=v+m[0].length;return o&&l.test(p.slice(b-1,b+1))&&(m[0]+=" ",b+=1),v<s.pos&&b>=s.pos?{range:{from:v,to:b},query:m[0].slice(i.length),text:m[0]}:null}({char:r,allowSpaces:i,allowedPrefixes:o,startOfLine:a,$position:p.$from}),v=`id_${Math.floor(4294967295*Math.random())}`;y&&d({editor:n,state:c,range:y.range})?(g.active=!0,g.decorationId=u.decorationId?u.decorationId:v,g.range=y.range,g.query=y.query,g.text=y.text):g.active=!1}else g.active=!1;return g.active||(g.decorationId=null,g.range={from:0,to:0},g.query=null,g.text=null),g}},props:{handleKeyDown(t,n){var r;let{active:i,range:o}=m.getState(t.state);return i&&(null===(r=null==h?void 0:h.onKeyDown)||void 0===r?void 0:r.call(h,{view:t,event:n,range:o}))||!1},decorations(t){let{active:n,range:r,decorationId:i}=m.getState(t);return n?Xj.create(t.doc,[XR.inline(r.from,r.to,{nodeName:u,class:s,"data-decoration-id":i})]):null}}});return m}({allowSpaces:!0,char:"/",editor:this.editor,startOfLine:!0,allow({state:t}){let n=t.selection.$from;return n.parent.type.name===eul.name&&1===n.depth},command({editor:t,props:n,range:r}){n.runCommands(t,{deleteRange:r})},items({query:n}){let r=n.toLocaleLowerCase().trim();return t.filter(t=>{var n,i;return(null==(n=t.shortText)?void 0:n.toLocaleLowerCase().includes(r))||(null==(i=t.text)?void 0:i.toLocaleLowerCase().includes(r))})},render(){let t;return{onStart(n){t=new eiA(eum,{editor:n.editor,props:n}),document.body.appendChild(t.element)},onUpdate(n){null==t||t.updateProps(n)},onKeyDown({event:n}){var r;return eup.includes(n.key)&&(null==(r=null==t?void 0:t.ref)?void 0:r.handleKeyDown(n))},onExit(){null==t||t.destroy(),null==t||t.element.remove()}}}})]:[]}}),eum=(0,c.forwardRef)(function({command:t,decorationNode:n,editor:r,items:i},o){var a,u,s,d,p;let[h,m]=(0,c.useState)(!0),g=parseFloat(l.TV.space[0]),{context:y,floating:b,reference:x,strategy:_,x:S,y:T}=function(t){let{open:n=!1,onOpenChange:r,whileElementsMounted:i,placement:o,middleware:a,strategy:u,nodeId:s}=void 0===t?{}:t,[l,d]=c.useState(null),p=ea_(),h=c.useRef(null),m=c.useRef({}),g=c.useState(()=>(function(){let t=new Map;return{emit(n,r){var i;null==(i=t.get(n))||i.forEach(t=>t(r))},on(n,r){t.set(n,[...t.get(n)||[],r])},off(n,r){t.set(n,(t.get(n)||[]).filter(t=>t!==r))}}})())[0],y=function(t){void 0===t&&(t={});let{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:o,whileElementsMounted:a,open:u}=t,[s,l]=c.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[d,p]=c.useState(i);eal(d,i)||p(i);let h=c.useRef(null),m=c.useRef(null),g=c.useRef(s),y=eaf(a),v=eaf(o),[b,x]=c.useState(null),[_,S]=c.useState(null),T=c.useCallback(t=>{h.current!==t&&(h.current=t,x(t))},[]),w=c.useCallback(t=>{m.current!==t&&(m.current=t,S(t))},[]),O=c.useCallback(()=>{if(!h.current||!m.current)return;let t={placement:n,strategy:r,middleware:d};v.current&&(t.platform=v.current),eas(h.current,m.current,t).then(t=>{let n={...t,isPositioned:!0};I.current&&!eal(g.current,n)&&(g.current=n,f.flushSync(()=>{l(n)}))})},[d,n,r,v]);eac(()=>{!1===u&&g.current.isPositioned&&(g.current.isPositioned=!1,l(t=>({...t,isPositioned:!1})))},[u]);let I=c.useRef(!1);eac(()=>(I.current=!0,()=>{I.current=!1}),[]),eac(()=>{if(b&&_){if(y.current)return y.current(b,_,O);O()}},[b,_,O,y]);let k=c.useMemo(()=>({reference:h,floating:m,setReference:T,setFloating:w}),[T,w]),M=c.useMemo(()=>({reference:b,floating:_}),[b,_]);return c.useMemo(()=>({...s,update:O,refs:k,elements:M,reference:T,floating:w}),[s,O,k,M,T,w])}({placement:o,middleware:a,strategy:u,whileElementsMounted:i}),v=eaI(r),b=c.useMemo(()=>({...y.refs,domReference:h}),[y.refs]),x=c.useMemo(()=>({...y,refs:b,dataRef:m,nodeId:s,events:g,open:n,onOpenChange:v,_:{domReference:l}}),[y,s,g,n,v,b,l]);ead(()=>{let t=null==p?void 0:p.nodesRef.current.find(t=>t.id===s);t&&(t.context=x)});let{reference:_}=y,S=c.useCallback(t=>{(eaw(t)||null===t)&&(x.refs.domReference.current=t,d(t)),_(t)},[_,x.refs]);return c.useMemo(()=>({...y,context:x,refs:b,reference:S}),[y,b,x,S])}({middleware:[(void 0===(a=g)&&(a=0),{name:"offset",options:a,async fn(t){let{x:n,y:r}=t,i=await eoD(t,a);return{x:n+i.x,y:r+i.y,data:i}}}),(void 0===u&&(u={}),{name:"flip",options:u,async fn(t){var n,r,i,o;let{placement:a,middlewareData:s,rects:c,initialPlacement:l,platform:f,elements:d}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...b}=u,x=eoO(a),_=eoO(l)===l,S=await (null==f.isRTL?void 0:f.isRTL(d.floating)),T=m||(_||!v?[eoP(l)]:function(t){let n=eoP(t);return[eoL(t),n,eoL(n)]}(l));m||"none"===y||T.push(...function(t,n,r,i){let o=eoT(t),a=function(t,n,r){let i=["left","right"],o=["right","left"];switch(t){case"top":case"bottom":return r?n?o:i:n?i:o;case"left":case"right":return n?["top","bottom"]:["bottom","top"];default:return[]}}(eoO(t),"start"===r,i);return o&&(a=a.map(t=>t+"-"+o),n&&(a=a.concat(a.map(eoL)))),a}(l,v,y,S));let w=await eoR(t,b),O=[],I=(null==(n=s.flip)?void 0:n.overflows)||[];if(p&&O.push(w[x]),h){let{main:k,cross:M}=function(t,n,r){void 0===r&&(r=!1);let i=eoT(t),o=eoI(t),a=eow(o),u="x"===o?i===(r?"end":"start")?"right":"left":"start"===i?"bottom":"top";return n.reference[a]>n.floating[a]&&(u=eoP(u)),{main:u,cross:eoP(u)}}(a,c,S);O.push(w[k],w[M])}if(I=[...I,{placement:a,overflows:O}],!O.every(t=>t<=0)){let C=((null==(r=s.flip)?void 0:r.index)||0)+1,R=[l,...T][C];if(R)return{data:{index:C,overflows:I},reset:{placement:R}};let E=null==(i=I.filter(t=>t.overflows[0]<=0).sort((t,n)=>t.overflows[1]-n.overflows[1])[0])?void 0:i.placement;if(!E)switch(g){case"bestFit":{let A=null==(o=I.map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,n)=>t+n,0)]).sort((t,n)=>t[1]-n[1])[0])?void 0:o[0];A&&(E=A);break}case"initialPlacement":E=l}if(a!==E)return{reset:{placement:E}}}return{}}}),(d={limiter:(void 0===s&&(s={}),{options:s,fn(t){let{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:u=0,mainAxis:c=!0,crossAxis:l=!0}=s,f={x:n,y:r},d=eoI(i),p=eoW(d),h=f[d],m=f[p],g="function"==typeof u?u(t):u,y="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){let v="y"===d?"height":"width",b=o.reference[d]-o.floating[v]+y.mainAxis,x=o.reference[d]+o.reference[v]-y.mainAxis;h<b?h=b:h>x&&(h=x)}if(l){var _,S;let T="y"===d?"width":"height",w=["top","left"].includes(eoO(i)),O=o.reference[p]-o.floating[T]+(w&&(null==(_=a.offset)?void 0:_[p])||0)+(w?0:y.crossAxis),I=o.reference[p]+o.reference[T]+(w?0:(null==(S=a.offset)?void 0:S[p])||0)-(w?y.crossAxis:0);m<O?m=O:m>I&&(m=I)}return{[d]:h,[p]:m}}})},{name:"shift",options:d,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn(t){let{x:n,y:r}=t;return{x:n,y:r}}},...s}=d,c={x:n,y:r},l=await eoR(t,s),f=eoI(eoO(i)),p=eoW(f),h=c[f],m=c[p];if(o){let g=h+l["y"===f?"top":"left"],y=h-l["y"===f?"bottom":"right"];h=eoj(g,h,y)}if(a){let v=m+l["y"===p?"top":"left"],b=m-l["y"===p?"bottom":"right"];m=eoj(v,m,b)}let x=u.fn({...t,[f]:h,[p]:m});return{...x,data:{x:x.x-n,y:x.y-r}}}})],onOpenChange:m,open:h,placement:"top-start",strategy:"fixed",whileElementsMounted:eau});(0,c.useLayoutEffect)(()=>{x(n)},[x,n]),(0,c.useEffect)(()=>{let t,n=()=>{t=window.setTimeout(()=>{m(!0)})},i=()=>{m(!1)};return r.on("focus",n).on("blur",i),()=>{r.off("focus",n).off("blur",i),clearTimeout(t)}},[r]);let[w,O]=(0,c.useState)(0),I=(0,c.useRef)([]),[k,M]=(0,c.useState)();i!==k&&(O(0),I.current=[],M(i));let{getFloatingProps:C,getItemProps:R,getReferenceProps:E}=(p=[eaN(y,{outsidePointerDown:!1}),eaH(y,{activeIndex:w,listRef:I,onNavigate(t){O(n=>t??n)},openOnArrowKeyDown:!1,virtual:!0}),eaA(y,{role:"menu"})],{getReferenceProps:t=>eak(t,p,"reference"),getFloatingProps:t=>eak(t,p,"floating"),getItemProps:t=>eak(t,p,"item")}),A=E().onKeyDown;(0,c.useImperativeHandle)(o,()=>({handleKeyDown(n){if(!h)return!1;if(euf.includes(n.key)&&A(n),eud.includes(n.key)){let r=i[w];void 0!==r&&t(r)}return!0}}),[w,t,i,A,h]);let j=(0,c.useId)();return h?v.jsxs("div",{...C(),className:l._s.content,ref:b,style:{top:parseFloat(l.TV.space[0]),left:parseFloat(l.TV.space[0]),minWidth:256,position:_,transform:null!==S&&null!==T?`translate3d(${Math.round(S)}px, ${Math.round(T)}px, 0)`:"translate3d(0, -200%, 0)"},children:[i.map((n,r)=>(0,c.createElement)(eug,{...R({onClick(){t(n)},onPointerDown(t){t.preventDefault()}}),"data-highlighted":r===w?"":void 0,id:`${j}[${r}]`,key:n.nodeType,ref(t){I.current[r]=t},shortcut:`/${n.shortText??""}`,startIcon:n.icon},n.text)),0===i.length?v.jsx(eug,{...R({onPointerDown(t){t.preventDefault()}}),disabled:!0,id:`${j}[0]`,ref(t){I.current[0]=t},children:"No results"}):null]}):null}),eug=(0,c.forwardRef)(function({children:t,disabled:n,shortcut:r,startIcon:i,...o},a){return v.jsxs("div",{...o,...n?{"aria-disabled":!0,"data-disabled":!0}:{},className:l._s.item,ref:a,role:"menuitem",children:[(0,c.isValidElement)(i)?(0,c.cloneElement)(i,{className:eaG(i.props.className,l._s.itemStartIcon)}):null,v.jsx(l.xv,{className:eaG(l._s.itemText,l._s.itemTextColor.grey),component:"span",children:t}),r?v.jsx(l.xv,{className:l._s.itemShortcut,color:"inherit",component:"span",variant:"inherit",children:r}):null]})}),euy=eoo.extend({name:"bulletList",parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",eeN(this.options.HTMLAttributes,t),0]}}).configure({itemTypeName:"listItem"}),euv=new ei7([eiP.RichTextNodeType.list],euy.name,euy,{fromPrismic:t=>function(n){var r;let i=eof.converter.fromPrismic(t)(n);if(i)return null==(r=t.nodes[euy.name])?void 0:r.create(euu.fromPrismic(n),i)},toPrismic:t=>sD(eou.children.map(t,t=>sB(t=>void 0!==t)(eof.converter.toPrismic(t,eiP.RichTextNodeType.list))))}),eub=euv,eux=/^```([a-z]+)?[\s\n]$/,eu_=/^~~~([a-z]+)?[\s\n]$/,euS=en_.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var n;let{languageClassPrefix:r}=this.options,i=[...(null===(n=t.firstElementChild)||void 0===n?void 0:n.classList)||[]].filter(t=>t.startsWith(r)).map(t=>t.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:n}){return["pre",eeN(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:n})=>n.setNode(this.name,t),toggleCodeBlock:t=>({commands:n})=>n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:n}=this.editor.state.selection,r=1===n.pos;return!!t&&n.parent.type.name===this.name&&(!!r||!n.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:n}=t,{selection:r}=n,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type)return!1;let a=i.parentOffset===i.parent.nodeSize-2,u=i.parent.textContent.endsWith(`

`);return!!a&&!!u&&t.chain().command(({tr:t})=>(t.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:n}=t,{selection:r,doc:i}=n,{$from:o,empty:a}=r;if(!a||o.parent.type!==this.type||o.parentOffset!==o.parent.nodeSize-2)return!1;let u=o.after();return!(void 0===u||i.nodeAt(u))&&t.commands.exitCode()}}},addInputRules(){return[env({find:eux,type:this.type,getAttributes:t=>({language:t[1]})}),env({find:eu_,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Yb({key:new YS("codeBlockVSCodeHandler"),props:{handlePaste:(t,n)=>{if(!n.clipboardData||this.editor.isActive(this.type.name))return!1;let r=n.clipboardData.getData("text/plain"),i=n.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,a=null==o?void 0:o.mode;if(!r||!a)return!1;let{tr:u}=t.state;return u.replaceSelectionWith(this.type.create({language:a})),u.setSelection(Yo.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.insertText(r.replace(/\r\n?/g,`
`)),u.setMeta("paste",!0),t.dispatch(u),!0}}})]}}),euT=euS.extend({name:"preformatted",addAttributes(){return{language:{default:null,parseHTML:t=>{var n;let{languageClassPrefix:r}=this.options,i=[...(null==(n=t.firstElementChild)?void 0:n.classList)||[]].filter(t=>t.startsWith(r)).map(t=>t.replace(r,""))[0];return i||null},renderHTML:t=>t.language?{class:this.options.languageClassPrefix+t.language}:null}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({HTMLAttributes:t}){return["pre",eeN(this.options.HTMLAttributes),["code",t,0]]}}).configure({exitOnTripleEnter:!1}),euw=new ei6([eiP.RichTextNodeType.preformatted],euT.name,euT,{fromPrismic:t=>function(n){var r;let i=eun.converter.fromPrismic(t)(euT.name,n,!0);return null==(r=t.nodes[euT.name])?void 0:r.create(euu.fromPrismic(n),i)},toPrismic:t=>eun.converter.toPrismic(t,eiP.RichTextNodeType.preformatted,euu.toPrismic(t))},"",!0);function euO(t){let n=(0,c.useRef)(null),r=(0,c.useRef)(null),{onKeyDown:i,url:o,urlChanged:a,onContentChange:u,debouncedUrl:s}=function(t,n,r){let{node:i}=t,o=i.attrs.content,[a,u]=(0,c.useState)((null==o?void 0:o.embed_url)??""),s=Vv(t.updateAttributes);function l(t){s({content:t})}let[f,d]=(0,c.useState)(a),p=(0,c.useCallback)(t=>(0,c.startTransition)(()=>d(t)),[]);Vx(a,300,p);let{onKeyDown:h}=function(t,n,r,i){let{editor:o,getPos:a,node:u}=t,[s,l]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{s&&t.editor.isFocused&&setTimeout(()=>{var t;return null==(t=r.current)?void 0:t.focus()})},[r,s,t.editor.isFocused]),{containerRef:i,inputRef:r,onKeyDown:function(t){let r=a(),i=a()+u.nodeSize;"Enter"===t.code&&(l(!1),o.chain().insertContentAt(i,{type:"paragraph"}).focus(i+1).run()),"Backspace"===t.code&&""===n&&o.chain().deleteRange({from:r,to:i}).focus(i+1).run(),"ArrowUp"===t.code&&(l(!1),o.chain().focus(r-1).run()),"ArrowDown"===t.code&&(l(!1),o.chain().focus(i+1).run())}}}(t,a,n,r);return{inputRef:n,containerRef:r,onKeyDown:h,url:a,urlChanged:function(t){u(t),VW(t)||l(void 0)},onContentChange:l,debouncedUrl:f}}(t,n,r);return v.jsx(eiE,{className:"custom-embed",children:v.jsx("div",{contentEditable:"false",suppressContentEditableWarning:!0,children:v.jsxs(l.xu,{flexDirection:"column",children:[v.jsxs(l.xu,{flexGrow:1,alignItems:"center",children:[v.jsx(l.I5,{size:"small",name:"cloud",color:"grey11"}),v.jsx(l.xu,{flexGrow:1,flexDirection:"column",ref:r,children:v.jsx(l.oi,{id:"id",ref:n,value:o,variant:VW(o)?"link":"normal",placeholder:"Paste your link here",onValueChange:a,onKeyDown:i})})]}),VW(o)&&v.jsx(ZI,{debouncedUrl:s,onContentChange:u})]})})})}let euI=en_.create({name:"embed",group:"block",content:"block*",atom:!0,marks:"",addAttributes:()=>({content:{default:void 0}}),addCommands(){return{setEmbed:()=>({tr:t,dispatch:n})=>{let r=this.type.create();return n&&t.replaceSelectionWith(r),!0}}},parseHTML:()=>[{tag:"embed"}],renderHTML:({HTMLAttributes:t})=>["embed",eeN(t)],addNodeView(){var t;return t=>t.editor.contentComponent?new eij(euO,t,void 0):{}}}),euk=new class{constructor(t,n,r,i){h(this,"extType","node"),h(this,"nodeType","embed"),this.richTextNodeTypes=t,this.name=n,this.component=r,this.converter=i}}([eiP.RichTextNodeType.embed],euI.name,euI,{fromPrismic:t=>function(n){var r;return null==(r=t.nodes[euI.name])?void 0:r.create({content:n.data})},toPrismic:t=>void 0===t.attrs.content?{type:"embed",data:{type:"embed",embed_url:"",__TYPE__:"EmbedContent",all:[]}}:{type:"embed",data:{...t.attrs.content}}}),euM=en_.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:n}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,eeN(this.options.HTMLAttributes,n),0]},addCommands(){return{setHeading:t=>({commands:n})=>!!this.options.levels.includes(t.level)&&n.setNode(this.name,t),toggleHeading:t=>({commands:n})=>!!this.options.levels.includes(t.level)&&n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,n)=>({...t,[`Mod-Alt-${n}`]:()=>this.editor.commands.toggleHeading({level:n})}),{})},addInputRules(){return this.options.levels.map(t=>env({find:RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),euC="heading",euR={byLevel(t){switch(t){case 1:return eiP.RichTextNodeType.heading1;case 2:return eiP.RichTextNodeType.heading2;case 3:return eiP.RichTextNodeType.heading3;case 4:return eiP.RichTextNodeType.heading4;case 5:return eiP.RichTextNodeType.heading5;case 6:return eiP.RichTextNodeType.heading6}},default(t){return{fullName:this.byLevel(t),level:t}},fromPrismic(t,n=[1,2,3,4,5,6]){let r=RegExp(`^heading([${n.join(",")}]){1}$`),i=t.match(r);if(!i||!i[1])return;let o=parseInt(i[1]);return{fullName:euR.byLevel(o),level:o}},fromProsemirror(t,n){let r=t.level;if(n.includes(r))return{fullName:euR.byLevel(r),level:r}}},euE=t=>euM.extend({name:euC,addAttributes:()=>({level:{default:t[0]},label:{default:null}}),addOptions:()=>({levels:[...t],HTMLAttributes:{}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`}))},renderHTML({node:t,HTMLAttributes:n}){let r=t.attrs.level,i={...t.attrs.label?{label:t.attrs.label}:{}};return[`h${r}`,eeN(this.options.HTMLAttributes,n,i),0]}}),euA=t=>{let n=t[0];return{fromPrismic:r=>function(i){var o;let a=eun.converter.fromPrismic(r)(euC,i),u=euR.fromPrismic(i.type,t)||euR.default(n);return null==(o=r.nodes[euC])?void 0:o.create({level:u.level,...euu.fromPrismic(i)},a)},toPrismic(r){let{fullName:i}=euR.fromProsemirror(r.attrs,t)||euR.default(n);return eun.converter.toPrismic(r,i,euu.toPrismic(r))}}},euj={name:euC,build(t){let n=function(t){if(!t)return[1,2,3,4,5,6];if(!t.size)return;let n=Array.from(t.values()).reduce((t,n)=>{let r=euR.fromPrismic(n);return r?[...t,r.level]:t},[]).sort((t,n)=>t-n);return D(tP(n),pS(()=>{}))}(t);if(!n)return;let r=tP(n.map(t=>euR.byLevel(t)));if(!px(r))return new ei8(r.value,euE(n),n,euA(n),t=>{let r=euR.fromProsemirror(t,n);return r&&`Heading ${r.level}`})}},euN=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,euP=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,euF=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,euL=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,euD=enx.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[eny({find:euN,type:this.type}),eny({find:euF,type:this.type})]},addPasteRules(){return[enT({find:euP,type:this.type}),enT({find:euL,type:this.type})]}}),euW=euD.extend({name:"em"}),euU=new ei9([eiP.RichTextNodeType.em],euW.name,euW,{fromPrismic:t=>function(){var n;return null==(n=t.marks[euW.name])?void 0:n.create()},toPrismic(){}}),euz=en_.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",eeN(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),euB=enx.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:n})=>{let r=etV(t,this.type);return!!Object.entries(r).some(([,t])=>!!t)||n.unsetMark(this.name)}}}}),euq=/^(\d+)\.\s$/,euK=en_.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){let{start:n,...r}=t;return 1===n?["ol",eeN(this.options.HTMLAttributes,r),0]:["ol",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(euz.name,this.editor.getAttributes(euB.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=enb({find:euq,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=enb({find:euq,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(euB.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[t]}}),eu$=euK.extend({name:"orderedList",addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),renderHTML({HTMLAttributes:t}){let{start:n,...r}=t;return 1===n?["ol",eeN(this.options.HTMLAttributes,r),0]:["ol",eeN(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}}}).configure({itemTypeName:"listItem"}),euV=new ei7([eiP.RichTextNodeType.orderedList],eu$.name,eu$,{fromPrismic:t=>function(n){var r;let i=eof.converter.fromPrismic(t)(n);if(i)return null==(r=t.nodes[eu$.name])?void 0:r.create(euu.fromPrismic(n),i)},toPrismic:t=>sD(eou.children.map(t,t=>sB(t=>void 0!==t)(eof.converter.toPrismic(t,eiP.RichTextNodeType.orderedList))))}),euH=euV,euZ=[eot,euU],euJ=t=>{var n;return[...[eul,eub,euH,euj.build(t),euw,euk].filter(VM),...euZ]},euG=[{nodeType:eiP.RichTextNodeType.paragraph,icon:v.jsx(l.I5,{name:"textFields"}),isActive:t=>t.isActive(eul.name)&&!t.isActive(eub.name)&&!t.isActive(euH.name),runCommands:euX((t,n)=>t.clearNodes().setDirection(eu0(n))),shortText:"par",text:"Paragraph"},{nodeType:eiP.RichTextNodeType.heading1,icon:v.jsx(l.I5,{name:"looks1"}),isActive:t=>t.isActive(euj.name,{level:1}),runCommands:euX((t,n)=>t.setHeading({level:1}).setDirection(eu0(n))),shortText:"h1",text:"Heading 1"},{nodeType:eiP.RichTextNodeType.heading2,icon:v.jsx(l.I5,{name:"looks2"}),isActive:t=>t.isActive(euj.name,{level:2}),runCommands:euX((t,n)=>t.setHeading({level:2}).setDirection(eu0(n))),shortText:"h2",text:"Heading 2"},{nodeType:eiP.RichTextNodeType.heading3,icon:v.jsx(l.I5,{name:"looks3"}),isActive:t=>t.isActive(euj.name,{level:3}),runCommands:euX((t,n)=>t.setHeading({level:3}).setDirection(eu0(n))),shortText:"h3",text:"Heading 3"},{nodeType:eiP.RichTextNodeType.heading4,icon:v.jsx(l.I5,{name:"looks4"}),isActive:t=>t.isActive(euj.name,{level:4}),runCommands:euX((t,n)=>t.setHeading({level:4}).setDirection(eu0(n))),shortText:"h4",text:"Heading 4"},{nodeType:eiP.RichTextNodeType.heading5,icon:v.jsx(l.I5,{name:"looks5"}),isActive:t=>t.isActive(euj.name,{level:5}),runCommands:euX((t,n)=>t.setHeading({level:5}).setDirection(eu0(n))),shortText:"h5",text:"Heading 5"},{nodeType:eiP.RichTextNodeType.heading6,icon:v.jsx(l.I5,{name:"looks6"}),isActive:t=>t.isActive(euj.name,{level:6}),runCommands:euX((t,n)=>t.setHeading({level:6}).setDirection(eu0(n))),shortText:"h6",text:"Heading 6"},{nodeType:eiP.RichTextNodeType.list,icon:v.jsx(l.I5,{name:"formatListBulleted"}),isActive:t=>t.isActive(eub.name),runCommands:euX((t,n)=>t.toggleBulletList().setDirection(eu0(n))),shortText:"bull",text:"Bulleted list"},{nodeType:eiP.RichTextNodeType.orderedList,icon:v.jsx(l.I5,{name:"formatListNumbered"}),isActive:t=>t.isActive(euH.name),runCommands:euX((t,n)=>t.toggleOrderedList().setDirection(eu0(n))),shortText:"num",text:"Numbered list"},{nodeType:eiP.RichTextNodeType.preformatted,icon:v.jsx(l.I5,{name:"dataObject"}),isActive:t=>t.isActive(euw.name),runCommands:euX((t,n)=>t.setCodeBlock().setDirection(eu0(n))),shortText:"code",text:"Code"},{nodeType:eiP.RichTextNodeType.embed,icon:v.jsx(l.I5,{name:"cloud"}),isActive:t=>t.isActive(euk.name),runCommands:euX((t,n)=>t.setEmbed().setDirection(eu0(n))),shortText:"emb",text:"Embed"}],euY=[{nodeType:eiP.RichTextNodeType.strong,icon:v.jsx(l.I5,{name:"formatBold"}),isActive:t=>t.isActive(eot.name),runCommands:euX(t=>t.toggleBold())},{nodeType:eiP.RichTextNodeType.em,icon:v.jsx(l.I5,{name:"formatItalic"}),isActive:t=>t.isActive(euU.name),runCommands:euX(t=>t.toggleItalic())}],euQ=[{nodeType:eiP.RichTextNodeType.rtl,icon:v.jsx(l.I5,{name:"formatTextDirectionRToL"}),isActive:t=>t.isActive({dir:eui.RightToLeft}),runCommands:euX((t,n)=>t.toggleDirection(eu0(n)))}];function euX(t){return(n,r={})=>{let i=!0===r.can?n.can().chain():n.chain().focus();return void 0!==r.deleteRange&&(i=i.deleteRange(r.deleteRange)),t(i,n).run()}}function eu0(t){let n=t.state.selection.$from.parent.attrs;return euu.parseNodeAttrsDirection(n)}function eu1(t,n){return t.filter(t=>n.includes(t.nodeType))}let eu2={duration:100,hideOnClick:!0,offset:[-48,parseFloat(l.TV.space[8])],placement:"top-start",zIndex:parseFloat(l.TV.zIndex.toolbar)},eu3=({editor:t,nodeTypes:n})=>{var r;let i=eu1(euG,n),o=eu1(euY,n),a=eu1(euQ,n),u=[i.length>1?v.jsx(l.vT,{onValueChange(n){var r;null==(r=i.find(t=>t.nodeType===n))||r.runCommands(t)},value:(null==(r=i.find(n=>n.isActive(t)))?void 0:r.nodeType)??"",children:i.map(t=>v.jsx(l.kT,{value:t.nodeType,children:t.text},t.nodeType))},"node"):null,o.length>0?v.jsx(l.dV,{onValueChange(n){o.forEach(r=>{(r.isActive(t)&&!n.includes(r.nodeType)||!r.isActive(t)&&n.includes(r.nodeType))&&r.runCommands(t)})},type:"multiple",value:o.filter(n=>n.isActive(t)).map(t=>t.nodeType),children:o.map(n=>v.jsx(l.nG,{disabled:!n.runCommands(t,{can:!0}),startIcon:n.icon,value:n.nodeType},n.nodeType))},"mark"):null,a.length>0?v.jsx(c.Fragment,{children:a.map(n=>v.jsx(l.r8,{disabled:!n.runCommands(t,{can:!0}),onPressedChange(){n.runCommands(t)},pressed:n.isActive(t),startIcon:n.icon},n.nodeType))},"extra"):null,i.length+o.length+a.length>1?v.jsx(l.hA,{onClick(){t.chain().focus().clearNodes().unsetAllMarks().run()},startIcon:v.jsx(l.I5,{name:"formatClear"})},"clear"):null].filter(VM).map((t,n)=>v.jsxs(c.Fragment,{children:[0===n?null:v.jsx(l.Jf,{}),t]},t.key));return u.length>0?v.jsx(eiw,{editor:t,tippyOptions:eu2,children:v.jsx(l.o8,{children:u})}):null},eu5=t=>{var n;let{content:r,field:i,id:o,readOnly:a,config:u}=t,s=r&&eom.converter(u.nodeExtensions).fromPrismic(u.schema,null==(n=u.defaultTextConverter)?void 0:n.call(u,u.schema))(r),c=Vv(t.onContentChange),f=eiN({...s?{content:s.toJSON()}:{},editable:!a,editorProps:{attributes:{class:l.rk,id:o,tabIndex:"0"}},extensions:u.allComponents,injectCSS:!1,onUpdate({editor:t}){if(t.isEmpty)return c(void 0);let n=eom.converter(u.nodeExtensions).toPrismic(t.state.doc);c(n)}},[o,a,c]);return v.jsxs(l.gN,{children:[v.jsx(l.Qy,{htmlFor:o,children:V_(i)}),v.jsx(l.JO,{children:v.jsxs(v.Fragment,{children:[v.jsx(eiM,{editor:f,style:{flex:1}}),(null==f?void 0:f.isEditable)&&v.jsx(eu3,{editor:f,nodeTypes:u.names.concat(euo)})]})})]})},eu4=t=>{let{field:n}=t,r=(0,c.useMemo)(()=>{let{extensions:t,defaultTextConverter:r}=function(t){let n=function(t){if(!(null!=t&&t.single)&&!(null!=t&&t.multi))return;let n=D((t.single||t.multi||"").split(/\s*,\s*/),sW(t=>mt(()=>{})(eiP.RichTextNodeTypeCodec.decode(t))),sB(VM));return new Set(n)}(t);return function(t){if(!t||!t.size)return{defaultTextConverter:void 0,extensions:euJ()};let n=euJ(t),r=Array.from(t.values()),i=(()=>{let t=sB(t=>r.some(n=>t.richTextNodeTypes.includes(n)))(n),i=t.some(t=>t instanceof ei7)?[eul,...t]:t;return i.some(t=>t instanceof ei6)?i:[eul,...i]})(),o=i.find(t=>t instanceof ei6)||eul;return{defaultTextConverter:function(t){return n=>o.converter.fromPrismic(t)({...n,type:o.richTextNodeTypes[0]})},extensions:i}}(n)}(n.config),i=sB(t=>t.extType===ei5.Node)(t),o=t.flatMap(t=>t.richTextNodeTypes),a=t.map(t=>t.component),u=[...function(t,n){var r,i;let o=n.map(t=>t.richTextNodeTypes).flat(),a={placeholderByNodeType:D(n,sB(t=>t.nodeType===ei4.Text),s0({},(t,n)=>({...t,[n.name]:n.placeholder}))),unfocusedPlaceholder:null==(r=t.config)?void 0:r.placeholder,nodeExtensions:n},u=o.includes(eiP.RichTextNodeType.orderedList)||o.includes(eiP.RichTextNodeType.list);return sB(t=>void 0!==t)([eom.component((null==(i=t.config)?void 0:i.single)===void 0),eun.component,eox.component,eoS(a),u?eof.component:void 0,euh.configure({nodeTypes:o})])}(n,i),eua.configure({supportedExtensionNames:sB(t=>t.extType===ei5.Node&&t.nodeType===ei4.Text&&!t.lockedFormat)(t).map(t=>t.name)}),...a,enz],s=u.map(t=>t.name),c=function(t,n){let r=eeG.resolve(t);return eeU(r,void 0)}(u);return{allComponents:u,extensionsNames:s,defaultTextConverter:r,nodeExtensions:i,names:o,schema:c}},[n]);return v.jsx(eu5,{...t,config:r},r.extensionsNames.join("-"))},eu9=({content:t,field:n,id:r,onContentChange:i,readOnly:o})=>{var a,u,s,c,f;let d=VS(n),p=(s=n,(null==(c=s.config)?void 0:c.default_value)===void 0||null==(f=s.config.options)?void 0:f[0]),h=(null==t?void 0:t.value)??p;return v.jsxs(l.gN,{children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"arrowDropDownCircle"})}),v.jsx(l.Qy,{htmlFor:r,children:V_(n)}),v.jsx(l.JO,{children:v.jsxs(l.Ph,{id:r,onValueChange(t){var n;o||i((n=t,0===n.length?void 0:{__TYPE__:"FieldContent",type:"Select",value:n}))},placeholder:d,...void 0===h?{}:{value:h},children:[void 0===h||void 0!==p?null:v.jsx(l.Ql,{value:"",children:d}),null==(u=null==(a=n.config)?void 0:a.options)?void 0:u.map(t=>v.jsx(l.Ql,{value:t,children:t},t))]})})]},h)},eu6=({id:t,readOnly:n,field:r,content:i,onContentChange:o})=>v.jsxs(l.gN,{children:[v.jsx(l.fw,{children:v.jsx(l.I5,{name:"event"})}),v.jsx(l.Qy,{id:t,children:V_(r)}),v.jsx(l.JO,{children:v.jsx(v.Fragment,{children:v.jsx(l.xu,{padding:{left:4,right:12},width:"100%",flexDirection:"column",justifyContent:"center",children:v.jsx(l.Wr,{mode:"date-time","aria-labelledby":t,readOnly:n,value:null==i?void 0:i.value,onValueChange:t=>o(eu8(t))})})})})]}),eu8=t=>void 0===t?void 0:{__TYPE__:"FieldContent",type:"Timestamp",value:t};function eu7(t){let{id:n,readOnly:r,content:i,nestableWidget:o}=t,a=Vv(t.onContentChange);return(0,c.useMemo)(()=>{let t={id:n,readOnly:r,onContentChange:a};return"Boolean"===o.type?v.jsx(VT,{...t,field:o,content:o_.isBooleanContent(i)?i:void 0}):"Date"===o.type?v.jsx(Vk,{...t,field:o,content:o_.isDateContent(i)?i:void 0}):"Timestamp"===o.type?v.jsx(eu6,{...t,field:o,content:o_.isTimestampContent(i)?i:void 0}):"Image"===o.type?v.jsx(Jl,{...t,field:o,content:o_.isImageContent(i)?i:void 0}):"Link"===o.type?v.jsx(JR,{...t,field:o,content:o_.isLinkContent(i)?i:void 0}):"Number"===o.type?v.jsx(JP,{...t,field:o,content:o_.isNumberContent(i)?i:void 0}):"StructuredText"===o.type?v.jsx(eu4,{...t,field:o,content:o_.isRichTextContent(i)?i:void 0}):"Select"===o.type?v.jsx(eu9,{...t,field:o,content:o_.isSelectContent(i)?i:void 0}):"Text"===o.type?v.jsx(Jh,{...t,field:o,content:o_.isTextContent(i)?i:void 0}):"Embed"===o.type?v.jsx(ZO,{...t,field:o,content:o_.isEmbedContent(i)?i:void 0}):"Color"===o.type?v.jsx(VO,{...t,field:o,content:o_.isColorContent(i)?i:void 0}):"GeoPoint"===o.type?v.jsx(ZE,{...t,field:o,content:o_.isGeoPointContent(i)?i:void 0}):null},[i,n,o,a,r])}let ese=({content:t,id:n,nonRepeatableZone:r,onContentChange:i,readOnly:o})=>{let a=(0,c.useMemo)(()=>Object.entries(r),[r]);return v.jsx(v.Fragment,{children:a.map(([r,a])=>{let u=t[r];return v.jsx(eu7,{id:`${n}.${r}`,readOnly:o,nestableWidget:a,content:o_.isNestableContent(u)?u:void 0,onContentChange(n){var o,a,u;i((o=t,a=r,u=n,void 0===u?rR(a)(o):{...o,[a]:u}))}},r)})})};function est(t,n){return t<0||t>=n}let esn=0,esr=({id:t,title:n,content:r,onContentChange:i,readOnly:o,repeatableZone:a})=>{var u;let s=(0,c.useMemo)(()=>Object.entries(a),[a]),f=(u=r,u??[esi]),d=(0,c.useRef)(new Map);return function(t,n){let r=new Set(n);n.forEach(n=>{t.has(n)||t.set(n,esn++)}),(0,c.useLayoutEffect)(()=>{for(let[n]of t)r.has(n)||t.delete(n)})}(d.current,f),0===Object.keys(a).length?null:v.jsx(l.ZA,{title:"Repeatable zone"+(n?`  ${n}`:""),addItemButtonTitle:"Add item in group",items:f,getItemKey:t=>d.current.get(t)??"bugged",onAddItem:()=>i(f.concat(eso())),children(n,r){let a=new Map(n.value);return v.jsx(l.MN,{index:r,title:"Item",onMove({index:t,offset:n}){i(function(t,n,r){let i=t.length;if(est(n,i)||est(r,i))return t;let o=[...t],a=o[n],u=o[r];return o[n]=u,o[r]=a,o}(f,t,t+n))},onDelete({index:t}){var n,r;return i(f.filter((n,r)=>r!==t))},children:s.map(([u,s])=>{let c=a.get(u);return v.jsx(eu7,{content:o_.isNestableContent(c)?c:void 0,id:`${t}[${r}].${u}`,nestableWidget:s,onContentChange(t){let o=function(t,n){let[r,i]=n,o=i?Array.from(new Map(t.value).set(r,i)):t.value.filter(([t])=>t!==r);return eso(o)}(n,[u,t]),a=function(t,n){let[r,i]=n;return i?t.map((t,n)=>n===r?i:t):t.filter((t,n)=>n!==r)}(f,[r,o]);(function(t,n,r){let i=t.get(n);void 0!==i&&t.set(r,i)})(d.current,n,o),i(a)},readOnly:o},u)})})}})},esi={__TYPE__:"GroupItemContent",value:[]},eso=(t=[])=>({__TYPE__:"GroupItemContent",value:t});function esa(t){var n,r,i,o;let{config:a,content:u,sliceKey:s,selected:f=!1,readOnly:d=!1,sharedSlice:p,onContentChange:h,...m}=t,g=(n=p,r=u.variation,(0,c.useMemo)(()=>n.variations.find(t=>t.id===r),[n,r])),y=(0,c.useId)();if(void 0===g)return null;let b={id:m.id??y,readOnly:d};return v.jsx(iQ.Provider,{value:a,children:v.jsxs(l.C3,{id:s,selected:f,children:[v.jsx(l.ax,{children:(i=p,o=g,[i.name,o.name].join("  "))}),v.jsx(ese,{...b,nonRepeatableZone:g.primary??{},content:u.primary,onContentChange(t){h({...u,primary:t})}}),v.jsx(esr,{...b,repeatableZone:g.items??{},content:u.items,onContentChange(t){h({...u,items:t})}})]})})}}}]);